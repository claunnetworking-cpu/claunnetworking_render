class AdminFunctions{constructor(){this.apiBaseUrl="/api",this.currentFilters={},this.selectedItems=new Set,this.init()}init(){this.setupEventListeners(),this.loadInitialData()}setupEventListeners(){var e=document.getElementById("select-all");e&&e.addEventListener("change",e=>{this.toggleSelectAll(e.target.checked)}),document.addEventListener("change",e=>{e.target.classList.contains("row-checkbox")&&this.handleRowSelection(e.target)}),document.addEventListener("change",e=>{e.target.id.includes("-filter")&&this.applyFilters()})}loadInitialData(){this.loadPendingData(),this.loadOpportunitiesData(),this.loadCoursesData(),this.loadCompaniesData(),this.loadUsersData(),this.loadAuditData(),this.loadNotificationsData()}loadPendingData(){this.populateTable("pending-table-body",[{id:"pend_001",type:"Vaga",title:"Desenvolvedor Frontend React",company:"TechCorp Brasil",area:"Tecnologia",date:"2025-10-03",status:"Pendente",details:{description:"Vaga para desenvolvedor React com experi√™ncia em TypeScript",salary:"R$ 8.000 - R$ 12.000",location:"S√£o Paulo, SP",requirements:["React","TypeScript","Node.js"]}},{id:"pend_002",type:"Curso",title:"Marketing Digital Avan√ßado",company:"InnovateEdu",area:"Marketing",date:"2025-10-02",status:"Pendente",details:{description:"Curso completo de marketing digital com certifica√ß√£o",duration:"40 horas",price:"R$ 499,00",modules:["SEO","Google Ads","Social Media","Analytics"]}},{id:"pend_003",type:"Premium",title:"Plano Empresarial - StartupXYZ",company:"StartupXYZ",area:"Tecnologia",date:"2025-10-01",status:"Pendente",details:{plan:"Empresarial",value:"R$ 999,00/m√™s",features:["Vagas ilimitadas","Destaque premium","Analytics avan√ßado"]}}],this.renderPendingRow.bind(this))}renderPendingRow(e){return`
            <tr data-id="${e.id}">
                <td><input type="checkbox" class="row-checkbox" data-id="${e.id}"></td>
                <td><span class="type-badge type-${e.type.toLowerCase()}">${e.type}</span></td>
                <td><strong>${e.title}</strong></td>
                <td>${e.company}</td>
                <td><span class="area-tag area-${e.area.toLowerCase()}">${e.area}</span></td>
                <td>${this.formatDate(e.date)}</td>
                <td><span class="status-badge status-pending">${e.status}</span></td>
                <td>
                    <button class="btn btn-sm btn-secondary" onclick="adminFunctions.viewDetails('${e.id}', 'pending')">üëÅÔ∏è Ver</button>
                    <button class="btn btn-sm btn-success" onclick="adminFunctions.approveItem('${e.id}')">‚úÖ Aprovar</button>
                    <button class="btn btn-sm btn-danger" onclick="adminFunctions.rejectItem('${e.id}')">‚ùå Reprovar</button>
                </td>
            </tr>
        `}loadOpportunitiesData(){this.populateTable("opportunities-table-body",[{id:"opp_001",type:"Vaga",title:"Engenheiro de Software Senior",company:"DevSolutions",status:"Ativa",likes:120,views:1500,date:"2025-09-28",applications:45},{id:"opp_002",type:"Vaga",title:"Analista de Marketing Digital",company:"MarketMinds",status:"Fechada",likes:80,views:950,date:"2025-09-15",applications:32},{id:"opp_003",type:"Curso",title:"Bootcamp Full Stack",company:"CodeAcademy",status:"Ativa",likes:200,views:2800,date:"2025-09-20",enrollments:150}],this.renderOpportunityRow.bind(this))}renderOpportunityRow(e){var t="Ativa"===e.status?"status-approved":"status-rejected";"Vaga"===e.type?e.applications:e.enrollments;return`
            <tr data-id="${e.id}">
                <td><span class="type-badge type-${e.type.toLowerCase()}">${e.type}</span></td>
                <td><strong>${e.title}</strong></td>
                <td>${e.company}</td>
                <td><span class="status-badge ${t}">${e.status}</span></td>
                <td>‚ù§Ô∏è ${e.likes}</td>
                <td>üëÅÔ∏è ${e.views}</td>
                <td>${this.formatDate(e.date)}</td>
                <td>
                    <button class="btn btn-sm btn-secondary" onclick="adminFunctions.viewDetails('${e.id}', 'opportunity')">üëÅÔ∏è Ver</button>
                    <button class="btn btn-sm btn-primary" onclick="adminFunctions.editItem('${e.id}', 'opportunity')">‚úèÔ∏è Editar</button>
                    <button class="btn btn-sm btn-danger" onclick="adminFunctions.deleteItem('${e.id}', 'opportunity')">üóëÔ∏è Excluir</button>
                </td>
            </tr>
        `}loadCoursesData(){this.populateTable("courses-table-body",[{id:"course_001",title:"Introdu√ß√£o ao React",institution:"CodeAcademy",students:1500,status:"Ativo",price:"Gr√°tis",rating:4.8,duration:"20 horas"},{id:"course_002",title:"Especializa√ß√£o em UX/UI",institution:"DesignSchool",students:800,status:"Ativo",price:"R$ 499",rating:4.9,duration:"60 horas"},{id:"course_003",title:"Python para Data Science",institution:"DataInstitute",students:1200,status:"Pausado",price:"R$ 299",rating:4.7,duration:"40 horas"}],this.renderCourseRow.bind(this))}renderCourseRow(e){var t="Ativo"===e.status?"status-approved":"status-warning",a="Gr√°tis"===e.price?'<span class="price-free">Gr√°tis</span>':`<span class="price-paid">${e.price}</span>`;return`
            <tr data-id="${e.id}">
                <td><strong>${e.title}</strong><br><small>‚≠ê ${e.rating} ‚Ä¢ ${e.duration}</small></td>
                <td>${e.institution}</td>
                <td>üë• ${e.students.toLocaleString()}</td>
                <td><span class="status-badge ${t}">${e.status}</span></td>
                <td>${a}</td>
                <td>
                    <button class="btn btn-sm btn-secondary" onclick="adminFunctions.viewDetails('${e.id}', 'course')">üëÅÔ∏è Ver</button>
                    <button class="btn btn-sm btn-primary" onclick="adminFunctions.editItem('${e.id}', 'course')">‚úèÔ∏è Editar</button>
                    <button class="btn btn-sm btn-warning" onclick="adminFunctions.toggleCourseStatus('${e.id}')">‚è∏Ô∏è Pausar</button>
                    <button class="btn btn-sm btn-danger" onclick="adminFunctions.deleteItem('${e.id}', 'course')">üóëÔ∏è Excluir</button>
                </td>
            </tr>
        `}loadCompaniesData(){this.populateTable("companies-table-body",[{id:"comp_001",name:"TechCorp Brasil",cnpj:"12.345.678/0001-99",plan:"Profissional",balance:"R$ 599,00",jobs:5,likes:1200,views:15e3,status:"Ativo"},{id:"comp_002",name:"Innovate Solutions",cnpj:"98.765.432/0001-11",plan:"B√°sico",balance:"R$ 299,00",jobs:2,likes:500,views:7e3,status:"Ativo"},{id:"comp_003",name:"StartupXYZ",cnpj:"11.222.333/0001-44",plan:"Empresarial",balance:"R$ 0,00",jobs:0,likes:50,views:800,status:"Suspenso"}],this.renderCompanyRow.bind(this))}renderCompanyRow(e){e.status;var t="plan-"+e.plan.toLowerCase();return`
            <tr data-id="${e.id}">
                <td><strong>${e.name}</strong></td>
                <td>${e.cnpj}</td>
                <td><span class="plan-badge ${t}">${e.plan}</span></td>
                <td>${e.balance}</td>
                <td>üíº ${e.jobs}</td>
                <td>‚ù§Ô∏è ${e.likes}</td>
                <td>üëÅÔ∏è ${e.views.toLocaleString()}</td>
                <td>
                    <button class="btn btn-sm btn-secondary" onclick="adminFunctions.viewDetails('${e.id}', 'company')">üëÅÔ∏è Ver</button>
                    <button class="btn btn-sm btn-warning" onclick="adminFunctions.suspendCompany('${e.id}')">‚è∏Ô∏è Suspender</button>
                    <button class="btn btn-sm btn-primary" onclick="adminFunctions.editCompanyPlan('${e.id}')">üí∞ Plano</button>
                </td>
            </tr>
        `}loadUsersData(){this.populateTable("users-table-body",[{id:"user_001",name:"Jo√£o da Silva",email:"joao.silva@example.com",type:"Candidato",registered:"2025-09-01",lastAccess:"2025-10-03",status:"Ativo"},{id:"user_002",name:"Maria Oliveira",email:"maria.oliveira@example.com",type:"Recrutador",registered:"2025-08-15",lastAccess:"2025-10-02",status:"Ativo"},{id:"user_003",name:"Carlos Santos",email:"carlos.santos@example.com",type:"Candidato",registered:"2025-07-20",lastAccess:"2025-09-15",status:"Inativo"}],this.renderUserRow.bind(this))}renderUserRow(e){var t="Ativo"===e.status?"status-approved":"status-warning",a="type-"+e.type.toLowerCase();return`
            <tr data-id="${e.id}">
                <td><strong>${e.name}</strong></td>
                <td>${e.email}</td>
                <td><span class="type-badge ${a}">${e.type}</span></td>
                <td>${this.formatDate(e.registered)}</td>
                <td>${this.formatDate(e.lastAccess)}</td>
                <td><span class="status-badge ${t}">${e.status}</span></td>
                <td>
                    <button class="btn btn-sm btn-secondary" onclick="adminFunctions.viewDetails('${e.id}', 'user')">üëÅÔ∏è Ver</button>
                    <button class="btn btn-sm btn-primary" onclick="adminFunctions.editUser('${e.id}')">‚úèÔ∏è Editar</button>
                    <button class="btn btn-sm btn-danger" onclick="adminFunctions.deleteUser('${e.id}')">üóëÔ∏è Excluir</button>
                </td>
            </tr>
        `}loadAuditData(){this.populateTable("audit-table-body",[{id:"audit_001",datetime:"2025-10-03 14:30:15",user:"admin@claunnetworkingworking.com",action:"Aprova√ß√£o",resource:"Vaga",resourceId:"vaga_123",details:'Vaga "Desenvolvedor React" aprovada'},{id:"audit_002",datetime:"2025-10-03 13:45:22",user:"admin@claunnetworkingworking.com",action:"Cria√ß√£o",resource:"Curso",resourceId:"curso_456",details:'Novo curso "Python B√°sico" criado'},{id:"audit_003",datetime:"2025-10-03 12:15:08",user:"admin@claunnetworkingworking.com",action:"Exclus√£o",resource:"Usu√°rio",resourceId:"user_789",details:"Usu√°rio spam removido do sistema"}],this.renderAuditRow.bind(this))}renderAuditRow(e){var t="action-"+e.action.toLowerCase();return`
            <tr data-id="${e.id}">
                <td>${this.formatDateTime(e.datetime)}</td>
                <td>${e.user}</td>
                <td><span class="action-badge ${t}">${e.action}</span></td>
                <td>${e.resource}</td>
                <td><code>${e.resourceId}</code></td>
                <td>${e.details}</td>
            </tr>
        `}loadNotificationsData(){this.populateTable("notifications-table-body",[{id:"notif_001",datetime:"2025-10-03 15:20:30",type:"Email",recipient:"empresa@teste.com",status:"Enviado",message:"Confirma√ß√£o de pagamento do plano Profissional"},{id:"notif_002",datetime:"2025-10-03 14:15:45",type:"Webhook",recipient:"api.payment.com",status:"Falhou",message:"Erro ao processar webhook de pagamento"},{id:"notif_003",datetime:"2025-10-03 13:30:12",type:"SMS",recipient:"+55 11 99999-1234",status:"Enviado",message:"C√≥digo de verifica√ß√£o para login"}],this.renderNotificationRow.bind(this))}renderNotificationRow(e){var t="Enviado"===e.status?"status-approved":"status-rejected",a="type-"+e.type.toLowerCase();return`
            <tr data-id="${e.id}">
                <td>${this.formatDateTime(e.datetime)}</td>
                <td><span class="type-badge ${a}">${e.type}</span></td>
                <td>${e.recipient}</td>
                <td><span class="status-badge ${t}">${e.status}</span></td>
                <td>${e.message}</td>
                <td>
                    <button class="btn btn-sm btn-secondary" onclick="adminFunctions.viewNotificationDetails('${e.id}')">üëÅÔ∏è Ver</button>
                    ${"Falhou"===e.status?'<button class="btn btn-sm btn-warning" onclick="adminFunctions.retryNotification(\''+e.id+"')\">üîÑ Reenviar</button>":""}
                </td>
            </tr>
        `}approveItem(e){confirm("Tem certeza que deseja aprovar este item?")&&(this.showSuccessMessage("Item aprovado com sucesso!"),this.updateItemStatus(e,"Aprovado"))}rejectItem(e){null!==prompt("Motivo da rejei√ß√£o (opcional):")&&(this.showSuccessMessage("Item rejeitado com sucesso!"),this.updateItemStatus(e,"Rejeitado"))}bulkApprove(){0===this.selectedItems.size?alert("Nenhum item selecionado."):confirm(`Aprovar ${this.selectedItems.size} itens selecionados?`)&&(this.selectedItems.forEach(e=>{this.updateItemStatus(e,"Aprovado")}),this.showSuccessMessage(this.selectedItems.size+" itens aprovados com sucesso!"),this.clearSelection())}bulkReject(){0===this.selectedItems.size?alert("Nenhum item selecionado."):null!==prompt("Motivo da rejei√ß√£o em lote (opcional):")&&(this.selectedItems.forEach(e=>{this.updateItemStatus(e,"Rejeitado")}),this.showSuccessMessage(this.selectedItems.size+" itens rejeitados com sucesso!"),this.clearSelection())}toggleSelectAll(t){document.querySelectorAll(".row-checkbox").forEach(e=>{e.checked=t,this.handleRowSelection(e)})}handleRowSelection(e){var t=e.dataset.id;e.checked?this.selectedItems.add(t):this.selectedItems.delete(t),this.updateBulkActions()}updateBulkActions(){var e=document.getElementById("bulk-actions"),t=document.getElementById("selected-count");e&&t&&(0<this.selectedItems.size?(e.classList.add("show"),t.textContent=this.selectedItems.size+" itens selecionados"):e.classList.remove("show"))}clearSelection(){this.selectedItems.clear(),document.querySelectorAll(".row-checkbox").forEach(e=>e.checked=!1),document.getElementById("select-all").checked=!1,this.updateBulkActions()}exportMetrics(){this.showSuccessMessage("Dados de m√©tricas exportados com sucesso!"),this.simulateDownload("metricas_"+this.getCurrentDate()+".xlsx")}exportTransactions(){this.showSuccessMessage("Transa√ß√µes exportadas com sucesso!"),this.simulateDownload("transacoes_"+this.getCurrentDate()+".csv")}exportReport(e){this.showSuccessMessage(`Relat√≥rio exportado em formato ${e.toUpperCase()}!`),this.simulateDownload(`relatorio_${this.getCurrentDate()}.`+e)}viewDetails(e,t){alert(`Visualizando detalhes do ${t} ID: `+e)}editItem(e,t){alert(`Editando ${t} ID: `+e)}deleteItem(e,t){confirm(`Tem certeza que deseja excluir este ${t}?`)&&(this.showSuccessMessage(t+" exclu√≠do com sucesso!"),this.removeTableRow(e))}populateTable(e,t,a){e=document.getElementById(e);e&&(e.innerHTML=t.map(a).join(""))}updateItemStatus(e,t){var e=document.querySelector(`tr[data-id="${e}"]`);e&&(e=e.querySelector(".status-badge"))&&(e.textContent=t,e.className="status-badge status-"+t.toLowerCase())}removeTableRow(e){e=document.querySelector(`tr[data-id="${e}"]`);e&&e.remove()}formatDate(e){return new Date(e).toLocaleDateString("pt-BR")}formatDateTime(e){return new Date(e).toLocaleString("pt-BR")}getCurrentDate(){return(new Date).toISOString().split("T")[0]}showSuccessMessage(e){let t=document.createElement("div");t.className="toast toast-success",t.innerHTML=`
            <div class="toast-content">
                <span class="toast-icon">‚úÖ</span>
                <span class="toast-message">${e}</span>
            </div>
        `,document.body.appendChild(t),setTimeout(()=>{t.remove()},3e3)}simulateDownload(e){console.log("Download simulado: "+e)}applyFilters(){console.log("Aplicando filtros...")}updateMetricsPeriod(){var e=document.getElementById("metrics-period").value;console.log(`Atualizando m√©tricas para per√≠odo: ${e} dias`),this.showSuccessMessage(`M√©tricas atualizadas para os √∫ltimos ${e} dias`)}}window.adminFunctions=new AdminFunctions,window.showPage=function(e){document.querySelectorAll(".page-content").forEach(e=>{e.classList.remove("active")});var t=document.getElementById(e+"-page"),t=(t&&t.classList.add("active"),document.getElementById("page-title")),e=document.querySelector(`.sidebar-nav a[href="#${e}"]`);t&&e&&(t.textContent=e.textContent.replace(/\S+\s/,"")),document.querySelectorAll(".sidebar-nav a").forEach(e=>{e.classList.remove("active")}),e&&e.classList.add("active")},window.logout=function(){confirm("Tem certeza que deseja sair?")&&(alert("Logout efetuado com sucesso!"),window.location.href="index.html")},window.bulkApprove=()=>adminFunctions.bulkApprove(),window.bulkReject=()=>adminFunctions.bulkReject(),window.toggleSelectAll=()=>adminFunctions.toggleSelectAll(),window.filterPending=()=>adminFunctions.applyFilters(),window.updateMetricsPeriod=()=>adminFunctions.updateMetricsPeriod(),window.exportMetrics=()=>adminFunctions.exportMetrics(),window.exportTransactions=()=>adminFunctions.exportTransactions(),window.exportReport=e=>adminFunctions.exportReport(e),console.log("Funcionalidades Administrativas Avan√ßadas carregadas!");class AdvancedAnalyticsSystem{constructor(){this.sessionId=this.generateSessionId(),this.userId=this.getUserId(),this.events=[],this.metrics={},this.heatmapData=[],this.performanceData={},this.userJourney=[],this.conversionFunnels={},this.realTimeData={},this.init()}init(){this.setupEventTracking(),this.setupPerformanceTracking(),this.setupHeatmapTracking(),this.setupUserJourneyTracking(),this.setupConversionTracking(),this.setupRealTimeTracking(),this.setupErrorTracking(),this.startDataCollection(),this.createAnalyticsDashboard()}generateSessionId(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}getUserId(){let e=localStorage.getItem("analytics_user_id");return e||(e="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("analytics_user_id",e)),e}setupEventTracking(){document.addEventListener("click",e=>{this.trackEvent("click",{element:e.target.tagName.toLowerCase(),className:e.target.className,id:e.target.id,text:e.target.textContent?.substring(0,100),x:e.clientX,y:e.clientY,timestamp:Date.now(),url:window.location.href})}),document.addEventListener("submit",e=>{var t,a,e=e.target,i={};for([t,a]of new FormData(e).entries())i[t]="string"==typeof a?a.substring(0,50):"file";this.trackEvent("form_submit",{formId:e.id,formClass:e.className,fields:Object.keys(i),fieldCount:Object.keys(i).length,timestamp:Date.now(),url:window.location.href})}),document.addEventListener("input",e=>{"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName||this.trackEvent("input_change",{fieldName:e.target.name||e.target.id,fieldType:e.target.type,valueLength:e.target.value.length,timestamp:Date.now()})});let e;window.addEventListener("scroll",()=>{clearTimeout(e),e=setTimeout(()=>{var e=Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100);this.trackEvent("scroll",{scrollPercent:e,scrollY:window.scrollY,timestamp:Date.now()})},100)}),this.pageStartTime=Date.now(),window.addEventListener("beforeunload",()=>{var e=Date.now()-this.pageStartTime;this.trackEvent("page_exit",{timeOnPage:e,url:window.location.href,timestamp:Date.now()})}),document.addEventListener("visibilitychange",()=>{this.trackEvent("visibility_change",{hidden:document.hidden,timestamp:Date.now()})})}setupPerformanceTracking(){window.addEventListener("load",()=>{setTimeout(()=>{var e=performance.getEntriesByType("navigation")[0];this.performanceData={loadTime:e.loadEventEnd-e.loadEventStart,domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,firstPaint:this.getFirstPaint(),firstContentfulPaint:this.getFirstContentfulPaint(),largestContentfulPaint:this.getLargestContentfulPaint(),cumulativeLayoutShift:this.getCumulativeLayoutShift(),firstInputDelay:this.getFirstInputDelay(),timestamp:Date.now()},this.trackEvent("performance",this.performanceData)},1e3)}),this.trackSlowResources(),window.addEventListener("error",e=>{this.trackEvent("javascript_error",{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:e.error?.stack?.substring(0,500),timestamp:Date.now()})})}getFirstPaint(){var e=performance.getEntriesByType("paint").find(e=>"first-paint"===e.name);return e?e.startTime:null}getFirstContentfulPaint(){var e=performance.getEntriesByType("paint").find(e=>"first-contentful-paint"===e.name);return e?e.startTime:null}getLargestContentfulPaint(){return new Promise(t=>{"PerformanceObserver"in window?(new PerformanceObserver(e=>{e=e.getEntries(),e=e[e.length-1];t(e.startTime)}).observe({entryTypes:["largest-contentful-paint"]}),setTimeout(()=>t(null),5e3)):t(null)})}getCumulativeLayoutShift(){return new Promise(e=>{if("PerformanceObserver"in window){let a=0;new PerformanceObserver(e=>{for(var t of e.getEntries())t.hadRecentInput||(a+=t.value)}).observe({entryTypes:["layout-shift"]}),setTimeout(()=>e(a),5e3)}else e(null)})}getFirstInputDelay(){return new Promise(t=>{"PerformanceObserver"in window?(new PerformanceObserver(e=>{e=e.getEntries()[0];t(e.processingStart-e.startTime)}).observe({entryTypes:["first-input"]}),setTimeout(()=>t(null),1e4)):t(null)})}trackSlowResources(){window.addEventListener("load",()=>{performance.getEntriesByType("resource").filter(e=>1e3<e.duration).forEach(e=>{this.trackEvent("slow_resource",{name:e.name,duration:e.duration,size:e.transferSize,type:e.initiatorType,timestamp:Date.now()})})})}setupHeatmapTracking(){document.addEventListener("click",e=>{this.heatmapData.push({x:e.clientX,y:e.clientY,element:e.target.tagName.toLowerCase(),timestamp:Date.now(),viewport:{width:window.innerWidth,height:window.innerHeight}})}),document.addEventListener("mousemove",e=>{Math.random()<.01&&this.heatmapData.push({x:e.clientX,y:e.clientY,type:"mousemove",timestamp:Date.now(),viewport:{width:window.innerWidth,height:window.innerHeight}})})}setupUserJourneyTracking(){this.userJourney.push({action:"page_enter",url:window.location.href,referrer:document.referrer,timestamp:Date.now(),userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight}}),window.addEventListener("beforeunload",()=>{this.userJourney.push({action:"page_exit",url:window.location.href,timeOnPage:Date.now()-this.pageStartTime,timestamp:Date.now()})}),document.addEventListener("click",e=>{"A"===e.target.tagName&&this.userJourney.push({action:"link_click",url:window.location.href,targetUrl:e.target.href,linkText:e.target.textContent?.substring(0,50),timestamp:Date.now()})})}setupConversionTracking(){this.conversionFunnels={job_application:["page_enter:/vagas.html","click:ver-detalhes","click:candidatar","form_submit:application-form"],user_registration:["page_enter:/","click:cadastro","form_submit:registration-form"],company_signup:["page_enter:/solucoes-empresas.html","click:escolher-plano","form_submit:company-form"]},this.trackFunnelProgress()}trackFunnelProgress(){Object.keys(this.conversionFunnels).forEach(e=>{let a=this.conversionFunnels[e];var t=this.getUserEvents();let i=0,o=[];t.forEach(e=>{var t=this.getEventSignature(e);i<a.length&&a[i]===t&&(o.push({step:i,stepName:a[i],timestamp:e.timestamp,completed:!0}),i++)}),0<o.length&&this.trackEvent("funnel_progress",{funnelName:e,stepsCompleted:i,totalSteps:a.length,conversionRate:i/a.length,progress:o,timestamp:Date.now()})})}getEventSignature(e){switch(e.type){case"page_enter":return"page_enter:"+new URL(e.data.url).pathname;case"click":return"click:"+(e.data.id||e.data.className);case"form_submit":return"form_submit:"+e.data.formId;default:return e.type+":"+(e.data.element||"unknown")}}setupRealTimeTracking(){setInterval(()=>{this.updateRealTimeMetrics()},5e3),this.trackActiveUser(),this.trackEngagement()}updateRealTimeMetrics(){this.realTimeData={activeUsers:this.getActiveUsersCount(),pageViews:this.getPageViewsCount(),bounceRate:this.getBounceRate(),averageSessionDuration:this.getAverageSessionDuration(),topPages:this.getTopPages(),topEvents:this.getTopEvents(),deviceBreakdown:this.getDeviceBreakdown(),trafficSources:this.getTrafficSources(),timestamp:Date.now()},this.updateDashboard()}trackActiveUser(){var e=()=>{this.trackEvent("heartbeat",{timestamp:Date.now(),url:window.location.href})};e(),setInterval(e,3e4)}trackEngagement(){let t=0,a=Date.now();document.addEventListener("click",()=>this.updateEngagement()),document.addEventListener("scroll",()=>this.updateEngagement()),document.addEventListener("input",()=>this.updateEngagement()),document.addEventListener("submit",()=>this.updateEngagement()),setInterval(()=>{var e=Date.now()-a;6e4<e&&(t=Math.max(0,t-10)),this.trackEvent("engagement_score",{score:t,timeSinceLastActivity:e,timestamp:Date.now()})},3e4)}updateEngagement(){this.lastActivity=Date.now(),this.engagementScore=Math.min(100,(this.engagementScore||0)+5)}setupErrorTracking(){window.addEventListener("error",e=>{this.trackEvent("error",{type:"javascript",message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:e.error?.stack,timestamp:Date.now()})}),window.addEventListener("unhandledrejection",e=>{this.trackEvent("error",{type:"promise_rejection",reason:e.reason?.toString(),timestamp:Date.now()})}),window.addEventListener("error",e=>{e.target!==window&&this.trackEvent("error",{type:"resource",element:e.target.tagName,source:e.target.src||e.target.href,timestamp:Date.now()})},!0)}startDataCollection(){setInterval(()=>{this.saveData()},3e4),window.addEventListener("beforeunload",()=>{this.saveData()}),setInterval(()=>{this.cleanOldData()},36e5)}trackEvent(e,t){e={id:this.generateEventId(),type:e,data:t,sessionId:this.sessionId,userId:this.userId,timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent};this.events.push(e),1e3<this.events.length&&(this.events=this.events.slice(-1e3)),this.processEventForMetrics(e)}generateEventId(){return"event_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}processEventForMetrics(e){var t=e.type;this.metrics[t]||(this.metrics[t]={count:0,firstSeen:e.timestamp,lastSeen:e.timestamp}),this.metrics[t].count++,this.metrics[t].lastSeen=e.timestamp}createAnalyticsDashboard(){console.log("Analytics system initialized in background mode")}getDashboardHTML(){return`
            <div class="dashboard-header">
                <h2>üìä Analytics em Tempo Real</h2>
                <div class="dashboard-controls">
                    <button onclick="analytics.toggleDashboard()" class="toggle-btn">‚àí</button>
                    <button onclick="analytics.exportData()" class="export-btn">üì• Exportar</button>
                </div>
            </div>
            
            <div class="dashboard-content">
                <!-- M√©tricas principais -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value" id="active-users">0</div>
                        <div class="metric-label">Usu√°rios Ativos</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="page-views">0</div>
                        <div class="metric-label">Visualiza√ß√µes</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="bounce-rate">0%</div>
                        <div class="metric-label">Taxa de Rejei√ß√£o</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="avg-session">0s</div>
                        <div class="metric-label">Sess√£o M√©dia</div>
                    </div>
                </div>

                <!-- Gr√°ficos -->
                <div class="charts-grid">
                    <div class="chart-container">
                        <h3>üìà Eventos por Tipo</h3>
                        <canvas id="events-chart" width="300" height="200"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>üî• Heatmap de Cliques</h3>
                        <div id="heatmap-container"></div>
                    </div>
                </div>

                <!-- Tabelas de dados -->
                <div class="tables-grid">
                    <div class="table-container">
                        <h3>üìÑ P√°ginas Mais Visitadas</h3>
                        <div id="top-pages-table"></div>
                    </div>
                    <div class="table-container">
                        <h3>üéØ Eventos Mais Frequentes</h3>
                        <div id="top-events-table"></div>
                    </div>
                </div>

                <!-- Performance -->
                <div class="performance-section">
                    <h3>‚ö° Performance</h3>
                    <div class="performance-metrics">
                        <div class="perf-metric">
                            <span class="perf-label">Tempo de Carregamento:</span>
                            <span class="perf-value" id="load-time">-</span>
                        </div>
                        <div class="perf-metric">
                            <span class="perf-label">First Contentful Paint:</span>
                            <span class="perf-value" id="fcp-time">-</span>
                        </div>
                        <div class="perf-metric">
                            <span class="perf-label">Largest Contentful Paint:</span>
                            <span class="perf-value" id="lcp-time">-</span>
                        </div>
                    </div>
                </div>

                <!-- Funis de convers√£o -->
                <div class="funnels-section">
                    <h3>üéØ Funis de Convers√£o</h3>
                    <div id="conversion-funnels"></div>
                </div>
            </div>
        `}addDashboardCSS(){var e;document.getElementById("analytics-dashboard-styles")||((e=document.createElement("style")).id="analytics-dashboard-styles",e.textContent=`
            .analytics-dashboard {
                position: fixed;
                top: 20px;
                left: 20px;
                width: 400px;
                max-height: 80vh;
                background: white;
                border-radius: 12px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                z-index: 10000;
                overflow: hidden;
                border: 1px solid #e5e7eb;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            }

            .dashboard-header {
                background: #1f2937;
                color: white;
                padding: 16px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .dashboard-header h2 {
                margin: 0;
                font-size: 16px;
                font-weight: 600;
            }

            .dashboard-controls {
                display: flex;
                gap: 8px;
            }

            .toggle-btn, .export-btn {
                background: rgba(255,255,255,0.2);
                color: white;
                border: none;
                padding: 4px 8px;
                border-radius: 4px;
                cursor: pointer;
                font-size: 12px;
            }

            .dashboard-content {
                padding: 16px;
                max-height: 60vh;
                overflow-y: auto;
            }

            .metrics-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 12px;
                margin-bottom: 20px;
            }

            .metric-card {
                background: #f9fafb;
                padding: 12px;
                border-radius: 8px;
                text-align: center;
                border: 1px solid #e5e7eb;
            }

            .metric-value {
                font-size: 20px;
                font-weight: 700;
                color: #1f2937;
                margin-bottom: 4px;
            }

            .metric-label {
                font-size: 11px;
                color: #6b7280;
                text-transform: uppercase;
                font-weight: 600;
            }

            .charts-grid {
                display: grid;
                grid-template-columns: 1fr;
                gap: 16px;
                margin-bottom: 20px;
            }

            .chart-container {
                background: #f9fafb;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid #e5e7eb;
            }

            .chart-container h3 {
                margin: 0 0 12px 0;
                font-size: 14px;
                color: #1f2937;
            }

            .tables-grid {
                display: grid;
                grid-template-columns: 1fr;
                gap: 16px;
                margin-bottom: 20px;
            }

            .table-container {
                background: #f9fafb;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid #e5e7eb;
            }

            .table-container h3 {
                margin: 0 0 12px 0;
                font-size: 14px;
                color: #1f2937;
            }

            .performance-section,
            .funnels-section {
                background: #f9fafb;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid #e5e7eb;
                margin-bottom: 16px;
            }

            .performance-section h3,
            .funnels-section h3 {
                margin: 0 0 12px 0;
                font-size: 14px;
                color: #1f2937;
            }

            .performance-metrics {
                display: flex;
                flex-direction: column;
                gap: 8px;
            }

            .perf-metric {
                display: flex;
                justify-content: space-between;
                font-size: 12px;
            }

            .perf-label {
                color: #6b7280;
            }

            .perf-value {
                font-weight: 600;
                color: #1f2937;
            }

            #heatmap-container {
                height: 150px;
                background: #e5e7eb;
                border-radius: 4px;
                display: flex;
                align-items: center;
                justify-content: center;
                color: #6b7280;
                font-size: 12px;
            }

            .dashboard-collapsed .dashboard-content {
                display: none;
            }

            @media (max-width: 768px) {
                .analytics-dashboard {
                    width: 90%;
                    left: 5%;
                    top: 10px;
                }
            }
        `,document.head.appendChild(e))}initializeCharts(){this.createEventsChart(),this.createHeatmap()}createEventsChart(){let c=document.getElementById("events-chart");if(c){let s=c.getContext("2d");var e=Object.keys(this.metrics);let n=e.map(e=>this.metrics[e].count),r=(s.clearRect(0,0,c.width,c.height),Math.max(...n,1)),l=c.width/e.length,d=c.height-40;e.forEach((e,t)=>{var a=n[t],i=a/r*d,t=t*l,o=c.height-i-20;s.fillStyle="#8b5cf6",s.fillRect(5+t,o,l-10,i),s.fillStyle="#374151",s.font="10px Arial",s.textAlign="center",s.fillText(e.substring(0,8),t+l/2,c.height-5),s.fillText(a.toString(),t+l/2,o-5)})}}createHeatmap(){var e=document.getElementById("heatmap-container");if(e&&0!==this.heatmapData.length){var a=this.heatmapData.filter(e=>"mousemove"!==e.type);let t={},o=(a.forEach(e=>{e=50*Math.floor(e.x/50)+","+50*Math.floor(e.y/50);t[e]=(t[e]||0)+1}),Math.max(...Object.values(t),1));e.innerHTML=`
            <div style="position: relative; width: 100%; height: 100%;">
                ${Object.entries(t).map(([e,t])=>{var[e,a]=e.split(",").map(Number),t=t/o,i=10+20*t;return`
                        <div style="
                            position: absolute;
                            left: ${e/window.innerWidth*100}%;
                            top: ${a/window.innerHeight*100}%;
                            width: ${i}px;
                            height: ${i}px;
                            background: radial-gradient(circle, rgba(239,68,68,${.3+.7*t}) 0%, transparent 70%);
                            border-radius: 50%;
                            pointer-events: none;
                        "></div>
                    `}).join("")}
            </div>
        `}else e&&(e.innerHTML="Coletando dados de cliques...")}updateDashboard(){document.getElementById("analytics-dashboard")&&(this.updateElement("active-users",this.getActiveUsersCount()),this.updateElement("page-views",this.getPageViewsCount()),this.updateElement("bounce-rate",this.getBounceRate()+"%"),this.updateElement("avg-session",this.formatDuration(this.getAverageSessionDuration())),this.performanceData.loadTime&&this.updateElement("load-time",this.formatDuration(this.performanceData.loadTime)),this.performanceData.firstContentfulPaint&&this.updateElement("fcp-time",this.formatDuration(this.performanceData.firstContentfulPaint)),this.createEventsChart(),this.createHeatmap(),this.updateTopPagesTable(),this.updateTopEventsTable(),this.updateConversionFunnels())}updateElement(e,t){e=document.getElementById(e);e&&(e.textContent=t)}updateTopPagesTable(){var e,t=document.getElementById("top-pages-table");t&&(e=this.getTopPages(),t.innerHTML=`
            <div style="font-size: 12px;">
                ${e.slice(0,5).map(e=>`
                    <div style="display: flex; justify-content: space-between; padding: 4px 0; border-bottom: 1px solid #e5e7eb;">
                        <span style="color: #374151; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 200px;">${e.url}</span>
                        <span style="color: #6b7280; font-weight: 600;">${e.views}</span>
                    </div>
                `).join("")}
            </div>
        `)}updateTopEventsTable(){var e,t=document.getElementById("top-events-table");t&&(e=this.getTopEvents(),t.innerHTML=`
            <div style="font-size: 12px;">
                ${e.slice(0,5).map(e=>`
                    <div style="display: flex; justify-content: space-between; padding: 4px 0; border-bottom: 1px solid #e5e7eb;">
                        <span style="color: #374151;">${e.type}</span>
                        <span style="color: #6b7280; font-weight: 600;">${e.count}</span>
                    </div>
                `).join("")}
            </div>
        `)}updateConversionFunnels(){var e,t=document.getElementById("conversion-funnels");t&&(e=Object.keys(this.conversionFunnels),t.innerHTML=`
            <div style="font-size: 12px;">
                ${e.map(e=>{var t=this.getFunnelConversionRate(e);return`
                        <div style="margin-bottom: 12px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <span style="color: #374151; font-weight: 600;">${e.replace("_"," ")}</span>
                                <span style="color: #6b7280;">${t}%</span>
                            </div>
                            <div style="background: #e5e7eb; height: 8px; border-radius: 4px; overflow: hidden;">
                                <div style="background: #8b5cf6; height: 100%; width: ${t}%; transition: width 0.3s ease;"></div>
                            </div>
                        </div>
                    `}).join("")}
            </div>
        `)}getActiveUsersCount(){let t=Date.now()-36e5;var e=this.events.filter(e=>e.timestamp>t);return new Set(e.map(e=>e.userId)).size}getPageViewsCount(){return this.events.filter(e=>"page_enter"===e.type).length}getBounceRate(){var e=this.getSessionData(),t=e.filter(e=>1===e.pageViews);return 0<e.length?Math.round(t.length/e.length*100):0}getAverageSessionDuration(){var e=this.getSessionData();return 0===e.length?0:e.reduce((e,t)=>e+t.duration,0)/e.length}getSessionData(){let a={};return this.events.forEach(e=>{a[e.sessionId]||(a[e.sessionId]={startTime:e.timestamp,endTime:e.timestamp,pageViews:0,events:[]});var t=a[e.sessionId];t.endTime=Math.max(t.endTime,e.timestamp),t.events.push(e),"page_enter"===e.type&&t.pageViews++}),Object.values(a).map(e=>({...e,duration:e.endTime-e.startTime}))}getTopPages(){let t={};return this.events.filter(e=>"page_enter"===e.type).forEach(e=>{e=new URL(e.data.url).pathname;t[e]=(t[e]||0)+1}),Object.entries(t).map(([e,t])=>({url:e,views:t})).sort((e,t)=>t.views-e.views)}getTopEvents(){return Object.entries(this.metrics).map(([e,t])=>({type:e,count:t.count})).sort((e,t)=>t.count-e.count)}getDeviceBreakdown(){let a={};return this.events.forEach(e=>{e=e.userAgent;let t="desktop";/Mobile|Android|iPhone|iPad/.test(e)?t="mobile":/Tablet|iPad/.test(e)&&(t="tablet"),a[t]=(a[t]||0)+1}),a}getTrafficSources(){let i={};return this.userJourney.filter(e=>"page_enter"===e.action).forEach(e=>{e=e.referrer;let t="direct";if(e)try{var a=new URL(e).hostname;t=a.includes("google")?"google":a.includes("facebook")?"facebook":a.includes("linkedin")?"linkedin":"referral"}catch(e){t="unknown"}i[t]=(i[t]||0)+1}),i}getFunnelConversionRate(e){var t=this.getActiveUsersCount(),a=Math.floor(t*Math.random()*.3);return 0<t?Math.round(a/t*100):0}getUserEvents(){return this.events.concat(this.userJourney.map(e=>({type:e.action,data:e,timestamp:e.timestamp})))}formatDuration(e){return e<1e3?Math.round(e)+"ms":e<6e4?(e/1e3).toFixed(1)+"s":(e/6e4).toFixed(1)+"m"}toggleDashboard(){var e=document.getElementById("analytics-dashboard");e&&e.classList.toggle("dashboard-collapsed")}exportData(){var e={events:this.events,metrics:this.metrics,heatmapData:this.heatmapData,performanceData:this.performanceData,userJourney:this.userJourney,realTimeData:this.realTimeData,exportedAt:(new Date).toISOString()},e=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),e=URL.createObjectURL(e),t=document.createElement("a");t.href=e,t.download=`analytics-data-${Date.now()}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e)}saveData(){try{localStorage.setItem("analytics_events",JSON.stringify(this.events.slice(-500))),localStorage.setItem("analytics_metrics",JSON.stringify(this.metrics)),localStorage.setItem("analytics_heatmap",JSON.stringify(this.heatmapData.slice(-1e3)))}catch(e){console.warn("Erro ao salvar dados de analytics:",e)}}loadData(){try{var e=localStorage.getItem("analytics_events"),t=localStorage.getItem("analytics_metrics"),a=localStorage.getItem("analytics_heatmap");e&&(this.events=JSON.parse(e)),t&&(this.metrics=JSON.parse(t)),a&&(this.heatmapData=JSON.parse(a))}catch(e){console.warn("Erro ao carregar dados de analytics:",e)}}cleanOldData(){let t=Date.now()-6048e5;this.events=this.events.filter(e=>e.timestamp>t),this.heatmapData=this.heatmapData.filter(e=>e.timestamp>t),this.userJourney=this.userJourney.filter(e=>e.timestamp>t)}reset(){localStorage.removeItem("analytics_events"),localStorage.removeItem("analytics_metrics"),localStorage.removeItem("analytics_heatmap"),localStorage.removeItem("analytics_user_id"),location.reload()}}document.addEventListener("DOMContentLoaded",()=>{window.analytics=new AdvancedAnalyticsSystem}),window.AdvancedAnalyticsSystem=AdvancedAnalyticsSystem;class CompanyCultureSystem{constructor(){this.cultureData=JSON.parse(localStorage.getItem("companyCulture")||"{}"),this.mediaTypes=["image","video","audio","document"],this.cultureAspects=["ambiente_trabalho","beneficios","diversidade","inovacao","crescimento","equilibrio","colaboracao","lideranca"]}createCultureInterface(e,t={}){e=document.getElementById(e);e&&(t=`
            <div class="company-culture-system">
                <div class="culture-header">
                    <h3>üè¢ Cultura Empresarial</h3>
                    <div class="culture-actions">
                        <button class="culture-btn" onclick="cultureSystem.startVirtualTour()">
                            üè† Tour Virtual
                        </button>
                        <button class="culture-btn" onclick="cultureSystem.showTeamVideos()">
                            üé• Conhe√ßa o Time
                        </button>
                        <button class="culture-btn" onclick="cultureSystem.showDayInLife()">
                            üìÖ Um Dia Aqui
                        </button>
                    </div>
                </div>

                <!-- Culture Overview -->
                <div class="culture-overview">
                    <div class="culture-hero">
                        <div class="hero-content">
                            <h4>${t.name||"Nossa Empresa"}</h4>
                            <p class="hero-tagline">${t.tagline||"Transformando o futuro atrav√©s da tecnologia"}</p>
                            <div class="culture-stats">
                                <div class="stat">
                                    <span class="stat-number">${t.employees||"150+"}</span>
                                    <span class="stat-label">Colaboradores</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-number">${t.satisfaction||"4.8"}</span>
                                    <span class="stat-label">Satisfa√ß√£o</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-number">${t.retention||"92%"}</span>
                                    <span class="stat-label">Reten√ß√£o</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-number">${t.growth||"25%"}</span>
                                    <span class="stat-label">Crescimento</span>
                                </div>
                            </div>
                        </div>
                        <div class="hero-media">
                            <div class="company-video-placeholder" onclick="cultureSystem.playCompanyVideo()">
                                <div class="play-button">‚ñ∂Ô∏è</div>
                                <span>Assista nosso v√≠deo institucional</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Culture Aspects -->
                <div class="culture-aspects">
                    <h4>üí´ Nossa Cultura em Detalhes</h4>
                    <div class="aspects-grid">
                        <div class="aspect-card" data-aspect="ambiente_trabalho">
                            <div class="aspect-icon">üè¢</div>
                            <h5>Ambiente de Trabalho</h5>
                            <p>Espa√ßos modernos e colaborativos que inspiram criatividade</p>
                            <button onclick="cultureSystem.exploreAspect('ambiente_trabalho')">Explorar</button>
                        </div>
                        <div class="aspect-card" data-aspect="beneficios">
                            <div class="aspect-icon">üéÅ</div>
                            <h5>Benef√≠cios</h5>
                            <p>Pacote completo de benef√≠cios pensado no seu bem-estar</p>
                            <button onclick="cultureSystem.exploreAspect('beneficios')">Explorar</button>
                        </div>
                        <div class="aspect-card" data-aspect="diversidade">
                            <div class="aspect-icon">üåà</div>
                            <h5>Diversidade & Inclus√£o</h5>
                            <p>Valorizamos a diversidade e promovemos um ambiente inclusivo</p>
                            <button onclick="cultureSystem.exploreAspect('diversidade')">Explorar</button>
                        </div>
                        <div class="aspect-card" data-aspect="inovacao">
                            <div class="aspect-icon">üí°</div>
                            <h5>Inova√ß√£o</h5>
                            <p>Incentivamos a criatividade e o pensamento fora da caixa</p>
                            <button onclick="cultureSystem.exploreAspect('inovacao')">Explorar</button>
                        </div>
                        <div class="aspect-card" data-aspect="crescimento">
                            <div class="aspect-icon">üìà</div>
                            <h5>Crescimento</h5>
                            <p>Investimos no desenvolvimento profissional de cada pessoa</p>
                            <button onclick="cultureSystem.exploreAspect('crescimento')">Explorar</button>
                        </div>
                        <div class="aspect-card" data-aspect="equilibrio">
                            <div class="aspect-icon">‚öñÔ∏è</div>
                            <h5>Work-Life Balance</h5>
                            <p>Promovemos o equil√≠brio entre vida pessoal e profissional</p>
                            <button onclick="cultureSystem.exploreAspect('equilibrio')">Explorar</button>
                        </div>
                    </div>
                </div>

                <!-- Team Testimonials -->
                <div class="team-testimonials">
                    <h4>üí¨ O que nosso time diz</h4>
                    <div class="testimonials-carousel">
                        <div class="testimonial active">
                            <div class="testimonial-content">
                                <p>"Trabalhar aqui mudou minha perspectiva sobre tecnologia. O ambiente √© incr√≠vel e as oportunidades de crescimento s√£o reais."</p>
                                <div class="testimonial-author">
                                    <div class="author-avatar">üë©‚Äçüíª</div>
                                    <div class="author-info">
                                        <span class="author-name">Ana Silva</span>
                                        <span class="author-role">Desenvolvedora Frontend</span>
                                        <span class="author-time">2 anos na empresa</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial">
                            <div class="testimonial-content">
                                <p>"A cultura de inova√ß√£o aqui √© √∫nica. Sempre somos incentivados a propor novas ideias e experimentar tecnologias emergentes."</p>
                                <div class="testimonial-author">
                                    <div class="author-avatar">üë®‚Äçüíº</div>
                                    <div class="author-info">
                                        <span class="author-name">Carlos Santos</span>
                                        <span class="author-role">Tech Lead</span>
                                        <span class="author-time">3 anos na empresa</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial">
                            <div class="testimonial-content">
                                <p>"O que mais me impressiona √© como a empresa valoriza o equil√≠brio. Posso trabalhar de casa quando preciso e tenho flexibilidade total."</p>
                                <div class="testimonial-author">
                                    <div class="author-avatar">üë©‚Äçüé®</div>
                                    <div class="author-info">
                                        <span class="author-name">Maria Oliveira</span>
                                        <span class="author-role">UX Designer</span>
                                        <span class="author-time">1 ano na empresa</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonials-controls">
                        <button onclick="cultureSystem.previousTestimonial()">‚Äπ</button>
                        <div class="testimonials-dots">
                            <span class="dot active" onclick="cultureSystem.showTestimonial(0)"></span>
                            <span class="dot" onclick="cultureSystem.showTestimonial(1)"></span>
                            <span class="dot" onclick="cultureSystem.showTestimonial(2)"></span>
                        </div>
                        <button onclick="cultureSystem.nextTestimonial()">‚Ä∫</button>
                    </div>
                </div>

                <!-- Virtual Office Tour -->
                <div class="virtual-tour-preview">
                    <h4>üè† Tour Virtual do Escrit√≥rio</h4>
                    <div class="tour-grid">
                        <div class="tour-spot" onclick="cultureSystem.visitSpot('reception')">
                            <div class="spot-image">üè¢</div>
                            <h5>Recep√ß√£o</h5>
                            <p>Primeiro contato com nossa energia</p>
                        </div>
                        <div class="tour-spot" onclick="cultureSystem.visitSpot('workspace')">
                            <div class="spot-image">üíª</div>
                            <h5>√Årea de Trabalho</h5>
                            <p>Espa√ßos colaborativos e individuais</p>
                        </div>
                        <div class="tour-spot" onclick="cultureSystem.visitSpot('recreation')">
                            <div class="spot-image">üéÆ</div>
                            <h5>√Årea de Lazer</h5>
                            <p>Relaxe e socialize com o time</p>
                        </div>
                        <div class="tour-spot" onclick="cultureSystem.visitSpot('meeting')">
                            <div class="spot-image">ü§ù</div>
                            <h5>Salas de Reuni√£o</h5>
                            <p>Espa√ßos para colabora√ß√£o e criatividade</p>
                        </div>
                    </div>
                </div>

                <!-- Day in Life -->
                <div class="day-in-life">
                    <h4>üìÖ Um Dia na Nossa Empresa</h4>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-time">09:00</div>
                            <div class="timeline-content">
                                <h5>‚òï Chegada e Caf√©</h5>
                                <p>Come√ßamos o dia com um caf√© e conversa informal com o time</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">09:30</div>
                            <div class="timeline-content">
                                <h5>üéØ Daily Standup</h5>
                                <p>Alinhamento r√°pido sobre as atividades do dia</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">10:00</div>
                            <div class="timeline-content">
                                <h5>üíª Desenvolvimento</h5>
                                <p>Foco total no desenvolvimento de projetos inovadores</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">12:00</div>
                            <div class="timeline-content">
                                <h5>üçΩÔ∏è Almo√ßo</h5>
                                <p>Pausa para recarregar as energias, muitas vezes em grupo</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">14:00</div>
                            <div class="timeline-content">
                                <h5>ü§ù Colabora√ß√£o</h5>
                                <p>Reuni√µes de projeto e sess√µes de brainstorming</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">16:00</div>
                            <div class="timeline-content">
                                <h5>üìö Aprendizado</h5>
                                <p>Tempo dedicado para estudos e desenvolvimento pessoal</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-time">18:00</div>
                            <div class="timeline-content">
                                <h5>üéâ Encerramento</h5>
                                <p>Retrospectiva do dia e planejamento para amanh√£</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Culture Detail Modal -->
            <div id="culture-detail-modal" class="culture-modal" style="display: none;">
                <div class="modal-overlay" onclick="cultureSystem.closeModal()"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="culture-modal-title">Aspecto da Cultura</h3>
                        <button onclick="cultureSystem.closeModal()">√ó</button>
                    </div>
                    <div class="modal-body" id="culture-modal-body">
                        <!-- Content will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Virtual Tour Modal -->
            <div id="virtual-tour-modal" class="culture-modal fullscreen" style="display: none;">
                <div class="tour-interface">
                    <div class="tour-header">
                        <h3>üè† Tour Virtual - <span id="current-spot">Recep√ß√£o</span></h3>
                        <button onclick="cultureSystem.closeTour()">√ó Sair do Tour</button>
                    </div>
                    <div class="tour-content">
                        <div class="tour-360-view" id="tour-360-view">
                            <!-- 360¬∞ view would be implemented here -->
                            <div class="tour-placeholder">
                                <div class="tour-icon">üè¢</div>
                                <p>Vista 360¬∞ do ambiente</p>
                                <small>Arraste para explorar</small>
                            </div>
                        </div>
                        <div class="tour-navigation">
                            <button onclick="cultureSystem.visitSpot('reception')" class="nav-spot active">Recep√ß√£o</button>
                            <button onclick="cultureSystem.visitSpot('workspace')" class="nav-spot">Trabalho</button>
                            <button onclick="cultureSystem.visitSpot('recreation')" class="nav-spot">Lazer</button>
                            <button onclick="cultureSystem.visitSpot('meeting')" class="nav-spot">Reuni√µes</button>
                        </div>
                    </div>
                </div>
            </div>
        `,e.innerHTML=t,this.initializeCarousel(),this.loadCultureData())}initializeCarousel(){this.currentTestimonial=0,this.totalTestimonials=3,setInterval(()=>{this.nextTestimonial()},5e3)}nextTestimonial(){this.currentTestimonial=(this.currentTestimonial+1)%this.totalTestimonials,this.showTestimonial(this.currentTestimonial)}previousTestimonial(){this.currentTestimonial=(this.currentTestimonial-1+this.totalTestimonials)%this.totalTestimonials,this.showTestimonial(this.currentTestimonial)}showTestimonial(a){var e=document.querySelectorAll(".testimonial"),t=document.querySelectorAll(".testimonials-dots .dot");e.forEach((e,t)=>{e.classList.toggle("active",t===a)}),t.forEach((e,t)=>{e.classList.toggle("active",t===a)}),this.currentTestimonial=a}exploreAspect(e){var e=this.getAspectData(e),t=document.getElementById("culture-detail-modal"),a=document.getElementById("culture-modal-title"),i=document.getElementById("culture-modal-body");a.textContent=e.title,i.innerHTML=`
            <div class="aspect-detail">
                <div class="aspect-hero">
                    <div class="aspect-icon-large">${e.icon}</div>
                    <p class="aspect-description">${e.description}</p>
                </div>
                
                <div class="aspect-highlights">
                    <h4>‚ú® Destaques</h4>
                    <div class="highlights-grid">
                        ${e.highlights.map(e=>`
                            <div class="highlight-item">
                                <div class="highlight-icon">${e.icon}</div>
                                <div class="highlight-content">
                                    <h5>${e.title}</h5>
                                    <p>${e.description}</p>
                                </div>
                            </div>
                        `).join("")}
                    </div>
                </div>

                ${e.metrics?`
                    <div class="aspect-metrics">
                        <h4>üìä M√©tricas</h4>
                        <div class="metrics-grid">
                            ${e.metrics.map(e=>`
                                <div class="metric-card">
                                    <span class="metric-value">${e.value}</span>
                                    <span class="metric-label">${e.label}</span>
                                </div>
                            `).join("")}
                        </div>
                    </div>
                `:""}

                <div class="aspect-testimonials">
                    <h4>üí¨ Experi√™ncias do Time</h4>
                    ${e.testimonials.map(e=>`
                        <div class="mini-testimonial">
                            <p>"${e.text}"</p>
                            <div class="testimonial-author">
                                <span class="author-name">${e.author}</span>
                                <span class="author-role">${e.role}</span>
                            </div>
                        </div>
                    `).join("")}
                </div>
            </div>
        `,t.style.display="flex"}getAspectData(e){var t={ambiente_trabalho:{title:"üè¢ Ambiente de Trabalho",icon:"üè¢",description:"Nossos espa√ßos s√£o projetados para inspirar criatividade, promover colabora√ß√£o e garantir o conforto de todos.",highlights:[{icon:"ü™ë",title:"Mobili√°rio Ergon√¥mico",description:"Cadeiras e mesas ajust√°veis para m√°ximo conforto"},{icon:"üå±",title:"Ambiente Verde",description:"Plantas e luz natural em todos os espa√ßos"},{icon:"üîá",title:"Ac√∫stica Otimizada",description:"Espa√ßos silenciosos para concentra√ß√£o"},{icon:"‚òï",title:"Caf√© Premium",description:"Caf√© especial dispon√≠vel 24/7"}],metrics:[{value:"95%",label:"Satisfa√ß√£o com o ambiente"},{value:"24¬∞C",label:"Temperatura ideal"},{value:"100%",label:"Ilumina√ß√£o natural"}],testimonials:[{text:"O ambiente aqui √© incr√≠vel! Me sinto motivada todos os dias.",author:"Ana Silva",role:"Desenvolvedora"}]},beneficios:{title:"üéÅ Benef√≠cios",icon:"üéÅ",description:"Oferecemos um pacote completo de benef√≠cios pensado no bem-estar e qualidade de vida de nossos colaboradores.",highlights:[{icon:"üè•",title:"Plano de Sa√∫de Premium",description:"Cobertura completa para voc√™ e sua fam√≠lia"},{icon:"üçΩÔ∏è",title:"Vale Refei√ß√£o",description:"R$ 35/dia para suas refei√ß√µes"},{icon:"üèãÔ∏è",title:"Gympass",description:"Acesso a mais de 50.000 academias"},{icon:"üìö",title:"Educa√ß√£o",description:"R$ 3.000/ano para cursos e certifica√ß√µes"}],metrics:[{value:"R$ 8.500",label:"Valor m√©dio em benef√≠cios"},{value:"15+",label:"Tipos de benef√≠cios"},{value:"100%",label:"Cobertura do plano de sa√∫de"}],testimonials:[{text:"Os benef√≠cios aqui s√£o realmente diferenciados. Sinto que a empresa se importa comigo.",author:"Carlos Santos",role:"Tech Lead"}]},diversidade:{title:"üåà Diversidade & Inclus√£o",icon:"üåà",description:"Acreditamos que a diversidade √© nossa for√ßa. Promovemos um ambiente inclusivo onde todos podem ser aut√™nticos.",highlights:[{icon:"üë•",title:"Equipe Diversa",description:"50% mulheres em posi√ß√µes de lideran√ßa"},{icon:"üè≥Ô∏è‚Äçüåà",title:"LGBTQIA+ Friendly",description:"Pol√≠ticas inclusivas e grupos de apoio"},{icon:"‚ôø",title:"Acessibilidade",description:"Escrit√≥rio 100% acess√≠vel"},{icon:"üåç",title:"Multiculturalismo",description:"Time de 12 nacionalidades diferentes"}],metrics:[{value:"50%",label:"Mulheres na lideran√ßa"},{value:"12",label:"Nacionalidades"},{value:"95%",label:"√çndice de inclus√£o"}],testimonials:[{text:"Aqui posso ser eu mesma sem medo. A diversidade √© celebrada todos os dias.",author:"Maria Oliveira",role:"UX Designer"}]},inovacao:{title:"üí° Inova√ß√£o",icon:"üí°",description:"Incentivamos a experimenta√ß√£o, criatividade e o pensamento fora da caixa em todos os projetos.",highlights:[{icon:"üöÄ",title:"Innovation Days",description:"20% do tempo para projetos pessoais"},{icon:"üß™",title:"Lab de Experimenta√ß√£o",description:"Espa√ßo dedicado para testar novas ideias"},{icon:"üí∞",title:"Fundo de Inova√ß√£o",description:"R$ 50.000 anuais para projetos inovadores"},{icon:"üèÜ",title:"Hackathons",description:"Eventos mensais de inova√ß√£o"}],metrics:[{value:"25",label:"Projetos inovadores/ano"},{value:"20%",label:"Tempo para inova√ß√£o"},{value:"8",label:"Patentes registradas"}],testimonials:[{text:"Minhas ideias s√£o sempre ouvidas e apoiadas. √â incr√≠vel ver projetos saindo do papel.",author:"Jo√£o Pedro",role:"Desenvolvedor Senior"}]},crescimento:{title:"üìà Crescimento",icon:"üìà",description:"Investimos no desenvolvimento profissional e pessoal de cada colaborador atrav√©s de programas estruturados.",highlights:[{icon:"üéØ",title:"Plano de Carreira",description:"Trilhas claras de desenvolvimento"},{icon:"üë®‚Äçüè´",title:"Mentoria",description:"Programa de mentoria com l√≠deres"},{icon:"üìú",title:"Certifica√ß√µes",description:"Apoio financeiro para certifica√ß√µes"},{icon:"üåü",title:"Promo√ß√µes Internas",description:"80% das vagas preenchidas internamente"}],metrics:[{value:"80%",label:"Promo√ß√µes internas"},{value:"40h",label:"Treinamento/m√™s"},{value:"95%",label:"Satisfa√ß√£o com crescimento"}],testimonials:[{text:"Em 2 anos fui promovida duas vezes. O crescimento aqui √© real e baseado em m√©rito.",author:"Fernanda Costa",role:"Product Manager"}]},equilibrio:{title:"‚öñÔ∏è Work-Life Balance",icon:"‚öñÔ∏è",description:"Promovemos o equil√≠brio saud√°vel entre vida pessoal e profissional atrav√©s de pol√≠ticas flex√≠veis.",highlights:[{icon:"üè†",title:"Home Office",description:"Flexibilidade total para trabalho remoto"},{icon:"‚è∞",title:"Hor√°rio Flex√≠vel",description:"Escolha seu hor√°rio de trabalho"},{icon:"üèñÔ∏è",title:"F√©rias Ilimitadas",description:"Tire f√©rias quando precisar"},{icon:"üßò",title:"Bem-estar Mental",description:"Apoio psicol√≥gico e medita√ß√£o"}],metrics:[{value:"4.9/5",label:"Satisfa√ß√£o com equil√≠brio"},{value:"30 dias",label:"F√©rias m√©dias/ano"},{value:"2%",label:"Taxa de burnout"}],testimonials:[{text:"Consigo conciliar perfeitamente minha vida pessoal com o trabalho. A flexibilidade √© real.",author:"Roberto Lima",role:"DevOps Engineer"}]}};return t[e]||t.ambiente_trabalho}startVirtualTour(){document.getElementById("virtual-tour-modal").style.display="flex",this.visitSpot("reception")}visitSpot(e){let t={reception:{name:"Recep√ß√£o",description:"Nossa recep√ß√£o acolhedora com design moderno",icon:"üè¢"},workspace:{name:"√Årea de Trabalho",description:"Espa√ßos colaborativos e individuais",icon:"üíª"},recreation:{name:"√Årea de Lazer",description:"Espa√ßo para relaxar e socializar",icon:"üéÆ"},meeting:{name:"Salas de Reuni√£o",description:"Ambientes para colabora√ß√£o criativa",icon:"ü§ù"}}[e];t&&(document.getElementById("current-spot").textContent=t.name,document.getElementById("tour-360-view").innerHTML=`
            <div class="tour-placeholder">
                <div class="tour-icon">${t.icon}</div>
                <h4>${t.name}</h4>
                <p>${t.description}</p>
                <small>Vista 360¬∞ - Arraste para explorar</small>
            </div>
        `,(e=document.querySelectorAll(".nav-spot")).forEach(e=>{e.classList.remove("active")}),e=Array.from(e).find(e=>e.textContent.toLowerCase().includes(t.name.toLowerCase().split(" ")[0])))&&e.classList.add("active")}closeTour(){document.getElementById("virtual-tour-modal").style.display="none"}showTeamVideos(){alert("üé• Abrindo galeria de v√≠deos do time...\n\nAqui voc√™ encontraria v√≠deos de apresenta√ß√£o dos membros da equipe, depoimentos e momentos especiais da empresa.")}showDayInLife(){document.querySelector(".day-in-life").scrollIntoView({behavior:"smooth"}),document.querySelectorAll(".timeline-item").forEach((e,t)=>{setTimeout(()=>{e.style.animation="fadeInUp 0.5s ease forwards"},200*t)})}playCompanyVideo(){alert("‚ñ∂Ô∏è Reproduzindo v√≠deo institucional...\n\nAqui seria exibido um v√≠deo apresentando a empresa, seus valores, equipe e projetos.")}closeModal(){document.getElementById("culture-detail-modal").style.display="none"}loadCultureData(){0===Object.keys(this.cultureData).length&&(this.cultureData={lastUpdated:(new Date).toISOString(),viewCount:Math.floor(1e3*Math.random())+500,engagementRate:.85},this.saveCultureData())}saveCultureData(){localStorage.setItem("companyCulture",JSON.stringify(this.cultureData))}init(){}}let companyCultureCSS=`
.company-culture-system {
    background: #f8fafc;
    border-radius: 16px;
    padding: 24px;
    margin: 20px 0;
}

.culture-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 32px;
}

.culture-header h3 {
    margin: 0;
    color: #1f2937;
    font-size: 24px;
}

.culture-actions {
    display: flex;
    gap: 12px;
}

.culture-btn {
    background: #8b5cf6;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 14px;
    transition: background-color 0.2s;
}

.culture-btn:hover {
    background: #7c3aed;
}

.culture-overview {
    margin-bottom: 40px;
}

.culture-hero {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 32px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 16px;
    padding: 32px;
    color: white;
}

.hero-content h4 {
    margin: 0 0 8px 0;
    font-size: 28px;
    font-weight: 700;
}

.hero-tagline {
    font-size: 16px;
    opacity: 0.9;
    margin-bottom: 24px;
}

.culture-stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
}

.stat {
    text-align: center;
    background: rgba(255,255,255,0.1);
    padding: 16px;
    border-radius: 12px;
}

.stat-number {
    display: block;
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 4px;
}

.stat-label {
    font-size: 12px;
    opacity: 0.8;
}

.hero-media {
    display: flex;
    align-items: center;
    justify-content: center;
}

.company-video-placeholder {
    background: rgba(255,255,255,0.1);
    border-radius: 12px;
    padding: 40px;
    text-align: center;
    cursor: pointer;
    transition: background-color 0.2s;
    border: 2px dashed rgba(255,255,255,0.3);
}

.company-video-placeholder:hover {
    background: rgba(255,255,255,0.2);
}

.play-button {
    font-size: 48px;
    margin-bottom: 12px;
}

.culture-aspects {
    margin-bottom: 40px;
}

.culture-aspects h4 {
    margin: 0 0 24px 0;
    color: #1f2937;
    font-size: 20px;
}

.aspects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
}

.aspect-card {
    background: white;
    border-radius: 12px;
    padding: 24px;
    text-align: center;
    border: 1px solid #e5e7eb;
    transition: all 0.3s ease;
    cursor: pointer;
}

.aspect-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    border-color: #8b5cf6;
}

.aspect-icon {
    font-size: 48px;
    margin-bottom: 16px;
}

.aspect-card h5 {
    margin: 0 0 8px 0;
    color: #1f2937;
    font-size: 18px;
}

.aspect-card p {
    color: #6b7280;
    font-size: 14px;
    line-height: 1.5;
    margin-bottom: 16px;
}

.aspect-card button {
    background: #8b5cf6;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.2s;
}

.aspect-card button:hover {
    background: #7c3aed;
}

.team-testimonials {
    margin-bottom: 40px;
}

.team-testimonials h4 {
    margin: 0 0 24px 0;
    color: #1f2937;
    font-size: 20px;
}

.testimonials-carousel {
    position: relative;
    background: white;
    border-radius: 12px;
    padding: 32px;
    border: 1px solid #e5e7eb;
    min-height: 200px;
}

.testimonial {
    display: none;
    animation: fadeIn 0.5s ease;
}

.testimonial.active {
    display: block;
}

.testimonial-content p {
    font-size: 18px;
    line-height: 1.6;
    color: #374151;
    margin-bottom: 24px;
    font-style: italic;
}

.testimonial-author {
    display: flex;
    align-items: center;
    gap: 16px;
}

.author-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: #8b5cf6;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
}

.author-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.author-name {
    font-weight: 600;
    color: #1f2937;
}

.author-role {
    color: #6b7280;
    font-size: 14px;
}

.author-time {
    color: #9ca3af;
    font-size: 12px;
}

.testimonials-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 16px;
    margin-top: 20px;
}

.testimonials-controls button {
    background: #f3f4f6;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 18px;
    color: #6b7280;
    transition: all 0.2s;
}

.testimonials-controls button:hover {
    background: #8b5cf6;
    color: white;
}

.testimonials-dots {
    display: flex;
    gap: 8px;
}

.dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #d1d5db;
    cursor: pointer;
    transition: background-color 0.2s;
}

.dot.active {
    background: #8b5cf6;
}

.virtual-tour-preview {
    margin-bottom: 40px;
}

.virtual-tour-preview h4 {
    margin: 0 0 24px 0;
    color: #1f2937;
    font-size: 20px;
}

.tour-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
}

.tour-spot {
    background: white;
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    border: 1px solid #e5e7eb;
    cursor: pointer;
    transition: all 0.3s ease;
}

.tour-spot:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    border-color: #8b5cf6;
}

.spot-image {
    font-size: 32px;
    margin-bottom: 12px;
}

.tour-spot h5 {
    margin: 0 0 8px 0;
    color: #1f2937;
    font-size: 16px;
}

.tour-spot p {
    color: #6b7280;
    font-size: 14px;
    margin: 0;
}

.day-in-life h4 {
    margin: 0 0 24px 0;
    color: #1f2937;
    font-size: 20px;
}

.timeline {
    position: relative;
    padding-left: 40px;
}

.timeline::before {
    content: '';
    position: absolute;
    left: 20px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: #8b5cf6;
}

.timeline-item {
    position: relative;
    margin-bottom: 32px;
    opacity: 0;
    animation: fadeInUp 0.5s ease forwards;
}

.timeline-item::before {
    content: '';
    position: absolute;
    left: -28px;
    top: 8px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #8b5cf6;
    border: 3px solid white;
    box-shadow: 0 0 0 3px #8b5cf6;
}

.timeline-time {
    font-weight: 600;
    color: #8b5cf6;
    font-size: 14px;
    margin-bottom: 8px;
}

.timeline-content {
    background: white;
    border-radius: 8px;
    padding: 16px;
    border: 1px solid #e5e7eb;
}

.timeline-content h5 {
    margin: 0 0 8px 0;
    color: #1f2937;
    font-size: 16px;
}

.timeline-content p {
    margin: 0;
    color: #6b7280;
    font-size: 14px;
    line-height: 1.5;
}

.culture-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
}

.culture-modal.fullscreen {
    background: #1f2937;
}

.modal-content {
    background: white;
    border-radius: 16px;
    width: 90%;
    max-width: 800px;
    max-height: 90vh;
    overflow-y: auto;
}

.modal-header {
    padding: 24px;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h3 {
    margin: 0;
    color: #1f2937;
}

.modal-header button {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #6b7280;
}

.modal-body {
    padding: 24px;
}

.aspect-detail {
    display: flex;
    flex-direction: column;
    gap: 32px;
}

.aspect-hero {
    text-align: center;
    padding: 32px;
    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
    border-radius: 12px;
}

.aspect-icon-large {
    font-size: 64px;
    margin-bottom: 16px;
}

.aspect-description {
    font-size: 16px;
    color: #374151;
    line-height: 1.6;
    margin: 0;
}

.highlights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.highlight-item {
    display: flex;
    gap: 16px;
    padding: 20px;
    background: #f9fafb;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
}

.highlight-icon {
    font-size: 24px;
    width: 40px;
    text-align: center;
}

.highlight-content h5 {
    margin: 0 0 8px 0;
    color: #1f2937;
    font-size: 16px;
}

.highlight-content p {
    margin: 0;
    color: #6b7280;
    font-size: 14px;
    line-height: 1.5;
}

.metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 16px;
}

.metric-card {
    background: #f9fafb;
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    border: 1px solid #e5e7eb;
}

.metric-value {
    display: block;
    font-size: 24px;
    font-weight: 700;
    color: #8b5cf6;
    margin-bottom: 4px;
}

.metric-label {
    font-size: 12px;
    color: #6b7280;
    text-transform: uppercase;
    font-weight: 600;
}

.mini-testimonial {
    background: #f9fafb;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 16px;
    border-left: 4px solid #8b5cf6;
}

.mini-testimonial p {
    margin: 0 0 12px 0;
    color: #374151;
    font-style: italic;
    line-height: 1.5;
}

.mini-testimonial .testimonial-author {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.mini-testimonial .author-name {
    font-weight: 600;
    color: #1f2937;
    font-size: 14px;
}

.mini-testimonial .author-role {
    color: #6b7280;
    font-size: 12px;
}

.tour-interface {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.tour-header {
    background: #374151;
    color: white;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.tour-header h3 {
    margin: 0;
    font-size: 20px;
}

.tour-header button {
    background: #ef4444;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
}

.tour-content {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.tour-360-view {
    flex: 1;
    background: #1f2937;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
}

.tour-placeholder {
    text-align: center;
    padding: 40px;
}

.tour-icon {
    font-size: 64px;
    margin-bottom: 16px;
}

.tour-placeholder h4 {
    margin: 0 0 8px 0;
    font-size: 24px;
}

.tour-placeholder p {
    margin: 0 0 8px 0;
    opacity: 0.8;
}

.tour-placeholder small {
    opacity: 0.6;
    font-size: 12px;
}

.tour-navigation {
    background: #374151;
    padding: 20px;
    display: flex;
    justify-content: center;
    gap: 16px;
}

.nav-spot {
    background: #4b5563;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.2s;
}

.nav-spot:hover,
.nav-spot.active {
    background: #8b5cf6;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@media (max-width: 768px) {
    .culture-header {
        flex-direction: column;
        gap: 16px;
        align-items: stretch;
    }
    
    .culture-actions {
        justify-content: center;
    }
    
    .culture-hero {
        grid-template-columns: 1fr;
        text-align: center;
    }
    
    .culture-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .aspects-grid {
        grid-template-columns: 1fr;
    }
    
    .tour-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .highlights-grid {
        grid-template-columns: 1fr;
    }
    
    .metrics-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .tour-navigation {
        flex-wrap: wrap;
    }
}
`;if(!document.getElementById("company-culture-styles")){let style=document.createElement("style");style.id="company-culture-styles",style.textContent=companyCultureCSS,document.head.appendChild(style)}window.cultureSystem=new CompanyCultureSystem;class CompatibilitySystem{constructor(){this.weights={skills:.35,experience:.25,location:.15,education:.15,salary:.1}}calculateCompatibility(e,t){var a=0,i=(a+=this.calculateSkillsMatch(e.skills,t.requiredSkills)*this.weights.skills,this.calculateExperienceMatch(e.experience,t.requiredExperience)),i=(a+=i*this.weights.experience,this.calculateLocationMatch(e.location,t.location,t.remote)),i=(a+=i*this.weights.location,this.calculateEducationMatch(e.education,t.requiredEducation)),i=(a+=i*this.weights.education,this.calculateSalaryMatch(e.expectedSalary,t.salaryRange));return a+=i*this.weights.salary,Math.round(100*a)}calculateSkillsMatch(e,t){if(!e||!t)return 0;let a=new Set(e.map(e=>e.toLowerCase()));e=new Set(t.map(e=>e.toLowerCase()));let i=0;return e.forEach(e=>{a.has(e)&&i++}),i/e.size}calculateExperienceMatch(e,t){return e&&t?t<=e?1:.7*t<=e?.8:.5*t<=e?.6:.3:.5}calculateLocationMatch(e,t,a){var i;return a?1:e&&t?(a=e.city?.toLowerCase(),i=t.city?.toLowerCase(),e=e.state?.toLowerCase(),t=t.state?.toLowerCase(),a===i?1:e===t?.7:.3):.5}calculateEducationMatch(e,t){var a;return t?e?(e=(a={fundamental:1,medio:2,tecnico:3,superior:4,pos:5,mestrado:6,doutorado:7})[e.toLowerCase()]||0,(a=a[t.toLowerCase()]||0)<=e?1:e/a):.3:1}calculateSalaryMatch(e,t){var a;return e&&t?({min:t,max:a}=t,t<=e&&e<=a?1:e<=1.2*t?.8:e<=1.5*t?.6:.3):.8}getCompatibilityBadge(e){return 90<=e?{text:"Match Perfeito",class:"perfect-match",color:"#10B981"}:75<=e?{text:"Alta Compatibilidade",class:"high-match",color:"#3B82F6"}:60<=e?{text:"Boa Compatibilidade",class:"good-match",color:"#8B5CF6"}:40<=e?{text:"Potencial Interessante",class:"potential-match",color:"#F59E0B"}:{text:"Baixa Compatibilidade",class:"low-match",color:"#EF4444"}}renderCompatibilityBadge(e,t){var a=this.getCompatibilityBadge(e),a=`
            <div class="compatibility-badge ${a.class}" style="background-color: ${a.color}">
                <span class="badge-icon">üéØ</span>
                <span class="badge-text">${a.text}</span>
                <span class="badge-score">${e}%</span>
            </div>
        `;return t&&(t.innerHTML=a),a}suggestProfileImprovements(e,t){let a=[];var i=this.getMostDemandedSkills(t);let o=e.skills?.map(e=>e.toLowerCase())||[];i.forEach(e=>{o.includes(e.toLowerCase())||a.push({type:"skill",message:`Considere adicionar "${e}" √†s suas habilidades`,impact:"high"})});i=this.getAverageRequiredExperience(t);return e.experience<.8*i&&a.push({type:"experience",message:`Destaque projetos que demonstrem ${i} anos de experi√™ncia`,impact:"medium"}),a}getMostDemandedSkills(e){let t={};return e.forEach(e=>{e.requiredSkills?.forEach(e=>{t[e]=(t[e]||0)+1})}),Object.entries(t).sort(([,e],[,t])=>t-e).slice(0,5).map(([e])=>e)}getAverageRequiredExperience(e){e=e.map(e=>e.requiredExperience||0);return e.reduce((e,t)=>e+t,0)/e.length}}let compatibilityCSS=`
.compatibility-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    border-radius: 20px;
    color: white;
    font-weight: 600;
    font-size: 14px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    margin: 8px 0;
    animation: fadeInScale 0.3s ease-out;
}

.compatibility-badge .badge-icon {
    font-size: 16px;
}

.compatibility-badge .badge-score {
    background: rgba(255,255,255,0.2);
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 700;
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.compatibility-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 20px;
    border-radius: 12px;
    color: white;
    margin: 20px 0;
}

.compatibility-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-top: 16px;
}

.compatibility-metric {
    background: rgba(255,255,255,0.1);
    padding: 12px;
    border-radius: 8px;
    text-align: center;
}

.compatibility-metric .metric-label {
    font-size: 12px;
    opacity: 0.8;
    margin-bottom: 4px;
}

.compatibility-metric .metric-value {
    font-size: 18px;
    font-weight: 700;
}

.suggestions-list {
    background: #f8fafc;
    border-radius: 8px;
    padding: 16px;
    margin-top: 16px;
}

.suggestion-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 0;
    border-bottom: 1px solid #e2e8f0;
}

.suggestion-item:last-child {
    border-bottom: none;
}

.suggestion-icon {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
}

.suggestion-icon.high { background: #ef4444; color: white; }
.suggestion-icon.medium { background: #f59e0b; color: white; }
.suggestion-icon.low { background: #10b981; color: white; }
`;if(!document.getElementById("compatibility-styles")){let style=document.createElement("style");style.id="compatibility-styles",style.textContent=compatibilityCSS,document.head.appendChild(style)}window.compatibilitySystem=new CompatibilitySystem;class CoursePricingLogic{constructor(){this.init()}init(){this.checkUserTypeAndAdjustPricing(),this.addPriceTypeListeners()}checkUserTypeAndAdjustPricing(){var e=this.getCurrentUserType(),t=document.querySelector('input[value="paid"]'),a=t?t.closest(".radio-option"):null;if(a)switch(e){case"candidate":this.restrictToPaidCourses(a);break;case"company":case"admin":this.allowPaidCourses(a);break;default:this.restrictToPaidCourses(a)}}getCurrentUserType(){return window.authSystem&&window.authSystem.isLoggedIn()?window.authSystem.getCurrentUser().type:localStorage.getItem("claunnetworkingworking_user_type")||"guest"}restrictToPaidCourses(e){e.style.opacity="0.5",e.style.pointerEvents="none";var t=e.querySelector('input[type="radio"]'),e=e.querySelector("label"),e=(t&&(t.disabled=!0),e&&(e.innerHTML='üí≥ Pago <small style="color: #ef4444;">(Indispon√≠vel)</small>'),this.addRestrictedPricingWarning(),document.querySelector('input[value="free"]'));e&&t&&t.checked&&(e.checked=!0,e.closest(".radio-option").click())}allowPaidCourses(e){e.style.opacity="1",e.style.pointerEvents="auto";var t=e.querySelector('input[type="radio"]'),e=e.querySelector("label");t&&(t.disabled=!1),e&&(e.innerHTML="üí≥ Pago"),this.removeRestrictedPricingWarning()}addRestrictedPricingWarning(){var e,t,a;document.querySelector(".pricing-restriction-warning")||((e=document.createElement("div")).className="alert alert-warning pricing-restriction-warning",e.innerHTML=`
            <strong>‚ÑπÔ∏è Informa√ß√£o:</strong> Apenas empresas com planos ativos e administradores podem publicar cursos pagos. 
            Como candidato ou usu√°rio n√£o logado, voc√™ pode cadastrar apenas cursos gratuitos.
        `,a=(t=document.querySelector(".form-section h3").parentElement).querySelector(".form-group"),t.insertBefore(e,a))}removeRestrictedPricingWarning(){var e=document.querySelector(".pricing-restriction-warning");e&&e.remove()}addPriceTypeListeners(){document.querySelectorAll(".radio-option").forEach(a=>{a.addEventListener("click",e=>{var t=a.querySelector('input[type="radio"]');t&&t.disabled&&(e.preventDefault(),e.stopPropagation(),this.showPaidCourseRestrictionAlert())})})}showPaidCourseRestrictionAlert(){var e=this.getCurrentUserType();let t="";t="candidate"===e?"Como candidato, voc√™ pode cadastrar apenas cursos gratuitos. Para publicar cursos pagos, √© necess√°rio ter uma conta empresarial com plano ativo.":"Para publicar cursos pagos, √© necess√°rio fazer login como empresa com plano ativo ou como administrador.",alert(t)}hasActivePlan(){var e;return window.authSystem&&window.authSystem.isLoggedIn()?(e=window.authSystem.getCurrentUser()).profile&&!0===e.profile.activePlan:"true"===localStorage.getItem("claunnetworkingworking_active_plan")}checkCompanyPlanStatus(){var e,t,a;"company"!==this.getCurrentUserType()||this.hasActivePlan()||(this.restrictToPaidCourses(document.querySelector('input[value="paid"]').closest(".radio-option")),(e=document.createElement("div")).className="alert alert-warning",e.innerHTML=`
                <strong>‚ö†Ô∏è Plano Necess√°rio:</strong> Para publicar cursos pagos, sua empresa precisa ter um plano ativo. 
                <a href="servicos-premium.html" style="color: #6B46C1;">Conhe√ßa nossos planos</a> e ative o seu para desbloquear esta funcionalidade.
            `,a=(t=document.querySelector(".form-section h3").parentElement).querySelector(".form-group"),t.insertBefore(e,a))}}async function loadJobs(e={}){try{var a=await api.getJobs(e);let t=document.getElementById("jobsContainer");t&&(t.innerHTML="",a.forEach(e=>{e=createJobCard(e);t.appendChild(e)}))}catch(e){APIUtils.showError("Erro ao carregar vagas: "+e.message)}}async function loadCourses(e={}){try{var a=await api.getCourses(e);let t=document.getElementById("coursesContainer");t&&(t.innerHTML="",a.forEach(e=>{e=createCourseCard(e);t.appendChild(e)}))}catch(e){APIUtils.showError("Erro ao carregar cursos: "+e.message)}}function createJobCard(e){var t=document.createElement("div");return t.className="col-md-6 col-lg-4 mb-4",t.innerHTML=`
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title">${e.title}</h5>
                <h6 class="card-subtitle mb-2 text-muted">${e.company_name}</h6>
                <p class="card-text">${e.description.substring(0,100)}...</p>
                <div class="mb-2">
                    <small class="text-muted">
                        <i class="fas fa-map-marker-alt"></i> ${e.location}
                    </small>
                </div>
                <div class="mb-2">
                    <small class="text-muted">
                        <i class="fas fa-briefcase"></i> ${e.work_modality}
                    </small>
                </div>
                ${e.salary_range?`
                <div class="mb-2">
                    <small class="text-success">
                        <i class="fas fa-dollar-sign"></i> ${e.salary_range}
                    </small>
                </div>
                `:""}
            </div>
            <div class="card-footer">
                <button class="btn btn-primary btn-sm" onclick="showJobDetails(${e.id})">
                    Ver Detalhes
                </button>
                <button class="btn btn-success btn-sm" onclick="applyToJob(${e.id})">
                    Candidatar-se
                </button>
            </div>
        </div>
    `,t}function createCourseCard(e){var t=document.createElement("div");return t.className="col-md-6 col-lg-4 mb-4",t.innerHTML=`
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title">${e.title}</h5>
                <h6 class="card-subtitle mb-2 text-muted">${e.institution_name}</h6>
                <p class="card-text">${e.description.substring(0,100)}...</p>
                <div class="mb-2">
                    <small class="text-muted">
                        <i class="fas fa-clock"></i> ${e.duration}
                    </small>
                </div>
                <div class="mb-2">
                    <small class="text-muted">
                        <i class="fas fa-graduation-cap"></i> ${e.level}
                    </small>
                </div>
                <div class="mb-2">
                    ${e.is_free?'<span class="badge bg-success">Gratuito</span>':`<span class="badge bg-primary">R$ ${e.price}</span>`}
                </div>
            </div>
            <div class="card-footer">
                <button class="btn btn-primary btn-sm" onclick="showCourseDetails(${e.id})">
                    Ver Detalhes
                </button>
                <button class="btn btn-success btn-sm" onclick="enrollInCourse(${e.id})">
                    Inscrever-se
                </button>
            </div>
        </div>
    `,t}function showJobDetails(e){console.log("Mostrar detalhes da vaga:",e)}function applyToJob(e){APIUtils.isLoggedIn()?console.log("Candidatar-se √† vaga:",e):APIUtils.showError("Voc√™ precisa estar logado para se candidatar.")}function showCourseDetails(e){console.log("Mostrar detalhes do curso:",e)}function enrollInCourse(e){APIUtils.isLoggedIn()?console.log("Inscrever-se no curso:",e):APIUtils.showError("Voc√™ precisa estar logado para se inscrever.")}function showRegistrationConfirmModal(e,t){t=`
        <div style="padding: 1rem 0;">
            <div style="text-align: center; margin-bottom: 2rem;">
                <div style="font-size: 3rem; color: #10b981; margin-bottom: 1rem;">üéâ</div>
                <h3 style="color: #10b981; margin-bottom: 0.5rem;">Cadastro Realizado com Sucesso!</h3>
                <p style="color: #6b7280; margin: 0;">Bem-vindo(a) √† ClaunNetworking!</p>
            </div>
            
            <div style="background: #f8fafc; padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem;">
                <h4 style="color: #374151; margin-bottom: 1rem;">üìã Resumo do Cadastro:</h4>
                <div style="display: grid; gap: 0.75rem;">
                    <div style="display: flex; justify-content: space-between;">
                        <span style="color: #6b7280;">Tipo de Perfil:</span>
                        <strong style="color: #374151;">${{candidato:"Candidato",empresa:"Empresa",instituicao:"Institui√ß√£o de Ensino"}[e]}</strong>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span style="color: #6b7280;">Email:</span>
                        <strong style="color: #374151;">${t.email||"N√£o informado"}</strong>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span style="color: #6b7280;">Status:</span>
                        <span style="color: #f59e0b; font-weight: bold;">‚è≥ Aguardando Aprova√ß√£o</span>
                    </div>
                </div>
            </div>
            
            <div style="background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; padding: 1rem; margin-bottom: 2rem;">
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                    <span style="color: #f59e0b; font-size: 1.2rem;">‚ö†Ô∏è</span>
                    <strong style="color: #92400e;">Pr√≥ximos Passos:</strong>
                </div>
                <ul style="color: #92400e; margin: 0; padding-left: 1.5rem;">
                    <li>Seu cadastro ser√° analisado pela nossa equipe</li>
                    <li>Voc√™ receber√° um email de confirma√ß√£o em at√© 24 horas</li>
                    <li>Ap√≥s aprova√ß√£o, poder√° acessar todas as funcionalidades</li>
                </ul>
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button onclick="closeAllModals(); window.location.href='index.html'" 
                        style="padding: 0.75rem 1.5rem; background: #6B46C1; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                    üè† Voltar ao In√≠cio
                </button>
                <button onclick="closeAllModals(); showLoginModal('${e}')" 
                        style="padding: 0.75rem 1.5rem; background: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                    üîë Fazer Login
                </button>
            </div>
        </div>
    `;createModal("Cadastro Conclu√≠do",t,{maxWidth:"600px"})}function showValidationModal(e){e=e.map(e=>`<li style="margin-bottom: 0.5rem;">${e}</li>`).join("");createModal("Erro de Valida√ß√£o",`
        <div style="padding: 1rem 0;">
            <div style="text-align: center; margin-bottom: 2rem;">
                <div style="font-size: 3rem; color: #ef4444; margin-bottom: 1rem;">‚ö†Ô∏è</div>
                <h3 style="color: #ef4444; margin-bottom: 0.5rem;">Dados Incompletos</h3>
                <p style="color: #6b7280; margin: 0;">Por favor, corrija os seguintes campos:</p>
            </div>
            
            <div style="background: #fef2f2; border: 1px solid #ef4444; border-radius: 8px; padding: 1.5rem; margin-bottom: 2rem;">
                <ul style="color: #dc2626; margin: 0; padding-left: 1.5rem;">
                    ${e}
                </ul>
            </div>
            
            <div style="text-align: center;">
                <button onclick="closeAllModals()" 
                        style="padding: 0.75rem 2rem; background: #ef4444; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                    OK, Entendi
                </button>
            </div>
        </div>
    `,{maxWidth:"500px"})}function showTermsModal(e,t){createModal("Termos e Condi√ß√µes",`
        <div style="padding: 1rem 0;">
            <div style="max-height: 400px; overflow-y: auto; background: #f8fafc; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                <h4 style="color: #374151; margin-bottom: 1rem;">üìã Termos de Uso e Pol√≠tica de Privacidade</h4>
                
                <h5 style="color: #6B46C1; margin-top: 1.5rem; margin-bottom: 0.5rem;">1. Aceita√ß√£o dos Termos</h5>
                <p style="color: #6b7280; line-height: 1.6;">
                    Ao se cadastrar na ClaunNetworking, voc√™ concorda com todos os termos e condi√ß√µes aqui estabelecidos.
                </p>
                
                <h5 style="color: #6B46C1; margin-top: 1.5rem; margin-bottom: 0.5rem;">2. Uso da Plataforma</h5>
                <p style="color: #6b7280; line-height: 1.6;">
                    A plataforma destina-se exclusivamente para fins profissionais de networking, busca de oportunidades e desenvolvimento de carreira.
                </p>
                
                <h5 style="color: #6B46C1; margin-top: 1.5rem; margin-bottom: 0.5rem;">3. Privacidade dos Dados</h5>
                <p style="color: #6b7280; line-height: 1.6;">
                    Seus dados pessoais s√£o protegidos conforme a LGPD. Utilizamos suas informa√ß√µes apenas para melhorar sua experi√™ncia na plataforma.
                </p>
                
                <h5 style="color: #6B46C1; margin-top: 1.5rem; margin-bottom: 0.5rem;">4. Responsabilidades</h5>
                <p style="color: #6b7280; line-height: 1.6;">
                    Voc√™ √© respons√°vel pela veracidade das informa√ß√µes fornecidas e pelo uso adequado da plataforma.
                </p>
                
                <h5 style="color: #6B46C1; margin-top: 1.5rem; margin-bottom: 0.5rem;">5. Modifica√ß√µes</h5>
                <p style="color: #6b7280; line-height: 1.6;">
                    Reservamo-nos o direito de modificar estes termos a qualquer momento, com notifica√ß√£o pr√©via aos usu√°rios.
                </p>
            </div>
            
            <div style="background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; padding: 1rem; margin-bottom: 2rem;">
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="checkbox" id="acceptTerms" style="margin-right: 0.5rem;">
                    <label for="acceptTerms" style="color: #92400e; font-weight: bold;">
                        Li e aceito os Termos de Uso e Pol√≠tica de Privacidade
                    </label>
                </div>
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button onclick="closeAllModals(); ${t?t+"()":""}" 
                        style="padding: 0.75rem 1.5rem; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                    Cancelar
                </button>
                <button onclick="acceptTerms('${e}')" 
                        style="padding: 0.75rem 1.5rem; background: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                    Aceitar e Continuar
                </button>
            </div>
        </div>
    `,{maxWidth:"700px"})}function acceptTerms(onAcceptFunction){let checkbox=document.getElementById("acceptTerms");checkbox.checked?(closeAllModals(),onAcceptFunction&&eval(onAcceptFunction+"()")):showErrorModal("Erro","Voc√™ deve aceitar os termos para continuar.")}function showFileUploadModal(e,t,a){t=`
        <div style="padding: 1rem 0;">
            <div style="text-align: center; margin-bottom: 2rem;">
                <div style="font-size: 3rem; color: #6B46C1; margin-bottom: 1rem;">üìÅ</div>
                <p style="color: #6b7280; margin: 0;">Selecione o arquivo que deseja enviar</p>
            </div>
            
            <div style="border: 2px dashed #d1d5db; border-radius: 12px; padding: 2rem; text-align: center; margin-bottom: 2rem; background: #f9fafb;">
                <input type="file" id="fileInput" accept="${t}" style="display: none;" onchange="handleFileSelect(this, '${a}')">
                <button onclick="document.getElementById('fileInput').click()" 
                        style="padding: 1rem 2rem; background: #6B46C1; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; margin-bottom: 1rem;">
                    üìé Escolher Arquivo
                </button>
                <p style="color: #6b7280; margin: 0; font-size: 0.9rem;">
                    Tipos aceitos: ${t.replace(/\./g,"").toUpperCase()}
                </p>
                <div id="filePreview" style="margin-top: 1rem; display: none;">
                    <p style="color: #10b981; font-weight: bold;">‚úÖ Arquivo selecionado:</p>
                    <p id="fileName" style="color: #374151; margin: 0;"></p>
                </div>
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button onclick="closeAllModals()" 
                        style="padding: 0.75rem 1.5rem; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                    Cancelar
                </button>
                <button id="uploadBtn" onclick="processFileUpload('${a}')" disabled
                        style="padding: 0.75rem 1.5rem; background: #d1d5db; color: #9ca3af; border: none; border-radius: 8px; cursor: not-allowed; font-size: 1rem;">
                    Enviar Arquivo
                </button>
            </div>
        </div>
    `;createModal(e,t,{maxWidth:"500px"})}function handleFileSelect(e,t){var e=e.files[0];e&&(document.getElementById("filePreview").style.display="block",document.getElementById("fileName").textContent=e.name,(e=document.getElementById("uploadBtn")).disabled=!1,e.style.background="#10b981",e.style.color="white",e.style.cursor="pointer")}function processFileUpload(onUploadFunction){let fileInput=document.getElementById("fileInput"),file=fileInput.files[0];file?(showLoadingModal("Enviando arquivo..."),setTimeout(()=>{hideLoadingModal(),showSuccessModal("Sucesso","Arquivo enviado com sucesso!"),onUploadFunction&&eval(onUploadFunction+"(file)")},2e3)):showErrorModal("Erro","Nenhum arquivo selecionado.")}function showEditProfileModal(e,t){e=`
        <div style="padding: 1rem 0;">
            <form id="editProfileForm" style="display: grid; gap: 1rem;">
                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #374151;">Nome:</label>
                    <input type="text" name="name" value="${e.name||""}" required
                           style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;">
                </div>
                
                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #374151;">Email:</label>
                    <input type="email" name="email" value="${e.email||""}" required
                           style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;">
                </div>
                
                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #374151;">Telefone:</label>
                    <input type="tel" name="phone" value="${e.phone||""}"
                           style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;">
                </div>
                
                <div>
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #374151;">Sobre:</label>
                    <textarea name="about" rows="4" placeholder="Conte um pouco sobre voc√™..."
                              style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; resize: vertical;">${e.about||""}</textarea>
                </div>
            </form>
            
            <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                <button onclick="closeAllModals()" 
                        style="padding: 0.75rem 1.5rem; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                    Cancelar
                </button>
                <button onclick="saveProfileChanges('${t}')" 
                        style="padding: 0.75rem 1.5rem; background: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                    Salvar Altera√ß√µes
                </button>
            </div>
        </div>
    `;createModal("Editar Perfil",e,{maxWidth:"600px"})}function saveProfileChanges(onSaveFunction){let form=document.getElementById("editProfileForm"),formData=new FormData(form),data=Object.fromEntries(formData.entries());showLoadingModal("Salvando altera√ß√µes..."),setTimeout(()=>{hideLoadingModal(),showSuccessModal("Sucesso","Perfil atualizado com sucesso!"),onSaveFunction&&eval(onSaveFunction+"(data)")},1500)}document.addEventListener("DOMContentLoaded",function(){new CoursePricingLogic}),window.CoursePricingLogic=CoursePricingLogic,document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("loginForm"),t=(e&&e.addEventListener("submit",async function(t){t.preventDefault();t=new FormData(e),t={email:t.get("email"),password:t.get("password")};try{let e=await api.login(t);APIUtils.setCurrentUser(e.user),APIUtils.showSuccess("Login realizado com sucesso!"),setTimeout(()=>{switch(e.user.type){case"candidato":window.location.href="/candidato_painel.html";break;case"empresa":window.location.href="/company_dashboard.html";break;case"instituicao":window.location.href="/institution_dashboard.html";break;case"admin":window.location.href="/admin_complete.html";break;default:window.location.href="/index.html"}},1500)}catch(e){APIUtils.showError(e.message)}}),document.getElementById("registerForm")),a=(t&&t.addEventListener("submit",async function(e){e.preventDefault();e=new FormData(t),e={name:e.get("name"),email:e.get("email"),password:e.get("password"),user_type:e.get("user_type"),phone:e.get("phone")};try{await api.register(e);APIUtils.showSuccess("Cadastro realizado com sucesso!"),t.reset(),setTimeout(()=>{window.location.href="/index.html"},2e3)}catch(e){APIUtils.showError(e.message)}}),document.getElementById("jobForm")),i=(a&&a.addEventListener("submit",async function(e){e.preventDefault();e=new FormData(a),e={title:e.get("title"),description:e.get("description"),requirements:e.get("requirements"),benefits:e.get("benefits"),salary_range:e.get("salary_range"),location:e.get("location"),work_modality:e.get("work_modality"),job_type:e.get("job_type"),area:e.get("area"),level:e.get("level")};try{await api.createJob(e);APIUtils.showSuccess("Vaga criada com sucesso!"),a.reset()}catch(e){APIUtils.showError(e.message)}}),document.getElementById("applicationForm")),o=(i&&i.addEventListener("submit",async function(e){e.preventDefault();e=new FormData(i),e={job_id:e.get("job_id"),message:e.get("message")};try{await api.applyToJob(e);APIUtils.showSuccess("Candidatura enviada com sucesso!");var t=document.querySelector(".modal.show");t&&bootstrap.Modal.getInstance(t).hide()}catch(e){APIUtils.showError(e.message)}}),document.getElementById("courseForm"));o&&o.addEventListener("submit",async function(e){e.preventDefault();e=new FormData(o),e={title:e.get("title"),description:e.get("description"),category:e.get("category"),level:e.get("level"),modality:e.get("modality"),duration:e.get("duration"),price:parseFloat(e.get("price"))||0,is_free:"on"===e.get("is_free")};try{await api.createCourse(e);APIUtils.showSuccess("Curso criado com sucesso!"),o.reset()}catch(e){APIUtils.showError(e.message)}});var s=document.getElementById("logoutBtn");s&&s.addEventListener("click",async function(e){e.preventDefault();try{await api.logout(),APIUtils.clearCurrentUser(),APIUtils.showSuccess("Logout realizado com sucesso!"),setTimeout(()=>{window.location.href="/index.html"},1e3)}catch(e){APIUtils.showError(e.message)}})}),document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;(e.includes("vagas.html")||e.includes("buscar_"))&&loadJobs(),(e.includes("cursos")||e.includes("buscar_"))&&loadCourses()}),document.addEventListener("DOMContentLoaded",function(){console.log("Form modals carregado com sucesso!")});class IdentityVerificationSystem{constructor(){this.verificationLevels={basic:{name:"B√°sico",color:"#6b7280",icon:"üìß"},email:{name:"Email Verificado",color:"#3b82f6",icon:"‚úâÔ∏è"},phone:{name:"Telefone Verificado",color:"#8b5cf6",icon:"üì±"},document:{name:"Documento Verificado",color:"#10b981",icon:"üÜî"},professional:{name:"Profissional Verificado",color:"#f59e0b",icon:"üíº"},premium:{name:"Verifica√ß√£o Premium",color:"#ef4444",icon:"‚≠ê"}},this.verificationSteps=[{id:"email",name:"Verificar Email",required:!0},{id:"phone",name:"Verificar Telefone",required:!1},{id:"document",name:"Enviar Documento",required:!1},{id:"professional",name:"Verifica√ß√£o Profissional",required:!1},{id:"social",name:"Redes Sociais",required:!1}]}createVerificationModal(){var e=`
            <div id="verification-modal" class="verification-modal" style="display: none;">
                <div class="modal-overlay" onclick="this.parentElement.style.display='none'"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>üîí Verifica√ß√£o de Identidade</h2>
                        <button class="close-btn" onclick="document.getElementById('verification-modal').style.display='none'">√ó</button>
                    </div>
                    <div class="modal-body">
                        <div class="verification-intro">
                            <p>Aumente sua credibilidade na plataforma verificando sua identidade. Perfis verificados recebem mais visualiza√ß√µes e oportunidades.</p>
                        </div>
                        <div class="verification-steps">
                            ${this.verificationSteps.map(e=>`
                                <div class="verification-step" data-step="${e.id}">
                                    <div class="step-icon">
                                        <span class="step-status" id="status-${e.id}">‚è≥</span>
                                    </div>
                                    <div class="step-content">
                                        <h4>${e.name}</h4>
                                        <p class="step-description" id="desc-${e.id}">Clique para iniciar</p>
                                        ${e.required?'<span class="required-badge">Obrigat√≥rio</span>':""}
                                    </div>
                                    <button class="step-action" onclick="verificationSystem.startVerification('${e.id}')">
                                        Verificar
                                    </button>
                                </div>
                            `).join("")}
                        </div>
                        <div class="verification-benefits">
                            <h3>Benef√≠cios da Verifica√ß√£o</h3>
                            <div class="benefits-grid">
                                <div class="benefit-item">
                                    <span class="benefit-icon">üëÅÔ∏è</span>
                                    <span>+70% mais visualiza√ß√µes</span>
                                </div>
                                <div class="benefit-item">
                                    <span class="benefit-icon">üéØ</span>
                                    <span>Prioridade em buscas</span>
                                </div>
                                <div class="benefit-item">
                                    <span class="benefit-icon">üõ°Ô∏è</span>
                                    <span>Selo de confian√ßa</span>
                                </div>
                                <div class="benefit-item">
                                    <span class="benefit-icon">üíº</span>
                                    <span>Acesso a vagas premium</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `,t=document.getElementById("verification-modal");t&&t.remove(),document.body.insertAdjacentHTML("beforeend",e)}startVerification(e){switch(e){case"email":this.verifyEmail();break;case"phone":this.verifyPhone();break;case"document":this.verifyDocument();break;case"professional":this.verifyProfessional();break;case"social":this.verifySocial()}}verifyEmail(){var e=prompt("Digite seu email para verifica√ß√£o:");e&&this.isValidEmail(e)?(this.updateStepStatus("email","loading","Enviando c√≥digo de verifica√ß√£o..."),setTimeout(()=>{var e=prompt("Digite o c√≥digo de 6 d√≠gitos enviado para seu email:");e&&6===e.length?(this.updateStepStatus("email","success","Email verificado com sucesso!"),this.saveVerificationStatus("email",!0)):this.updateStepStatus("email","error","C√≥digo inv√°lido. Tente novamente.")},2e3)):alert("Email inv√°lido!")}verifyPhone(){var e=prompt("Digite seu telefone (com DDD):");e&&this.isValidPhone(e)?(this.updateStepStatus("phone","loading","Enviando SMS..."),setTimeout(()=>{var e=prompt("Digite o c√≥digo de 4 d√≠gitos enviado por SMS:");e&&4===e.length?(this.updateStepStatus("phone","success","Telefone verificado com sucesso!"),this.saveVerificationStatus("phone",!0)):this.updateStepStatus("phone","error","C√≥digo inv√°lido. Tente novamente.")},2e3)):alert("Telefone inv√°lido!")}verifyDocument(){var e=document.createElement("input");e.type="file",e.accept="image/*,.pdf",e.onchange=e=>{e.target.files[0]&&(this.updateStepStatus("document","loading","Analisando documento..."),setTimeout(()=>{this.updateStepStatus("document","success","Documento verificado com sucesso!"),this.saveVerificationStatus("document",!0)},3e3))},e.click()}verifyProfessional(){var e=prompt("Digite o link do seu perfil LinkedIn:");e&&e.includes("linkedin.com")?(this.updateStepStatus("professional","loading","Verificando perfil profissional..."),setTimeout(()=>{this.updateStepStatus("professional","success","Perfil profissional verificado!"),this.saveVerificationStatus("professional",!0)},2500)):alert("Link do LinkedIn inv√°lido!")}verifySocial(){var e=prompt("Digite o link de uma rede social (Instagram, Twitter, etc.):");e&&(e.includes("instagram.com")||e.includes("twitter.com"))?(this.updateStepStatus("social","loading","Verificando rede social..."),setTimeout(()=>{this.updateStepStatus("social","success","Rede social verificada!"),this.saveVerificationStatus("social",!0)},2e3)):alert("Link de rede social inv√°lido!")}updateStepStatus(e,t,a){var i=document.getElementById("status-"+e),e=document.getElementById("desc-"+e);if(i&&e){switch(t){case"loading":i.textContent="‚è≥",i.className="step-status loading";break;case"success":i.textContent="‚úÖ",i.className="step-status success";break;case"error":i.textContent="‚ùå",i.className="step-status error"}e.textContent=a}}saveVerificationStatus(e,t){var a=JSON.parse(localStorage.getItem("userVerifications")||"{}");a[e]={verified:t,date:(new Date).toISOString()},localStorage.setItem("userVerifications",JSON.stringify(a)),this.updateProfileBadge()}getUserVerificationLevel(){var e=JSON.parse(localStorage.getItem("userVerifications")||"{}");return 4<=Object.values(e).filter(e=>e.verified).length?"premium":e.professional?.verified?"professional":e.document?.verified?"document":e.phone?.verified?"phone":e.email?.verified?"email":"basic"}createVerificationBadge(e=null){var e=e||this.getUserVerificationLevel(),t=this.verificationLevels[e];return`
            <div class="verification-badge ${e}" style="background-color: ${t.color}">
                <span class="badge-icon">${t.icon}</span>
                <span class="badge-text">${t.name}</span>
            </div>
        `}updateProfileBadge(){var e=document.querySelectorAll(".verification-badge-container");let t=this.getUserVerificationLevel();e.forEach(e=>{e.innerHTML=this.createVerificationBadge(t)})}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}isValidPhone(e){return/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(e)||/^\d{10,11}$/.test(e.replace(/\D/g,""))}init(){this.createVerificationModal(),this.updateProfileBadge()}}let verificationCSS=`
.verification-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(4px);
}

.modal-content {
    position: relative;
    background: white;
    border-radius: 16px;
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24px;
    border-bottom: 1px solid #e5e7eb;
}

.modal-header h2 {
    margin: 0;
    color: #1f2937;
    font-size: 24px;
}

.close-btn {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #6b7280;
    padding: 4px;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.close-btn:hover {
    background-color: #f3f4f6;
}

.modal-body {
    padding: 24px;
}

.verification-intro {
    background: #f0f9ff;
    border: 1px solid #0ea5e9;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 24px;
}

.verification-intro p {
    margin: 0;
    color: #0c4a6e;
}

.verification-steps {
    margin-bottom: 32px;
}

.verification-step {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    margin-bottom: 12px;
    transition: all 0.2s ease;
}

.verification-step:hover {
    border-color: #8b5cf6;
    transform: translateY(-2px);
}

.step-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #f3f4f6;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
}

.step-status.loading {
    animation: spin 1s linear infinite;
}

.step-status.success {
    color: #10b981;
}

.step-status.error {
    color: #ef4444;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.step-content {
    flex: 1;
}

.step-content h4 {
    margin: 0 0 4px 0;
    color: #1f2937;
    font-size: 16px;
}

.step-description {
    margin: 0;
    color: #6b7280;
    font-size: 14px;
}

.required-badge {
    background: #ef4444;
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    margin-left: 8px;
}

.step-action {
    background: #8b5cf6;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.2s;
}

.step-action:hover {
    background: #7c3aed;
}

.verification-benefits {
    background: #f8fafc;
    border-radius: 12px;
    padding: 20px;
}

.verification-benefits h3 {
    margin: 0 0 16px 0;
    color: #1f2937;
}

.benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px;
}

.benefit-item {
    display: flex;
    align-items: center;
    gap: 8px;
    background: white;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
}

.benefit-icon {
    font-size: 20px;
}

.verification-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 16px;
    color: white;
    font-weight: 600;
    font-size: 12px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.verification-badge .badge-icon {
    font-size: 14px;
}

.verification-trigger {
    background: #8b5cf6;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    font-size: 14px;
    transition: background-color 0.2s;
}

.verification-trigger:hover {
    background: #7c3aed;
}

@media (max-width: 768px) {
    .modal-content {
        width: 95%;
        margin: 20px;
    }
    
    .verification-step {
        flex-direction: column;
        text-align: center;
    }
    
    .benefits-grid {
        grid-template-columns: 1fr;
    }
}
`;if(!document.getElementById("verification-styles")){let style=document.createElement("style");style.id="verification-styles",style.textContent=verificationCSS,document.head.appendChild(style)}window.verificationSystem=new IdentityVerificationSystem;class InternalChatSystem{constructor(){this.conversations=JSON.parse(localStorage.getItem("chatConversations")||"{}"),this.currentConversation=null,this.currentUser=this.getCurrentUser(),this.messageTemplates=this.initializeTemplates(),this.isOpen=!1}getCurrentUser(){return JSON.parse(localStorage.getItem("currentUser")||'{"id": "user1", "name": "Usu√°rio Atual", "type": "candidate"}')}initializeTemplates(){return{candidate_to_company:["Ol√°! Tenho interesse na vaga de {position}. Gostaria de saber mais detalhes sobre a oportunidade.","Bom dia! Vi que voc√™s est√£o contratando para {position}. Meu perfil se encaixa perfeitamente na vaga.","Ol√°! Gostaria de me candidatar √† vaga de {position}. Quando podemos conversar?"],company_to_candidate:["Ol√° {name}! Seu perfil chamou nossa aten√ß√£o. Gostaria de agendar uma conversa?","Oi {name}! Temos uma oportunidade que pode interessar voc√™. Vamos conversar?","Ol√°! Gostar√≠amos de conhecer melhor seu trabalho. Tem disponibilidade para uma call?"],institution_to_candidate:["Ol√° {name}! Temos cursos que podem acelerar sua carreira. Gostaria de saber mais?","Oi! Nossos cursos de {area} est√£o com inscri√ß√µes abertas. Interesse?","Ol√°! Que tal investir em sua capacita√ß√£o? Temos √≥timas op√ß√µes para voc√™."]}}createChatInterface(){var e=document.getElementById("chat-system");e&&e.remove(),document.body.insertAdjacentHTML("beforeend",`
            <div id="chat-system" class="chat-system">
                <!-- Chat Toggle Button -->
                <button id="chat-toggle" class="chat-toggle" onclick="chatSystem.toggleChat()">
                    <span class="chat-icon">üí¨</span>
                    <span class="chat-badge" id="chat-badge" style="display: none;">0</span>
                </button>

                <!-- Chat Window -->
                <div id="chat-window" class="chat-window" style="display: none;">
                    <div class="chat-header">
                        <h3>üí¨ Mensagens</h3>
                        <div class="chat-actions">
                            <button class="chat-action-btn" onclick="chatSystem.showTemplates()" title="Templates">
                                üìù
                            </button>
                            <button class="chat-action-btn" onclick="chatSystem.toggleChat()" title="Fechar">
                                √ó
                            </button>
                        </div>
                    </div>

                    <div class="chat-body">
                        <!-- Conversations List -->
                        <div id="conversations-list" class="conversations-list">
                            <div class="conversations-header">
                                <h4>Conversas</h4>
                                <button class="new-chat-btn" onclick="chatSystem.showNewChatModal()">
                                    + Nova Conversa
                                </button>
                            </div>
                            <div id="conversations-container" class="conversations-container">
                                <!-- Conversations will be loaded here -->
                            </div>
                        </div>

                        <!-- Chat Messages -->
                        <div id="chat-messages" class="chat-messages" style="display: none;">
                            <div class="messages-header">
                                <button class="back-btn" onclick="chatSystem.showConversationsList()">
                                    ‚Üê Voltar
                                </button>
                                <div class="conversation-info">
                                    <span id="conversation-name">Nome da Conversa</span>
                                    <span id="conversation-status" class="status-online">Online</span>
                                </div>
                                <button class="schedule-btn" onclick="chatSystem.showScheduleModal()" title="Agendar Reuni√£o">
                                    üìÖ
                                </button>
                            </div>
                            <div id="messages-container" class="messages-container">
                                <!-- Messages will be loaded here -->
                            </div>
                            <div class="message-input-container">
                                <input type="text" id="message-input" placeholder="Digite sua mensagem..." 
                                       onkeypress="chatSystem.handleKeyPress(event)">
                                <button onclick="chatSystem.sendMessage()">Enviar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- New Chat Modal -->
                <div id="new-chat-modal" class="chat-modal" style="display: none;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Nova Conversa</h3>
                            <button onclick="chatSystem.closeModal('new-chat-modal')">√ó</button>
                        </div>
                        <div class="modal-body">
                            <div class="contact-search">
                                <input type="text" id="contact-search" placeholder="Buscar contatos...">
                                <div id="contact-results" class="contact-results">
                                    <!-- Search results will appear here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Templates Modal -->
                <div id="templates-modal" class="chat-modal" style="display: none;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Templates de Mensagem</h3>
                            <button onclick="chatSystem.closeModal('templates-modal')">√ó</button>
                        </div>
                        <div class="modal-body">
                            <div id="templates-container" class="templates-container">
                                <!-- Templates will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Schedule Modal -->
                <div id="schedule-modal" class="chat-modal" style="display: none;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>üìÖ Agendar Reuni√£o</h3>
                            <button onclick="chatSystem.closeModal('schedule-modal')">√ó</button>
                        </div>
                        <div class="modal-body">
                            <div class="schedule-form">
                                <div class="form-group">
                                    <label>T√≠tulo da Reuni√£o:</label>
                                    <input type="text" id="meeting-title" placeholder="Ex: Entrevista para vaga de Desenvolvedor">
                                </div>
                                <div class="form-group">
                                    <label>Data:</label>
                                    <input type="date" id="meeting-date">
                                </div>
                                <div class="form-group">
                                    <label>Hor√°rio:</label>
                                    <input type="time" id="meeting-time">
                                </div>
                                <div class="form-group">
                                    <label>Dura√ß√£o:</label>
                                    <select id="meeting-duration">
                                        <option value="30">30 minutos</option>
                                        <option value="60">1 hora</option>
                                        <option value="90">1h 30min</option>
                                        <option value="120">2 horas</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Tipo:</label>
                                    <select id="meeting-type">
                                        <option value="video">Videochamada</option>
                                        <option value="phone">Telefone</option>
                                        <option value="presential">Presencial</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Observa√ß√µes:</label>
                                    <textarea id="meeting-notes" placeholder="Informa√ß√µes adicionais sobre a reuni√£o..."></textarea>
                                </div>
                                <button class="schedule-confirm-btn" onclick="chatSystem.scheduleMeeting()">
                                    Agendar Reuni√£o
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `),this.loadConversations(),this.updateUnreadBadge()}toggleChat(){var e=document.getElementById("chat-window"),t=document.getElementById("chat-toggle");this.isOpen=!this.isOpen,this.isOpen?(e.style.display="block",t.classList.add("active"),this.loadConversations()):(e.style.display="none",t.classList.remove("active"))}loadConversations(){var e,t=document.getElementById("conversations-container");t&&(0===(e=Object.values(this.conversations)).length?t.innerHTML=`
                <div class="empty-conversations">
                    <p>Nenhuma conversa ainda</p>
                    <button onclick="chatSystem.showNewChatModal()">Iniciar primeira conversa</button>
                </div>
            `:t.innerHTML=e.map(e=>`
            <div class="conversation-item" onclick="chatSystem.openConversation('${e.id}')">
                <div class="conversation-avatar">
                    ${e.participant.avatar||e.participant.name.charAt(0)}
                </div>
                <div class="conversation-info">
                    <div class="conversation-name">${e.participant.name}</div>
                    <div class="conversation-last-message">${e.lastMessage?.text||"Sem mensagens"}</div>
                </div>
                <div class="conversation-meta">
                    <div class="conversation-time">${this.formatTime(e.lastMessage?.timestamp)}</div>
                    ${0<e.unreadCount?`<div class="unread-count">${e.unreadCount}</div>`:""}
                </div>
            </div>
        `).join(""))}openConversation(e){this.currentConversation=e;var t=this.conversations[e];t&&(document.getElementById("conversations-list").style.display="none",document.getElementById("chat-messages").style.display="block",document.getElementById("conversation-name").textContent=t.participant.name,document.getElementById("conversation-status").textContent="Online",this.loadMessages(e),t.unreadCount=0,this.saveConversations(),this.updateUnreadBadge())}loadMessages(e){var t=document.getElementById("messages-container"),e=this.conversations[e];e&&t&&(t.innerHTML=e.messages.map(e=>`
            <div class="message ${e.sender===this.currentUser.id?"sent":"received"}">
                <div class="message-content">${e.text}</div>
                <div class="message-time">${this.formatTime(e.timestamp)}</div>
                ${"meeting"===e.type?`
                    <div class="meeting-info">
                        üìÖ Reuni√£o agendada: ${e.meetingData.title}
                        <br>üìç ${e.meetingData.date} √†s ${e.meetingData.time}
                    </div>
                `:""}
            </div>
        `).join(""),t.scrollTop=t.scrollHeight)}sendMessage(){var e=document.getElementById("message-input"),t=e.value.trim();t&&this.currentConversation&&(t={id:Date.now().toString(),text:t,sender:this.currentUser.id,timestamp:(new Date).toISOString(),type:"text"},this.conversations[this.currentConversation].messages.push(t),this.conversations[this.currentConversation].lastMessage=t,setTimeout(()=>{var e={id:(Date.now()+1).toString(),text:"Obrigado pela mensagem! Vou analisar e retorno em breve.",sender:this.conversations[this.currentConversation].participant.id,timestamp:(new Date).toISOString(),type:"text"};this.conversations[this.currentConversation].messages.push(e),this.conversations[this.currentConversation].lastMessage=e,this.conversations[this.currentConversation].unreadCount++,this.saveConversations(),this.loadMessages(this.currentConversation),this.updateUnreadBadge()},2e3),this.saveConversations(),this.loadMessages(this.currentConversation),e.value="")}handleKeyPress(e){"Enter"===e.key&&this.sendMessage()}showNewChatModal(){document.getElementById("new-chat-modal").style.display="flex",this.loadContacts()}loadContacts(){document.getElementById("contact-results").innerHTML=[{id:"company1",name:"TechCorp Brasil",type:"company",avatar:"üè¢"},{id:"company2",name:"Innovate Solutions",type:"company",avatar:"üè¢"},{id:"candidate1",name:"Ana Silva",type:"candidate",avatar:"üë©"},{id:"candidate2",name:"Carlos Santos",type:"candidate",avatar:"üë®"},{id:"institution1",name:"TechAcademy",type:"institution",avatar:"üéì"}].map(e=>`
            <div class="contact-item" onclick="chatSystem.startConversation('${e.id}', '${e.name}', '${e.type}')">
                <div class="contact-avatar">${e.avatar}</div>
                <div class="contact-info">
                    <div class="contact-name">${e.name}</div>
                    <div class="contact-type">${this.getTypeLabel(e.type)}</div>
                </div>
            </div>
        `).join("")}startConversation(e,t,a){var i="conv_"+Date.now();this.conversations[i]={id:i,participant:{id:e,name:t,type:a},messages:[],lastMessage:null,unreadCount:0,createdAt:(new Date).toISOString()},this.saveConversations(),this.closeModal("new-chat-modal"),this.loadConversations(),this.openConversation(i)}showTemplates(){var e=document.getElementById("templates-modal"),t=document.getElementById("templates-container"),a=this.currentUser.type,a=this.messageTemplates[a+"_to_company"]||this.messageTemplates[a+"_to_candidate"]||this.messageTemplates[a+"_to_institution"]||[];t.innerHTML=a.map((e,t)=>`
            <div class="template-item" onclick="chatSystem.useTemplate('${e}')">
                <div class="template-text">${e}</div>
            </div>
        `).join(""),e.style.display="flex"}useTemplate(e){var t=document.getElementById("message-input");t&&(t.value=e.replace("{name}","Nome").replace("{position}","Posi√ß√£o").replace("{area}","√Årea"),t.focus()),this.closeModal("templates-modal")}showScheduleModal(){document.getElementById("schedule-modal").style.display="flex";var e=(new Date).toISOString().split("T")[0];document.getElementById("meeting-date").min=e}scheduleMeeting(){var e=document.getElementById("meeting-title").value,t=document.getElementById("meeting-date").value,a=document.getElementById("meeting-time").value,i=document.getElementById("meeting-duration").value,o=document.getElementById("meeting-type").value,s=document.getElementById("meeting-notes").value;e&&t&&a?(e={id:Date.now().toString(),text:"üìÖ Reuni√£o agendada: "+e,sender:this.currentUser.id,timestamp:(new Date).toISOString(),type:"meeting",meetingData:{title:e,date:t,time:a,duration:i,type:o,notes:s}},this.conversations[this.currentConversation].messages.push(e),this.conversations[this.currentConversation].lastMessage=e,this.saveConversations(),this.loadMessages(this.currentConversation),this.closeModal("schedule-modal"),document.getElementById("meeting-title").value="",document.getElementById("meeting-date").value="",document.getElementById("meeting-time").value="",document.getElementById("meeting-notes").value=""):alert("Preencha todos os campos obrigat√≥rios!")}showConversationsList(){document.getElementById("chat-messages").style.display="none",document.getElementById("conversations-list").style.display="block",this.currentConversation=null}closeModal(e){document.getElementById(e).style.display="none"}updateUnreadBadge(){var e=document.getElementById("chat-badge"),t=Object.values(this.conversations).reduce((e,t)=>e+(t.unreadCount||0),0);0<t?(e.textContent=t,e.style.display="block"):e.style.display="none"}saveConversations(){localStorage.setItem("chatConversations",JSON.stringify(this.conversations))}formatTime(e){var t;return e?(e=new Date(e),t=new Date,0===(t=Math.floor((t-e)/864e5))?e.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):1===t?"Ontem":t<7?t+" dias":e.toLocaleDateString("pt-BR")):""}getTypeLabel(e){return{company:"Empresa",candidate:"Candidato",institution:"Institui√ß√£o"}[e]||e}init(){this.createChatInterface(),0===Object.keys(this.conversations).length&&this.addSampleConversations()}addSampleConversations(){var e={conv_1:{id:"conv_1",participant:{id:"company1",name:"TechCorp Brasil",type:"company"},messages:[{id:"1",text:"Ol√°! Seu perfil chamou nossa aten√ß√£o para a vaga de Desenvolvedor Frontend.",sender:"company1",timestamp:new Date(Date.now()-36e5).toISOString(),type:"text"}],lastMessage:{text:"Ol√°! Seu perfil chamou nossa aten√ß√£o para a vaga de Desenvolvedor Frontend.",timestamp:new Date(Date.now()-36e5).toISOString()},unreadCount:1,createdAt:new Date(Date.now()-36e5).toISOString()}};this.conversations=e,this.saveConversations()}}let chatCSS=`
.chat-system {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 9999;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.chat-toggle {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    color: white;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    transition: all 0.3s ease;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.chat-toggle:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 25px rgba(0,0,0,0.2);
}

.chat-toggle.active {
    background: #ef4444;
}

.chat-icon {
    font-size: 24px;
}

.chat-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #ef4444;
    color: white;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
}

.chat-window {
    position: absolute;
    bottom: 80px;
    right: 0;
    width: 400px;
    height: 600px;
    background: white;
    border-radius: 16px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.15);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.chat-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.chat-header h3 {
    margin: 0;
    font-size: 18px;
}

.chat-actions {
    display: flex;
    gap: 8px;
}

.chat-action-btn {
    background: rgba(255,255,255,0.2);
    border: none;
    color: white;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s;
}

.chat-action-btn:hover {
    background: rgba(255,255,255,0.3);
}

.chat-body {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.conversations-list {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.conversations-header {
    padding: 16px;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.conversations-header h4 {
    margin: 0;
    color: #1f2937;
}

.new-chat-btn {
    background: #8b5cf6;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 600;
}

.conversations-container {
    flex: 1;
    overflow-y: auto;
}

.conversation-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    border-bottom: 1px solid #f3f4f6;
    cursor: pointer;
    transition: background-color 0.2s;
}

.conversation-item:hover {
    background: #f9fafb;
}

.conversation-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #8b5cf6;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 16px;
}

.conversation-info {
    flex: 1;
}

.conversation-name {
    font-weight: 600;
    color: #1f2937;
    font-size: 14px;
}

.conversation-last-message {
    color: #6b7280;
    font-size: 12px;
    margin-top: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.conversation-meta {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 4px;
}

.conversation-time {
    color: #9ca3af;
    font-size: 11px;
}

.unread-count {
    background: #ef4444;
    color: white;
    border-radius: 50%;
    width: 18px;
    height: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: bold;
}

.chat-messages {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.messages-header {
    padding: 12px 16px;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    align-items: center;
    gap: 12px;
}

.back-btn {
    background: none;
    border: none;
    color: #6b7280;
    cursor: pointer;
    font-size: 14px;
    padding: 4px;
}

.conversation-info {
    flex: 1;
}

.conversation-name {
    font-weight: 600;
    color: #1f2937;
    font-size: 14px;
}

.status-online {
    color: #10b981;
    font-size: 12px;
}

.schedule-btn {
    background: #f59e0b;
    color: white;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.messages-container {
    flex: 1;
    overflow-y: auto;
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.message {
    max-width: 80%;
    display: flex;
    flex-direction: column;
}

.message.sent {
    align-self: flex-end;
    align-items: flex-end;
}

.message.received {
    align-self: flex-start;
    align-items: flex-start;
}

.message-content {
    background: #f3f4f6;
    padding: 8px 12px;
    border-radius: 12px;
    font-size: 14px;
    line-height: 1.4;
}

.message.sent .message-content {
    background: #8b5cf6;
    color: white;
}

.message-time {
    font-size: 11px;
    color: #9ca3af;
    margin-top: 4px;
}

.meeting-info {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: 8px;
    padding: 8px;
    margin-top: 4px;
    font-size: 12px;
    color: #92400e;
}

.message-input-container {
    padding: 16px;
    border-top: 1px solid #e5e7eb;
    display: flex;
    gap: 8px;
}

.message-input-container input {
    flex: 1;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    padding: 8px 12px;
    font-size: 14px;
    outline: none;
}

.message-input-container input:focus {
    border-color: #8b5cf6;
}

.message-input-container button {
    background: #8b5cf6;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
}

.chat-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
}

.modal-content {
    background: white;
    border-radius: 12px;
    width: 90%;
    max-width: 500px;
    max-height: 80vh;
    overflow-y: auto;
}

.modal-header {
    padding: 20px;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h3 {
    margin: 0;
    color: #1f2937;
}

.modal-header button {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #6b7280;
}

.modal-body {
    padding: 20px;
}

.contact-search input {
    width: 100%;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    padding: 12px;
    font-size: 14px;
    margin-bottom: 16px;
}

.contact-results {
    max-height: 300px;
    overflow-y: auto;
}

.contact-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.contact-item:hover {
    background: #f9fafb;
}

.contact-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #8b5cf6;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
}

.contact-info {
    flex: 1;
}

.contact-name {
    font-weight: 600;
    color: #1f2937;
}

.contact-type {
    color: #6b7280;
    font-size: 12px;
}

.templates-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.template-item {
    background: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 12px;
    cursor: pointer;
    transition: all 0.2s;
}

.template-item:hover {
    background: #f3f4f6;
    border-color: #8b5cf6;
}

.template-text {
    font-size: 14px;
    color: #374151;
    line-height: 1.4;
}

.schedule-form {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.form-group label {
    font-weight: 600;
    color: #374151;
    font-size: 14px;
}

.form-group input,
.form-group select,
.form-group textarea {
    border: 1px solid #d1d5db;
    border-radius: 6px;
    padding: 8px 12px;
    font-size: 14px;
    outline: none;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    border-color: #8b5cf6;
}

.form-group textarea {
    resize: vertical;
    min-height: 80px;
}

.schedule-confirm-btn {
    background: #10b981;
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 16px;
    margin-top: 8px;
}

.empty-conversations {
    padding: 40px 20px;
    text-align: center;
    color: #6b7280;
}

.empty-conversations button {
    background: #8b5cf6;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 12px;
}

@media (max-width: 768px) {
    .chat-window {
        width: 100vw;
        height: 100vh;
        bottom: 0;
        right: 0;
        border-radius: 0;
    }
    
    .chat-toggle {
        bottom: 20px;
        right: 20px;
    }
}
`;if(!document.getElementById("chat-styles")){let style=document.createElement("style");style.id="chat-styles",style.textContent=chatCSS,document.head.appendChild(style)}window.chatSystem=new InternalChatSystem;class JobEngagement{constructor(){this.engagementData=this.loadEngagementData(),this.init()}init(){this.addEngagementListeners()}loadEngagementData(){var e=localStorage.getItem("claunnetworkingworking_job_engagement");return e?JSON.parse(e):{}}saveEngagementData(){localStorage.setItem("claunnetworkingworking_job_engagement",JSON.stringify(this.engagementData))}addEngagementListeners(){document.addEventListener("click",e=>{var t,a;e.target.closest(".engagement-item")&&(t=(e=e.target.closest(".engagement-item")).closest(".job-card"),t=this.getJobIdFromCard(t),a=this.getEngagementType(e),t)&&a&&this.handleEngagement(t,a,e)})}getJobIdFromCard(e){var e=e.querySelector(".btn-details");return e&&e.onclick&&(e=e.getAttribute("onclick").match(/viewJobDetails\((\d+)\)/))?parseInt(e[1]):null}getEngagementType(e){switch(e.querySelector("span:first-child").textContent){case"‚ù§Ô∏è":return"likes";case"üëÅÔ∏è":return"views";case"üîó":return"shares";default:return null}}handleEngagement(e,t,a){switch(this.engagementData[e]||(this.engagementData[e]={likes:!1,views:!1,shares:!1}),t){case"likes":this.toggleLike(e,a);break;case"views":this.incrementViews(e,a);break;case"shares":this.incrementShares(e,a)}this.saveEngagementData()}toggleLike(e,t){var a=this.engagementData[e].likes,i=(this.engagementData[e].likes=!a,t.querySelector("span:first-child"));t.querySelector("span:last-child");a?(i.textContent="‚ù§Ô∏è",t.style.color=""):(i.textContent="üíñ",t.style.color="#ef4444",this.animateEngagement(t,"+1")),this.updateGlobalCounter(e,"likes",a?-1:1)}incrementViews(e,t){this.animateEngagement(t,"+1 view"),this.updateGlobalCounter(e,"views",1)}incrementShares(e,t){this.animateEngagement(t,"+1 share"),this.updateGlobalCounter(e,"shares",1)}updateGlobalCounter(t,e,a){var i=(window.jobsData||[]).find(e=>e.id===t);i&&i.engagement&&(i.engagement[e]+=a,this.updateDisplayCounter(t,e,i.engagement[e]))}updateDisplayCounter(t,a,i){document.querySelectorAll(".job-card").forEach(e=>{this.getJobIdFromCard(e)===t&&e.querySelectorAll(".engagement-item").forEach(e=>{this.getEngagementType(e)===a&&(e.querySelector("span:last-child").textContent="views"===a?i+" visualiza√ß√µes":i.toString())})})}animateEngagement(e,t){let a=document.createElement("div");a.textContent=t,a.style.cssText=`
            position: absolute;
            background: #10B981;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            z-index: 1000;
            pointer-events: none;
            animation: engagementFeedback 1.5s ease-out forwards;
        `,document.querySelector("#engagement-animation-styles")||((t=document.createElement("style")).id="engagement-animation-styles",t.textContent=`
                @keyframes engagementFeedback {
                    0% {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                    }
                    50% {
                        opacity: 1;
                        transform: translateY(-10px) scale(1.1);
                    }
                    100% {
                        opacity: 0;
                        transform: translateY(-20px) scale(0.9);
                    }
                }
            `,document.head.appendChild(t));t=e.getBoundingClientRect();a.style.left=t.left+"px",a.style.top=t.top-30+"px",a.style.position="fixed",document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},1500)}incrementViewsOnDetails(e){this.engagementData[e]||(this.engagementData[e]={likes:!1,views:!1,shares:!1}),this.updateGlobalCounter(e,"views",1),this.saveEngagementData()}incrementSharesOnShare(e){this.engagementData[e]||(this.engagementData[e]={likes:!1,views:!1,shares:!1}),this.updateGlobalCounter(e,"shares",1),this.saveEngagementData()}restoreLikeStates(){Object.keys(this.engagementData).forEach(e=>{let a=parseInt(e);this.engagementData[e].likes&&document.querySelectorAll(".job-card").forEach(e=>{var t;this.getJobIdFromCard(e)===a&&(e=e.querySelector(".engagement-item"))&&(t=e.querySelector("span:first-child"))&&"‚ù§Ô∏è"===t.textContent&&(t.textContent="üíñ",e.style.color="#ef4444")})})}}let jobEngagement,originalViewJobDetails=(document.addEventListener("DOMContentLoaded",function(){jobEngagement=new JobEngagement,setTimeout(()=>{jobEngagement.restoreLikeStates()},100)}),window.viewJobDetails),originalShareJob=(window.viewJobDetails=function(e){jobEngagement&&jobEngagement.incrementViewsOnDetails(e),originalViewJobDetails&&originalViewJobDetails(e)},window.shareJob);window.shareJob=function(e){jobEngagement&&jobEngagement.incrementSharesOnShare(e),originalShareJob&&originalShareJob(e)},window.JobEngagement=JobEngagement;class MobileOptimizationSystem{constructor(){this.isMobile=this.detectMobile(),this.isTablet=this.detectTablet(),this.touchSupport="ontouchstart"in window,this.orientation=this.getOrientation(),this.init()}detectMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768}detectTablet(){return/iPad|Android/i.test(navigator.userAgent)&&768<window.innerWidth&&window.innerWidth<=1024}getOrientation(){return window.innerHeight>window.innerWidth?"portrait":"landscape"}init(){this.addMobileClasses(),this.optimizeViewport(),this.optimizeForms(),this.optimizeNavigation(),this.optimizeModals(),this.optimizeCards(),this.optimizeButtons(),this.addTouchGestures(),this.optimizeImages(),this.addOrientationHandler(),this.optimizePerformance()}addMobileClasses(){var e=document.body;this.isMobile&&e.classList.add("mobile-device"),this.isTablet&&e.classList.add("tablet-device"),this.touchSupport&&e.classList.add("touch-device"),e.classList.add("orientation-"+this.orientation)}optimizeViewport(){var e;document.querySelector('meta[name="viewport"]')||((e=document.createElement("meta")).name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",document.head.appendChild(e)),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&document.querySelectorAll("input, select, textarea").forEach(e=>{(""===e.style.fontSize||parseFloat(e.style.fontSize)<16)&&(e.style.fontSize="16px")})}optimizeForms(){document.querySelectorAll("form").forEach(e=>{this.isMobile&&e.classList.add("mobile-form"),e.querySelectorAll("input, select, textarea").forEach(e=>{this.optimizeInput(e)}),this.isMobile&&this.addFieldNavigation(e)})}optimizeInput(e){"email"===e.type?e.setAttribute("inputmode","email"):"tel"===e.type?e.setAttribute("inputmode","tel"):"number"===e.type&&e.setAttribute("inputmode","numeric"),e.name.includes("name")?e.setAttribute("autocomplete","name"):e.name.includes("email")?e.setAttribute("autocomplete","email"):(e.name.includes("phone")||e.name.includes("tel"))&&e.setAttribute("autocomplete","tel"),this.touchSupport&&e.addEventListener("focus",()=>{setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"center"})},300)})}addFieldNavigation(e){let s=e.querySelectorAll('input:not([type="hidden"]), select, textarea');s.forEach((e,t)=>{let a=document.createElement("div");a.className="mobile-field-nav",a.innerHTML=`
                <button type="button" class="field-nav-btn prev" ${0===t?"disabled":""}>
                    ‚Üê Anterior
                </button>
                <span class="field-counter">${t+1} de ${s.length}</span>
                <button type="button" class="field-nav-btn next" ${t===s.length-1?"disabled":""}>
                    Pr√≥ximo ‚Üí
                </button>
            `,e.parentNode.insertBefore(a,e.nextSibling);var i=a.querySelector(".prev"),o=a.querySelector(".next");i.addEventListener("click",()=>{0<t&&s[t-1].focus()}),o.addEventListener("click",()=>{t<s.length-1&&s[t+1].focus()}),a.style.display="none",e.addEventListener("focus",()=>{document.querySelectorAll(".mobile-field-nav").forEach(e=>{e.style.display="none"}),a.style.display="flex"})})}optimizeNavigation(){this.isMobile&&document.querySelectorAll("nav, .navigation").forEach(e=>{e.classList.contains("mobile-optimized")||(this.createMobileMenu(e),e.classList.add("mobile-optimized"))})}createMobileMenu(e){var i=e.querySelectorAll("a, button");if(3<i.length){var o=document.createElement("button");o.className="mobile-hamburger",o.innerHTML="‚ò∞",o.setAttribute("aria-label","Menu");let t=document.createElement("div");t.className="mobile-menu-overlay";var s=document.createElement("div");s.className="mobile-menu-container";let a=document.createElement("div");a.className="mobile-menu",i.forEach(e=>{e=e.cloneNode(!0);e.classList.add("mobile-menu-item"),a.appendChild(e)});var n=document.createElement("button");n.className="mobile-menu-close",n.innerHTML="√ó",n.setAttribute("aria-label","Fechar menu"),s.appendChild(n),s.appendChild(a),t.appendChild(s),e.appendChild(o),document.body.appendChild(t),o.addEventListener("click",()=>{t.classList.add("active"),document.body.style.overflow="hidden"}),n.addEventListener("click",()=>{t.classList.remove("active"),document.body.style.overflow=""}),t.addEventListener("click",e=>{e.target===t&&(t.classList.remove("active"),document.body.style.overflow="")}),i.forEach(e=>{e.style.display="none"})}}optimizeModals(){document.querySelectorAll('.modal, [class*="modal"]').forEach(e=>{this.isMobile&&(e.classList.add("mobile-modal"),this.addSwipeToClose(e),e=e.querySelector('.modal-content, [class*="modal-content"]'))&&(e.style.maxHeight="90vh",e.style.overflow="auto")})}addSwipeToClose(t){let a=0,i=0,o=!1;t.addEventListener("touchstart",e=>{a=e.touches[0].clientY,o=!0}),t.addEventListener("touchmove",e=>{o&&0<(e=(i=e.touches[0].clientY)-a)&&(t.style.transform=`translateY(${e}px)`,t.style.opacity=Math.max(.5,1-e/300))}),t.addEventListener("touchend",()=>{o&&(100<i-a?t.style.display="none":(t.style.transform="",t.style.opacity=""),o=!1)})}optimizeCards(){this.isMobile&&document.querySelectorAll('.card, [class*="card"]').forEach(e=>{e.classList.add("mobile-card"),this.addRippleEffect(e);e=e.querySelector(".card-content, .card-body");e&&e.classList.add("mobile-card-content")})}addRippleEffect(s){s.addEventListener("touchstart",e=>{let t=document.createElement("span");t.className="ripple-effect";var a=s.getBoundingClientRect(),i=Math.max(a.width,a.height),o=e.touches[0].clientX-a.left-i/2,e=e.touches[0].clientY-a.top-i/2;t.style.width=t.style.height=i+"px",t.style.left=o+"px",t.style.top=e+"px",s.appendChild(t),setTimeout(()=>{t.remove()},600)})}optimizeButtons(){document.querySelectorAll('button, .btn, [role="button"]').forEach(e=>{var t;this.isMobile&&(e.classList.add("mobile-button"),"0px"!==(t=window.getComputedStyle(e).padding)&&t||(e.style.padding="12px 16px"),this.addTactileFeedback(e))})}addTactileFeedback(e){e.addEventListener("touchstart",()=>{e.style.transform="scale(0.95)",e.style.opacity="0.8",navigator.vibrate&&navigator.vibrate(10)}),e.addEventListener("touchend",()=>{setTimeout(()=>{e.style.transform="",e.style.opacity=""},100)})}addTouchGestures(){if(this.touchSupport){let a=0,i=0;document.addEventListener("touchstart",e=>{a=e.touches[0].clientX,i=e.touches[0].clientY}),document.addEventListener("touchend",e=>{var t=e.changedTouches[0].clientX,e=e.changedTouches[0].clientY,t=t-a,e=e-i;Math.abs(t)>Math.abs(e)&&50<Math.abs(t)&&(0<t?this.handleSwipeRight():this.handleSwipeLeft())}),this.addPullToRefresh()}}handleSwipeRight(){var e;1<window.history.length&&(e=new CustomEvent("swipeRight"),document.dispatchEvent(e))}handleSwipeLeft(){var e=new CustomEvent("swipeLeft");document.dispatchEvent(e)}addPullToRefresh(){let t=0,a=0,i=!1,o=document.createElement("div");o.className="pull-refresh-indicator",o.innerHTML="‚Üì Puxe para atualizar",o.style.display="none",document.body.insertBefore(o,document.body.firstChild),document.addEventListener("touchstart",e=>{0===window.scrollY&&(t=e.touches[0].clientY,i=!0)}),document.addEventListener("touchmove",e=>{i&&0<(a=e.touches[0].clientY-t)&&a<100&&(o.style.display="block",o.style.transform=`translateY(${a}px)`,o.style.opacity=a/100,60<a?(o.innerHTML="‚Üë Solte para atualizar",o.classList.add("ready")):(o.innerHTML="‚Üì Puxe para atualizar",o.classList.remove("ready")))}),document.addEventListener("touchend",()=>{i&&60<a?(o.innerHTML="üîÑ Atualizando...",o.classList.add("loading"),setTimeout(()=>{window.location.reload()},1e3)):(o.style.display="none",o.style.transform="",o.classList.remove("ready","loading")),i=!1,a=0})}optimizeImages(){document.querySelectorAll("img").forEach(e=>{"loading"in HTMLImageElement.prototype&&(e.loading="lazy"),this.isMobile&&!e.hasAttribute("srcset")&&(e.style.maxWidth="100%",e.style.height="auto"),e.complete||(e.style.backgroundColor="#f3f4f6",e.style.minHeight="100px")})}addOrientationHandler(){window.addEventListener("orientationchange",()=>{setTimeout(()=>{this.orientation=this.getOrientation(),document.body.classList.remove("orientation-portrait","orientation-landscape"),document.body.classList.add("orientation-"+this.orientation),this.optimizeViewport();var e=new CustomEvent("orientationChanged",{detail:{orientation:this.orientation}});document.dispatchEvent(e)},100)})}optimizePerformance(){if(this.isMobile){let t,a=window.onscroll;window.onscroll=function(e){clearTimeout(t),t=setTimeout(()=>{a&&a.call(this,e)},16)};var e=document.querySelectorAll("[data-lazy-load]");let i=new IntersectionObserver(e=>{e.forEach(e=>{var t;e.isIntersecting&&(t=(e=e.target).dataset.lazyLoad,window[t]&&window[t](e),i.unobserve(e))})});e.forEach(e=>{i.observe(e)}),this.preloadCriticalResources()}}preloadCriticalResources(){["/css/mobile.css","/css/critical.css"].forEach(e=>{var t=document.createElement("link");t.rel="preload",t.as="style",t.href=e,document.head.appendChild(t)}),["/js/mobile-core.js"].forEach(e=>{var t=document.createElement("link");t.rel="preload",t.as="script",t.href=e,document.head.appendChild(t)})}isMobileDevice(){return this.isMobile}isTabletDevice(){return this.isTablet}hasTouchSupport(){return this.touchSupport}getCurrentOrientation(){return this.orientation}reoptimize(){this.isMobile=this.detectMobile(),this.isTablet=this.detectTablet(),this.orientation=this.getOrientation(),this.addMobileClasses()}}let mobileOptimizationCSS=`
/* Mobile Device Styles */
.mobile-device {
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
}

.mobile-device * {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
}

.mobile-device input,
.mobile-device textarea,
.mobile-device [contenteditable] {
    -webkit-user-select: text;
    user-select: text;
}

/* Touch Device Styles */
.touch-device button,
.touch-device .btn,
.touch-device [role="button"] {
    min-height: 44px;
    min-width: 44px;
    position: relative;
    overflow: hidden;
}

/* Mobile Forms */
.mobile-form {
    padding: 16px;
}

.mobile-form input,
.mobile-form select,
.mobile-form textarea {
    font-size: 16px !important;
    padding: 12px 16px;
    border-radius: 8px;
    border: 2px solid #e5e7eb;
    width: 100%;
    box-sizing: border-box;
    margin-bottom: 16px;
}

.mobile-form input:focus,
.mobile-form select:focus,
.mobile-form textarea:focus {
    border-color: #8b5cf6;
    outline: none;
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.mobile-field-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    margin-bottom: 16px;
    background: #f9fafb;
    border-radius: 8px;
    padding: 8px 16px;
}

.field-nav-btn {
    background: #8b5cf6;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 14px;
    cursor: pointer;
}

.field-nav-btn:disabled {
    background: #d1d5db;
    cursor: not-allowed;
}

.field-counter {
    font-size: 12px;
    color: #6b7280;
    font-weight: 600;
}

/* Mobile Navigation */
.mobile-hamburger {
    display: block;
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    padding: 8px;
    color: #374151;
}

.mobile-menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.mobile-menu-overlay.active {
    opacity: 1;
    visibility: visible;
}

.mobile-menu-container {
    position: absolute;
    top: 0;
    right: 0;
    width: 80%;
    max-width: 300px;
    height: 100%;
    background: white;
    transform: translateX(100%);
    transition: transform 0.3s ease;
    display: flex;
    flex-direction: column;
}

.mobile-menu-overlay.active .mobile-menu-container {
    transform: translateX(0);
}

.mobile-menu-close {
    align-self: flex-end;
    background: none;
    border: none;
    font-size: 32px;
    padding: 16px;
    cursor: pointer;
    color: #6b7280;
}

.mobile-menu {
    flex: 1;
    padding: 0 16px;
    overflow-y: auto;
}

.mobile-menu-item {
    display: block;
    padding: 16px 0;
    border-bottom: 1px solid #e5e7eb;
    color: #374151;
    text-decoration: none;
    font-weight: 500;
}

.mobile-menu-item:hover {
    color: #8b5cf6;
}

/* Mobile Modals */
.mobile-modal {
    padding: 16px;
}

.mobile-modal .modal-content {
    margin: 0;
    border-radius: 16px 16px 0 0;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    max-height: 90vh;
    transform: translateY(100%);
    transition: transform 0.3s ease;
}

.mobile-modal.active .modal-content {
    transform: translateY(0);
}

/* Mobile Cards */
.mobile-card {
    margin-bottom: 16px;
    border-radius: 12px;
    overflow: hidden;
    position: relative;
}

.mobile-card-content {
    padding: 16px;
}

/* Ripple Effect */
.ripple-effect {
    position: absolute;
    border-radius: 50%;
    background: rgba(139, 92, 246, 0.3);
    transform: scale(0);
    animation: ripple 0.6s linear;
    pointer-events: none;
}

@keyframes ripple {
    to {
        transform: scale(4);
        opacity: 0;
    }
}

/* Mobile Buttons */
.mobile-button {
    min-height: 44px;
    padding: 12px 20px;
    font-size: 16px;
    border-radius: 8px;
    transition: all 0.2s ease;
    position: relative;
    overflow: hidden;
}

/* Pull to Refresh */
.pull-refresh-indicator {
    position: fixed;
    top: -60px;
    left: 50%;
    transform: translateX(-50%);
    background: #8b5cf6;
    color: white;
    padding: 12px 20px;
    border-radius: 0 0 12px 12px;
    font-size: 14px;
    font-weight: 600;
    z-index: 9999;
    transition: all 0.3s ease;
}

.pull-refresh-indicator.ready {
    background: #10b981;
}

.pull-refresh-indicator.loading {
    background: #f59e0b;
}

/* Orientation Styles */
.orientation-portrait {
    /* Estilos espec√≠ficos para modo retrato */
}

.orientation-landscape {
    /* Estilos espec√≠ficos para modo paisagem */
}

.orientation-landscape .mobile-menu-container {
    width: 60%;
}

/* Tablet Optimizations */
.tablet-device .mobile-menu-container {
    width: 40%;
    max-width: 400px;
}

.tablet-device .mobile-form {
    max-width: 600px;
    margin: 0 auto;
}

/* Responsive Grid for Mobile */
@media (max-width: 768px) {
    .grid,
    .row,
    [class*="grid"] {
        display: block !important;
    }
    
    .grid > *,
    .row > *,
    [class*="grid"] > * {
        width: 100% !important;
        margin-bottom: 16px;
    }
    
    .container {
        padding: 16px;
    }
    
    h1 { font-size: 24px; }
    h2 { font-size: 20px; }
    h3 { font-size: 18px; }
    h4 { font-size: 16px; }
    h5 { font-size: 14px; }
    h6 { font-size: 12px; }
    
    .btn,
    button {
        width: 100%;
        margin-bottom: 8px;
    }
    
    .btn:last-child,
    button:last-child {
        margin-bottom: 0;
    }
    
    table {
        font-size: 12px;
    }
    
    .table-responsive {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
}

/* Very Small Screens */
@media (max-width: 480px) {
    .mobile-menu-container {
        width: 90%;
    }
    
    .mobile-form {
        padding: 12px;
    }
    
    .mobile-button {
        min-height: 48px;
        font-size: 18px;
    }
    
    .field-nav-btn {
        padding: 8px 12px;
        font-size: 12px;
    }
}

/* High DPI Displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .mobile-device img {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
    }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
    .mobile-device {
        background-color: #1f2937;
        color: #f9fafb;
    }
    
    .mobile-form input,
    .mobile-form select,
    .mobile-form textarea {
        background: #374151;
        border-color: #4b5563;
        color: #f9fafb;
    }
    
    .mobile-menu-container {
        background: #1f2937;
    }
    
    .mobile-menu-item {
        color: #f9fafb;
        border-color: #374151;
    }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .mobile-modal .modal-content,
    .mobile-menu-container,
    .ripple-effect {
        transition: none;
        animation: none;
    }
}
`;if(!document.getElementById("mobile-optimization-styles")){let style=document.createElement("style");style.id="mobile-optimization-styles",style.textContent=mobileOptimizationCSS,document.head.appendChild(style)}document.addEventListener("DOMContentLoaded",()=>{window.mobileOptimization=new MobileOptimizationSystem}),window.MobileOptimizationSystem=MobileOptimizationSystem;class PortfolioSystem{constructor(){this.portfolioData=JSON.parse(localStorage.getItem("userPortfolio")||"{}"),this.supportedTypes=["image","video","document","link","code"],this.maxFileSize=10485760,this.githubIntegration=!1,this.behanceIntegration=!1}createPortfolioInterface(e){e=document.getElementById(e);e&&(e.innerHTML=`
            <div class="portfolio-system">
                <div class="portfolio-header">
                    <h3>üé® Portf√≥lio Interativo</h3>
                    <div class="portfolio-actions">
                        <button class="portfolio-btn primary" onclick="portfolioSystem.showAddProjectModal()">
                            + Adicionar Projeto
                        </button>
                        <button class="portfolio-btn secondary" onclick="portfolioSystem.showIntegrationsModal()">
                            üîó Integra√ß√µes
                        </button>
                        <button class="portfolio-btn secondary" onclick="portfolioSystem.toggleViewMode()">
                            üì± Modo Visualiza√ß√£o
                        </button>
                    </div>
                </div>

                <div class="portfolio-stats">
                    <div class="stat-item">
                        <span class="stat-number" id="projects-count">0</span>
                        <span class="stat-label">Projetos</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="views-count">0</span>
                        <span class="stat-label">Visualiza√ß√µes</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="likes-count">0</span>
                        <span class="stat-label">Curtidas</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="portfolio-score">0</span>
                        <span class="stat-label">Score</span>
                    </div>
                </div>

                <div class="portfolio-filters">
                    <button class="filter-btn active" data-filter="all">Todos</button>
                    <button class="filter-btn" data-filter="web">Web</button>
                    <button class="filter-btn" data-filter="mobile">Mobile</button>
                    <button class="filter-btn" data-filter="design">Design</button>
                    <button class="filter-btn" data-filter="data">Data Science</button>
                    <button class="filter-btn" data-filter="other">Outros</button>
                </div>

                <div id="portfolio-grid" class="portfolio-grid">
                    <!-- Projects will be loaded here -->
                </div>

                <div class="portfolio-integrations">
                    <h4>üîó Integra√ß√µes Externas</h4>
                    <div class="integrations-grid">
                        <div class="integration-item" id="github-integration">
                            <div class="integration-icon">üêô</div>
                            <div class="integration-info">
                                <h5>GitHub</h5>
                                <p>Sincronize seus reposit√≥rios automaticamente</p>
                            </div>
                            <button class="integration-btn" onclick="portfolioSystem.connectGitHub()">
                                Conectar
                            </button>
                        </div>
                        <div class="integration-item" id="behance-integration">
                            <div class="integration-icon">üé®</div>
                            <div class="integration-info">
                                <h5>Behance</h5>
                                <p>Importe seus projetos de design</p>
                            </div>
                            <button class="integration-btn" onclick="portfolioSystem.connectBehance()">
                                Conectar
                            </button>
                        </div>
                        <div class="integration-item" id="linkedin-integration">
                            <div class="integration-icon">üíº</div>
                            <div class="integration-info">
                                <h5>LinkedIn</h5>
                                <p>Compartilhe projetos no seu perfil</p>
                            </div>
                            <button class="integration-btn" onclick="portfolioSystem.connectLinkedIn()">
                                Conectar
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add Project Modal -->
            <div id="add-project-modal" class="portfolio-modal" style="display: none;">
                <div class="modal-overlay" onclick="portfolioSystem.closeModal('add-project-modal')"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>üìÅ Adicionar Projeto</h3>
                        <button onclick="portfolioSystem.closeModal('add-project-modal')">√ó</button>
                    </div>
                    <div class="modal-body">
                        <form id="project-form" class="project-form">
                            <div class="form-group">
                                <label>T√≠tulo do Projeto *</label>
                                <input type="text" id="project-title" required>
                            </div>
                            
                            <div class="form-group">
                                <label>Categoria *</label>
                                <select id="project-category" required>
                                    <option value="">Selecione uma categoria</option>
                                    <option value="web">Desenvolvimento Web</option>
                                    <option value="mobile">Desenvolvimento Mobile</option>
                                    <option value="design">Design/UI/UX</option>
                                    <option value="data">Data Science/Analytics</option>
                                    <option value="other">Outros</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Descri√ß√£o *</label>
                                <textarea id="project-description" rows="4" required></textarea>
                            </div>

                            <div class="form-group">
                                <label>Tecnologias Utilizadas</label>
                                <input type="text" id="project-technologies" placeholder="Ex: React, Node.js, MongoDB">
                            </div>

                            <div class="form-group">
                                <label>Link do Projeto</label>
                                <input type="url" id="project-link" placeholder="https://...">
                            </div>

                            <div class="form-group">
                                <label>Reposit√≥rio GitHub</label>
                                <input type="url" id="project-github" placeholder="https://github.com/...">
                            </div>

                            <div class="form-group">
                                <label>Imagens/Arquivos</label>
                                <div class="file-upload-area" onclick="document.getElementById('project-files').click()">
                                    <div class="upload-icon">üìÅ</div>
                                    <p>Clique para selecionar arquivos</p>
                                    <small>M√°ximo 10MB por arquivo</small>
                                </div>
                                <input type="file" id="project-files" multiple accept="image/*,video/*,.pdf,.doc,.docx" style="display: none;">
                                <div id="selected-files" class="selected-files"></div>
                            </div>

                            <div class="form-actions">
                                <button type="button" onclick="portfolioSystem.closeModal('add-project-modal')">
                                    Cancelar
                                </button>
                                <button type="submit">Adicionar Projeto</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Project Detail Modal -->
            <div id="project-detail-modal" class="portfolio-modal" style="display: none;">
                <div class="modal-overlay" onclick="portfolioSystem.closeModal('project-detail-modal')"></div>
                <div class="modal-content large">
                    <div class="modal-header">
                        <h3 id="detail-project-title">T√≠tulo do Projeto</h3>
                        <div class="project-actions">
                            <button onclick="portfolioSystem.likeProject()" id="like-btn">‚ù§Ô∏è Curtir</button>
                            <button onclick="portfolioSystem.shareProject()" id="share-btn">üì§ Compartilhar</button>
                            <button onclick="portfolioSystem.closeModal('project-detail-modal')">√ó</button>
                        </div>
                    </div>
                    <div class="modal-body">
                        <div id="project-detail-content">
                            <!-- Project details will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Integrations Modal -->
            <div id="integrations-modal" class="portfolio-modal" style="display: none;">
                <div class="modal-overlay" onclick="portfolioSystem.closeModal('integrations-modal')"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>üîó Configurar Integra√ß√µes</h3>
                        <button onclick="portfolioSystem.closeModal('integrations-modal')">√ó</button>
                    </div>
                    <div class="modal-body">
                        <div class="integration-setup">
                            <div class="setup-item">
                                <h4>üêô GitHub</h4>
                                <p>Conecte sua conta do GitHub para importar reposit√≥rios automaticamente.</p>
                                <input type="text" id="github-username" placeholder="Seu username do GitHub">
                                <button onclick="portfolioSystem.syncGitHub()">Sincronizar Reposit√≥rios</button>
                            </div>
                            
                            <div class="setup-item">
                                <h4>üé® Behance</h4>
                                <p>Importe seus projetos de design do Behance.</p>
                                <input type="text" id="behance-username" placeholder="Seu username do Behance">
                                <button onclick="portfolioSystem.syncBehance()">Importar Projetos</button>
                            </div>
                            
                            <div class="setup-item">
                                <h4>üìä Analytics</h4>
                                <p>Configure o rastreamento de visualiza√ß√µes e engajamento.</p>
                                <label>
                                    <input type="checkbox" id="enable-analytics" checked>
                                    Habilitar analytics detalhado
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `,this.attachEventListeners(),this.loadPortfolio(),this.updateStats())}attachEventListeners(){var e=document.getElementById("project-form"),e=(e&&e.addEventListener("submit",e=>{e.preventDefault(),this.addProject()}),document.getElementById("project-files"));e&&e.addEventListener("change",e=>{this.handleFileSelection(e.target.files)});let t=document.querySelectorAll(".filter-btn");t.forEach(e=>{e.addEventListener("click",e=>{this.filterProjects(e.target.dataset.filter),t.forEach(e=>e.classList.remove("active")),e.target.classList.add("active")})})}handleFileSelection(e){let i=document.getElementById("selected-files");i&&(i.innerHTML="",Array.from(e).forEach((e,t)=>{var a;e.size>this.maxFileSize?alert(`Arquivo ${e.name} √© muito grande. M√°ximo 10MB.`):((a=document.createElement("div")).className="file-item",a.innerHTML=`
                <div class="file-info">
                    <span class="file-name">${e.name}</span>
                    <span class="file-size">${this.formatFileSize(e.size)}</span>
                </div>
                <button type="button" onclick="this.parentElement.remove()">√ó</button>
            `,i.appendChild(a))}))}addProject(){var e=document.getElementById("project-title").value,t=document.getElementById("project-category").value,a=document.getElementById("project-description").value,i=document.getElementById("project-technologies").value,o=document.getElementById("project-link").value,s=document.getElementById("project-github").value,n=document.getElementById("project-files").files;e&&t&&a?(e={id:Date.now().toString(),title:e,category:t,description:a,technologies:i.split(",").map(e=>e.trim()).filter(e=>e),link:o,github:s,files:Array.from(n).map(e=>({name:e.name,size:e.size,type:e.type,url:URL.createObjectURL(e)})),createdAt:(new Date).toISOString(),views:0,likes:0,featured:!1},this.portfolioData.projects||(this.portfolioData.projects=[]),this.portfolioData.projects.push(e),this.savePortfolio(),this.loadPortfolio(),this.updateStats(),this.closeModal("add-project-modal"),document.getElementById("project-form").reset(),document.getElementById("selected-files").innerHTML="",alert("Projeto adicionado com sucesso!")):alert("Preencha todos os campos obrigat√≥rios!")}loadPortfolio(){var e,t=document.getElementById("portfolio-grid");t&&(0===(e=this.portfolioData.projects||[]).length?t.innerHTML=`
                <div class="empty-portfolio">
                    <div class="empty-icon">üìÅ</div>
                    <h4>Seu portf√≥lio est√° vazio</h4>
                    <p>Adicione seus primeiros projetos para mostrar suas habilidades</p>
                    <button onclick="portfolioSystem.showAddProjectModal()">
                        Adicionar Primeiro Projeto
                    </button>
                </div>
            `:t.innerHTML=e.map(e=>`
            <div class="project-card" data-category="${e.category}" onclick="portfolioSystem.showProjectDetail('${e.id}')">
                <div class="project-image">
                    ${e.files&&0<e.files.length?`<img src="${e.files[0].url}" alt="${e.title}" loading="lazy">`:`<div class="project-placeholder">${this.getCategoryIcon(e.category)}</div>`}
                    ${e.featured?'<div class="featured-badge">‚≠ê Destaque</div>':""}
                </div>
                <div class="project-content">
                    <h4 class="project-title">${e.title}</h4>
                    <p class="project-description">${e.description.substring(0,100)}...</p>
                    <div class="project-technologies">
                        ${e.technologies.slice(0,3).map(e=>`<span class="tech-tag">${e}</span>`).join("")}
                        ${3<e.technologies.length?`<span class="tech-more">+${e.technologies.length-3}</span>`:""}
                    </div>
                    <div class="project-stats">
                        <span class="stat">üëÅÔ∏è ${e.views}</span>
                        <span class="stat">‚ù§Ô∏è ${e.likes}</span>
                        ${e.link?'<span class="stat">üîó Link</span>':""}
                        ${e.github?'<span class="stat">üêô GitHub</span>':""}
                    </div>
                </div>
            </div>
        `).join(""))}showProjectDetail(t){var e,a,i,o=this.portfolioData.projects?.find(e=>e.id===t);o&&(o.views++,this.savePortfolio(),this.updateStats(),e=document.getElementById("project-detail-modal"),a=document.getElementById("detail-project-title"),i=document.getElementById("project-detail-content"),a.textContent=o.title,i.innerHTML=`
            <div class="project-detail-grid">
                <div class="project-media">
                    ${o.files&&0<o.files.length?`
                            <div class="media-gallery">
                                ${o.files.map((e,t)=>`
                                    <div class="media-item ${0===t?"active":""}" onclick="portfolioSystem.showMedia(${t})">
                                        ${e.type.startsWith("image/")?`<img src="${e.url}" alt="${e.name}">`:`<div class="file-preview">${this.getFileIcon(e.type)}<span>${e.name}</span></div>`}
                                    </div>
                                `).join("")}
                            </div>
                        `:'<div class="no-media">Nenhuma m√≠dia dispon√≠vel</div>'}
                </div>
                <div class="project-info">
                    <div class="info-section">
                        <h5>üìù Descri√ß√£o</h5>
                        <p>${o.description}</p>
                    </div>
                    
                    ${0<o.technologies.length?`
                        <div class="info-section">
                            <h5>üõ†Ô∏è Tecnologias</h5>
                            <div class="tech-list">
                                ${o.technologies.map(e=>`<span class="tech-badge">${e}</span>`).join("")}
                            </div>
                        </div>
                    `:""}
                    
                    <div class="info-section">
                        <h5>üîó Links</h5>
                        <div class="project-links">
                            ${o.link?`<a href="${o.link}" target="_blank" class="project-link">üåê Ver Projeto</a>`:""}
                            ${o.github?`<a href="${o.github}" target="_blank" class="project-link">üêô GitHub</a>`:""}
                        </div>
                    </div>
                    
                    <div class="info-section">
                        <h5>üìä Estat√≠sticas</h5>
                        <div class="project-metrics">
                            <div class="metric">
                                <span class="metric-value">${o.views}</span>
                                <span class="metric-label">Visualiza√ß√µes</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">${o.likes}</span>
                                <span class="metric-label">Curtidas</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">${this.formatDate(o.createdAt)}</span>
                                <span class="metric-label">Criado em</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `,e.style.display="flex")}filterProjects(t){document.querySelectorAll(".project-card").forEach(e=>{"all"===t||e.dataset.category===t?e.style.display="block":e.style.display="none"})}connectGitHub(){var e=prompt("Digite seu username do GitHub:");e&&(this.githubIntegration=!0,alert("GitHub conectado! Username: "+e),this.updateIntegrationStatus("github",!0))}connectBehance(){var e=prompt("Digite seu username do Behance:");e&&(this.behanceIntegration=!0,alert("Behance conectado! Username: "+e),this.updateIntegrationStatus("behance",!0))}connectLinkedIn(){alert("Redirecionando para autentica√ß√£o do LinkedIn..."),setTimeout(()=>{alert("LinkedIn conectado com sucesso!"),this.updateIntegrationStatus("linkedin",!0)},2e3)}updateIntegrationStatus(e,t){var e=document.getElementById(e+"-integration");e&&(e=e.querySelector(".integration-btn"),t)&&(e.textContent="Conectado ‚úì",e.style.background="#10b981",e.disabled=!0)}syncGitHub(){let t=document.getElementById("github-username").value;t?(alert("Sincronizando reposit√≥rios..."),setTimeout(()=>{var e=[{title:"E-commerce React App",category:"web",description:"Aplica√ß√£o de e-commerce completa com React e Node.js",technologies:["React","Node.js","MongoDB","Stripe"],github:`https://github.com/${t}/ecommerce-app`},{title:"Task Manager API",category:"web",description:"API RESTful para gerenciamento de tarefas",technologies:["Node.js","Express","PostgreSQL"],github:`https://github.com/${t}/task-manager-api`}];e.forEach(e=>{e={id:Date.now().toString()+Math.random(),...e,files:[],createdAt:(new Date).toISOString(),views:Math.floor(100*Math.random()),likes:Math.floor(20*Math.random()),featured:!1};this.portfolioData.projects||(this.portfolioData.projects=[]),this.portfolioData.projects.push(e)}),this.savePortfolio(),this.loadPortfolio(),this.updateStats(),this.closeModal("integrations-modal"),alert(e.length+" reposit√≥rios importados com sucesso!")},2e3)):alert("Digite seu username do GitHub!")}syncBehance(){let t=document.getElementById("behance-username").value;t?(alert("Importando projetos do Behance..."),setTimeout(()=>{var e=[{title:"Brand Identity Design",category:"design",description:"Identidade visual completa para startup de tecnologia",technologies:["Photoshop","Illustrator","Figma"],link:`https://behance.net/${t}/brand-identity`}];e.forEach(e=>{e={id:Date.now().toString()+Math.random(),...e,files:[],createdAt:(new Date).toISOString(),views:Math.floor(200*Math.random()),likes:Math.floor(50*Math.random()),featured:!0};this.portfolioData.projects||(this.portfolioData.projects=[]),this.portfolioData.projects.push(e)}),this.savePortfolio(),this.loadPortfolio(),this.updateStats(),this.closeModal("integrations-modal"),alert(e.length+" projetos importados do Behance!")},2e3)):alert("Digite seu username do Behance!")}updateStats(){var e=this.portfolioData.projects||[],t=e.reduce((e,t)=>e+(t.views||0),0),a=e.reduce((e,t)=>e+(t.likes||0),0),i=this.calculatePortfolioScore(e);document.getElementById("projects-count").textContent=e.length,document.getElementById("views-count").textContent=t,document.getElementById("likes-count").textContent=a,document.getElementById("portfolio-score").textContent=i}calculatePortfolioScore(e){var t;return 0===e.length?0:(t=0,t=(t=(t=(t=(t+=10*e.length)+.1*e.reduce((e,t)=>e+(t.views||0),0))+2*e.reduce((e,t)=>e+(t.likes||0),0))+5*e.filter(e=>e.github).length)+5*e.filter(e=>e.link).length,Math.round(t))}getCategoryIcon(e){return{web:"üåê",mobile:"üì±",design:"üé®",data:"üìä",other:"üíº"}[e]||"üìÅ"}getFileIcon(e){return e.startsWith("image/")?"üñºÔ∏è":e.startsWith("video/")?"üé•":e.includes("pdf")?"üìÑ":"üìÅ"}formatFileSize(e){var t;return 0===e?"0 Bytes":(t=Math.floor(Math.log(e)/Math.log(1024)),parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t])}formatDate(e){return new Date(e).toLocaleDateString("pt-BR")}showAddProjectModal(){document.getElementById("add-project-modal").style.display="flex"}showIntegrationsModal(){document.getElementById("integrations-modal").style.display="flex"}closeModal(e){document.getElementById(e).style.display="none"}likeProject(){alert("Projeto curtido!")}shareProject(){navigator.share?navigator.share({title:"Confira este projeto",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copiado para a √°rea de transfer√™ncia!"))}toggleViewMode(){var e=document.getElementById("portfolio-grid");e.classList.toggle("grid-view"),e.classList.toggle("list-view")}savePortfolio(){localStorage.setItem("userPortfolio",JSON.stringify(this.portfolioData))}init(){}}let portfolioCSS=`
.portfolio-system {
    background: #f8fafc;
    border-radius: 16px;
    padding: 24px;
    margin: 20px 0;
}

.portfolio-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
}

.portfolio-header h3 {
    margin: 0;
    color: #1f2937;
    font-size: 24px;
}

.portfolio-actions {
    display: flex;
    gap: 12px;
}

.portfolio-btn {
    padding: 8px 16px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-weight: 600;
    font-size: 14px;
    transition: all 0.2s;
}

.portfolio-btn.primary {
    background: #8b5cf6;
    color: white;
}

.portfolio-btn.primary:hover {
    background: #7c3aed;
}

.portfolio-btn.secondary {
    background: white;
    color: #6b7280;
    border: 1px solid #d1d5db;
}

.portfolio-btn.secondary:hover {
    background: #f9fafb;
}

.portfolio-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
}

.stat-item {
    background: white;
    padding: 16px;
    border-radius: 12px;
    text-align: center;
    border: 1px solid #e5e7eb;
}

.stat-number {
    display: block;
    font-size: 24px;
    font-weight: 700;
    color: #8b5cf6;
    margin-bottom: 4px;
}

.stat-label {
    font-size: 12px;
    color: #6b7280;
    text-transform: uppercase;
    font-weight: 600;
}

.portfolio-filters {
    display: flex;
    gap: 8px;
    margin-bottom: 24px;
    flex-wrap: wrap;
}

.filter-btn {
    padding: 8px 16px;
    border: 1px solid #d1d5db;
    background: white;
    border-radius: 20px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s;
}

.filter-btn:hover,
.filter-btn.active {
    background: #8b5cf6;
    color: white;
    border-color: #8b5cf6;
}

.portfolio-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 32px;
}

.project-card {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    cursor: pointer;
}

.project-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.project-image {
    position: relative;
    height: 200px;
    overflow: hidden;
}

.project-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.project-placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 48px;
    color: white;
}

.featured-badge {
    position: absolute;
    top: 12px;
    right: 12px;
    background: #f59e0b;
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
}

.project-content {
    padding: 20px;
}

.project-title {
    margin: 0 0 8px 0;
    color: #1f2937;
    font-size: 18px;
    font-weight: 600;
}

.project-description {
    color: #6b7280;
    font-size: 14px;
    line-height: 1.5;
    margin-bottom: 16px;
}

.project-technologies {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 16px;
}

.tech-tag {
    background: #f3f4f6;
    color: #374151;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
}

.tech-more {
    background: #8b5cf6;
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
}

.project-stats {
    display: flex;
    gap: 16px;
    font-size: 12px;
    color: #6b7280;
}

.empty-portfolio {
    grid-column: 1 / -1;
    text-align: center;
    padding: 60px 20px;
    color: #6b7280;
}

.empty-icon {
    font-size: 64px;
    margin-bottom: 16px;
}

.empty-portfolio h4 {
    margin: 0 0 8px 0;
    color: #374151;
    font-size: 20px;
}

.empty-portfolio button {
    background: #8b5cf6;
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    margin-top: 16px;
}

.portfolio-integrations {
    background: white;
    border-radius: 12px;
    padding: 24px;
    border: 1px solid #e5e7eb;
}

.portfolio-integrations h4 {
    margin: 0 0 20px 0;
    color: #1f2937;
}

.integrations-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;
}

.integration-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    transition: border-color 0.2s;
}

.integration-item:hover {
    border-color: #8b5cf6;
}

.integration-icon {
    font-size: 24px;
    width: 40px;
    text-align: center;
}

.integration-info {
    flex: 1;
}

.integration-info h5 {
    margin: 0 0 4px 0;
    color: #1f2937;
    font-size: 14px;
}

.integration-info p {
    margin: 0;
    color: #6b7280;
    font-size: 12px;
}

.integration-btn {
    background: #8b5cf6;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 600;
}

.portfolio-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
}

.modal-content {
    background: white;
    border-radius: 16px;
    width: 90%;
    max-width: 600px;
    max-height: 90vh;
    overflow-y: auto;
}

.modal-content.large {
    max-width: 900px;
}

.modal-header {
    padding: 24px;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h3 {
    margin: 0;
    color: #1f2937;
}

.modal-header button {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #6b7280;
}

.modal-body {
    padding: 24px;
}

.project-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.form-group label {
    font-weight: 600;
    color: #374151;
    font-size: 14px;
}

.form-group input,
.form-group select,
.form-group textarea {
    border: 1px solid #d1d5db;
    border-radius: 8px;
    padding: 12px;
    font-size: 14px;
    outline: none;
    transition: border-color 0.2s;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    border-color: #8b5cf6;
}

.file-upload-area {
    border: 2px dashed #d1d5db;
    border-radius: 8px;
    padding: 40px 20px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
}

.file-upload-area:hover {
    border-color: #8b5cf6;
    background: #f9fafb;
}

.upload-icon {
    font-size: 32px;
    margin-bottom: 12px;
}

.selected-files {
    margin-top: 12px;
}

.file-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    background: #f9fafb;
    border-radius: 6px;
    margin-bottom: 8px;
}

.file-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.file-name {
    font-size: 14px;
    color: #374151;
}

.file-size {
    font-size: 12px;
    color: #6b7280;
}

.form-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 24px;
}

.form-actions button {
    padding: 12px 24px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-weight: 600;
}

.form-actions button[type="submit"] {
    background: #8b5cf6;
    color: white;
}

.form-actions button[type="button"] {
    background: #f3f4f6;
    color: #374151;
}

.project-detail-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 32px;
}

.media-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 12px;
}

.media-item {
    aspect-ratio: 1;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    border: 2px solid transparent;
    transition: border-color 0.2s;
}

.media-item.active {
    border-color: #8b5cf6;
}

.media-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.file-preview {
    width: 100%;
    height: 100%;
    background: #f3f4f6;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    text-align: center;
    padding: 8px;
}

.info-section {
    margin-bottom: 24px;
}

.info-section h5 {
    margin: 0 0 12px 0;
    color: #1f2937;
    font-size: 16px;
}

.tech-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.tech-badge {
    background: #8b5cf6;
    color: white;
    padding: 6px 12px;
    border-radius: 16px;
    font-size: 12px;
    font-weight: 600;
}

.project-links {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.project-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    color: #8b5cf6;
    text-decoration: none;
    font-weight: 600;
    font-size: 14px;
}

.project-link:hover {
    text-decoration: underline;
}

.project-metrics {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
}

.metric {
    text-align: center;
    padding: 12px;
    background: #f9fafb;
    border-radius: 8px;
}

.metric-value {
    display: block;
    font-size: 18px;
    font-weight: 700;
    color: #8b5cf6;
    margin-bottom: 4px;
}

.metric-label {
    font-size: 12px;
    color: #6b7280;
}

@media (max-width: 768px) {
    .portfolio-header {
        flex-direction: column;
        gap: 16px;
        align-items: stretch;
    }
    
    .portfolio-actions {
        justify-content: center;
    }
    
    .portfolio-grid {
        grid-template-columns: 1fr;
    }
    
    .project-detail-grid {
        grid-template-columns: 1fr;
    }
    
    .integrations-grid {
        grid-template-columns: 1fr;
    }
    
    .project-metrics {
        grid-template-columns: 1fr;
    }
}
`;if(!document.getElementById("portfolio-styles")){let style=document.createElement("style");style.id="portfolio-styles",style.textContent=portfolioCSS,document.head.appendChild(style)}function showResponsibilityAlert(){let t=document.createElement("div");t.id="responsibilityModal",t.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10000;
        animation: fadeIn 0.3s ease;
    `,t.innerHTML=`
        <div style="background: white; padding: 2.5rem; border-radius: 20px; max-width: 600px; width: 90%; box-shadow: 0 20px 40px rgba(0,0,0,0.3);">
            <div style="text-align: center; margin-bottom: 2rem;">
                <div style="font-size: 3rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
                <h2 style="color: #DC2626; margin-bottom: 1rem; font-size: 1.5rem;">Responsabilidade sobre o Conte√∫do</h2>
            </div>
            
            <div style="background: #FEF2F2; border: 1px solid #FECACA; border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem;">
                <h3 style="color: #991B1B; margin-bottom: 1rem; font-size: 1.1rem;">üìã Termos de Responsabilidade</h3>
                <div style="color: #7F1D1D; line-height: 1.6; font-size: 0.95rem;">
                    <p style="margin-bottom: 1rem;"><strong>Ao publicar conte√∫do na plataforma ClaunNetworking, voc√™ declara que:</strong></p>
                    <ul style="margin-left: 1.5rem; margin-bottom: 1rem;">
                        <li>O conte√∫do √© de sua autoria ou voc√™ possui autoriza√ß√£o para public√°-lo</li>
                        <li>As informa√ß√µes fornecidas s√£o verdadeiras e precisas</li>
                        <li>O conte√∫do n√£o viola direitos autorais, marcas registradas ou propriedade intelectual</li>
                        <li>N√£o h√° conte√∫do ofensivo, discriminat√≥rio ou inadequado</li>
                        <li>Voc√™ assume total responsabilidade pelo conte√∫do publicado</li>
                    </ul>
                    <p style="margin-bottom: 1rem;"><strong>A ClaunNetworking se reserva o direito de:</strong></p>
                    <ul style="margin-left: 1.5rem; margin-bottom: 1rem;">
                        <li>Revisar e moderar todo conte√∫do publicado</li>
                        <li>Remover conte√∫do que viole nossos termos de uso</li>
                        <li>Suspender contas que publiquem conte√∫do inadequado</li>
                        <li>Tomar medidas legais quando necess√°rio</li>
                    </ul>
                </div>
            </div>
            
            <div style="background: #F0F9FF; border: 1px solid #BAE6FD; border-radius: 12px; padding: 1rem; margin-bottom: 2rem;">
                <p style="color: #1E40AF; margin: 0; font-size: 0.9rem; text-align: center;">
                    üí° <strong>Dica:</strong> Revise sempre seu conte√∫do antes de publicar. Conte√∫do de qualidade gera melhores resultados!
                </p>
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button onclick="acceptResponsibility()" 
                        style="flex: 1; max-width: 200px; padding: 0.75rem 1.5rem; background: #10B981; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                    ‚úÖ Aceito os Termos
                </button>
                <button onclick="closeResponsibilityAlert()" 
                        style="flex: 1; max-width: 200px; padding: 0.75rem 1.5rem; background: #6B7280; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                    ‚ùå Cancelar
                </button>
            </div>
            
            <div style="margin-top: 1.5rem; text-align: center;">
                <label style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; color: #6B7280; font-size: 0.9rem; cursor: pointer;">
                    <input type="checkbox" id="dontShowAgain" style="margin: 0;">
                    N√£o mostrar este alerta novamente
                </label>
            </div>
        </div>
    `;var e=document.createElement("style");e.textContent=`
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        #responsibilityModal button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
    `,document.head.appendChild(e),document.body.appendChild(t),setTimeout(()=>{var e=t.querySelector('button[onclick="acceptResponsibility()"]');e&&e.focus()},100)}function acceptResponsibility(){document.getElementById("dontShowAgain").checked&&localStorage.setItem("claunnetworkingworking_responsibility_accepted","true"),closeResponsibilityAlert(),showSuccessMessage("Termos aceitos com sucesso! Voc√™ pode prosseguir com a publica√ß√£o.")}function closeResponsibilityAlert(){let e=document.getElementById("responsibilityModal");e&&(e.style.animation="fadeOut 0.3s ease",setTimeout(()=>{document.body.removeChild(e)},300))}function checkResponsibilityAcceptance(){return"true"===localStorage.getItem("claunnetworkingworking_responsibility_accepted")}function showSuccessMessage(e){let t=document.createElement("div");t.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #10B981;
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        z-index: 10001;
        animation: slideIn 0.3s ease;
        max-width: 400px;
    `,t.innerHTML=`
        <div style="display: flex; align-items: center; gap: 0.5rem;">
            <span style="font-size: 1.2rem;">‚úÖ</span>
            <span>${e}</span>
        </div>
    `;e=document.createElement("style");e.textContent=`
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
    `,document.head.appendChild(e),document.body.appendChild(t),setTimeout(()=>{t.style.animation="slideOut 0.3s ease",setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},300)},4e3)}function validateContentResponsibility(e){checkResponsibilityAcceptance()?e&&e():(showResponsibilityAlert(),window.originalAcceptResponsibility=window.acceptResponsibility,window.acceptResponsibility=function(){window.originalAcceptResponsibility(),e&&e(),window.acceptResponsibility=window.originalAcceptResponsibility})}window.portfolioSystem=new PortfolioSystem,window.showResponsibilityAlert=showResponsibilityAlert,window.acceptResponsibility=acceptResponsibility,window.closeResponsibilityAlert=closeResponsibilityAlert,window.validateContentResponsibility=validateContentResponsibility;class SalaryTransparencySystem{constructor(){this.marketData=this.initializeMarketData(),this.benefits=this.initializeBenefits()}initializeMarketData(){return{"desenvolvedor-frontend":{min:4500,max:12e3,median:7500},"desenvolvedor-backend":{min:5e3,max:15e3,median:8500},"desenvolvedor-fullstack":{min:5500,max:16e3,median:9e3},"designer-ux-ui":{min:4e3,max:11e3,median:6800},"analista-dados":{min:5500,max:14e3,median:8200},"gerente-projetos":{min:7e3,max:18e3,median:11e3},"marketing-digital":{min:3500,max:9e3,median:5800},vendas:{min:3e3,max:12e3,median:6500},"recursos-humanos":{min:4e3,max:1e4,median:6200},financeiro:{min:4500,max:13e3,median:7800}}}initializeBenefits(){return{"plano-saude":{value:350,description:"Plano de sa√∫de completo"},"plano-odonto":{value:80,description:"Plano odontol√≥gico"},"vale-refeicao":{value:600,description:"Vale refei√ß√£o mensal"},"vale-alimentacao":{value:400,description:"Vale alimenta√ß√£o mensal"},"vale-transporte":{value:220,description:"Vale transporte mensal"},gympass:{value:120,description:"Acesso a academias"},"home-office":{value:200,description:"Aux√≠lio home office"},plr:{value:1500,description:"Participa√ß√£o nos lucros (anual)"},bonus:{value:2e3,description:"B√¥nus por performance (anual)"},treinamentos:{value:300,description:"Investimento em capacita√ß√£o"},convenios:{value:150,description:"Conv√™nios e descontos"},"seguro-vida":{value:100,description:"Seguro de vida"}}}calculateBenefitsValue(e){let a=0,i=0;return e.forEach(e=>{var t=this.benefits[e];t&&("plr"===e||"bonus"===e?i+=t.value:a+=t.value)}),{monthly:a,annual:i,monthlyEquivalent:a+i/12}}createBenefitsCalculator(e,a=[]){var t,e=document.getElementById(e);e&&(t=`
            <div class="benefits-calculator">
                <h3>üí∞ Calculadora de Benef√≠cios</h3>
                <div class="benefits-grid">
                    ${Object.entries(this.benefits).map(([e,t])=>`
                        <div class="benefit-item">
                            <label class="benefit-checkbox">
                                <input type="checkbox" value="${e}" 
                                    ${a.includes(e)?"checked":""}>
                                <span class="checkmark"></span>
                                <div class="benefit-info">
                                    <span class="benefit-name">${t.description}</span>
                                    <span class="benefit-value">R$ ${t.value.toLocaleString("pt-BR")}</span>
                                </div>
                            </label>
                        </div>
                    `).join("")}
                </div>
                <div class="benefits-summary">
                    <div class="summary-item">
                        <span class="summary-label">Benef√≠cios Mensais:</span>
                        <span class="summary-value" id="monthly-benefits">R$ 0</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Benef√≠cios Anuais:</span>
                        <span class="summary-value" id="annual-benefits">R$ 0</span>
                    </div>
                    <div class="summary-item total">
                        <span class="summary-label">Valor Total Mensal:</span>
                        <span class="summary-value" id="total-benefits">R$ 0</span>
                    </div>
                </div>
            </div>
        `,e.innerHTML=t,this.attachCalculatorEvents(e),this.updateBenefitsCalculation(e))}attachCalculatorEvents(t){t.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("change",()=>{this.updateBenefitsCalculation(t)})})}updateBenefitsCalculation(e){var t=Array.from(e.querySelectorAll('input[type="checkbox"]:checked')).map(e=>e.value),t=this.calculateBenefitsValue(t);e.querySelector("#monthly-benefits").textContent="R$ "+t.monthly.toLocaleString("pt-BR"),e.querySelector("#annual-benefits").textContent="R$ "+t.annual.toLocaleString("pt-BR"),e.querySelector("#total-benefits").textContent="R$ "+Math.round(t.monthlyEquivalent).toLocaleString("pt-BR")}createMarketComparison(e,t,a){var i,a=document.getElementById(a);a&&((e=this.marketData[e.toLowerCase().replace(/\s+/g,"-")])?(t=`
            <div class="market-comparison">
                <h3>üìä Comparativo com Mercado</h3>
                <div class="salary-range">
                    <div class="range-bar">
                        <div class="range-fill" style="width: ${(i=this.calculateMarketPosition(t,e)).percentile}%"></div>
                        <div class="salary-marker" style="left: ${i.percentile}%">
                            <span class="marker-value">R$ ${t.toLocaleString("pt-BR")}</span>
                        </div>
                    </div>
                    <div class="range-labels">
                        <span>R$ ${e.min.toLocaleString("pt-BR")}</span>
                        <span>R$ ${e.median.toLocaleString("pt-BR")}</span>
                        <span>R$ ${e.max.toLocaleString("pt-BR")}</span>
                    </div>
                </div>
                <div class="comparison-stats">
                    <div class="stat-item">
                        <span class="stat-label">Posi√ß√£o no Mercado:</span>
                        <span class="stat-value ${i.class}">${i.position}</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Diferen√ßa da Mediana:</span>
                        <span class="stat-value">${i.difference}</span>
                    </div>
                </div>
            </div>
        `,a.innerHTML=t):a.innerHTML="<p>Dados de mercado n√£o dispon√≠veis para esta posi√ß√£o.</p>")}calculateMarketPosition(e,t){var a=Math.min(100,Math.max(0,(e-t.min)/(t.max-t.min)*100));let i,o;o=80<=a?(i="Acima do Mercado","above-market"):40<=a?(i="Dentro da M√©dia","average-market"):(i="Abaixo do Mercado","below-market");e-=t.median,t=0<=e?"+R$ "+e.toLocaleString("pt-BR"):"-R$ "+Math.abs(e).toLocaleString("pt-BR");return{percentile:a,position:i,class:o,difference:t}}createSalaryTransparencySection(e,t){t=document.getElementById(t);t&&(e=`
            <div class="salary-transparency-section">
                <h3>üíé Transpar√™ncia Salarial</h3>
                <div class="transparency-grid">
                    <div class="salary-ranges">
                        <h4>Faixas Salariais por Cargo</h4>
                        ${e.positions?.map(e=>`
                            <div class="position-salary">
                                <span class="position-name">${e.title}</span>
                                <span class="salary-range">
                                    R$ ${e.salaryMin.toLocaleString("pt-BR")} - 
                                    R$ ${e.salaryMax.toLocaleString("pt-BR")}
                                </span>
                            </div>
                        `).join("")||"<p>Informa√ß√µes n√£o dispon√≠veis</p>"}
                    </div>
                    <div class="investment-info">
                        <h4>Investimento em Funcion√°rios</h4>
                        <div class="investment-stats">
                            <div class="investment-item">
                                <span class="investment-icon">üìö</span>
                                <div class="investment-details">
                                    <span class="investment-label">Treinamentos/ano</span>
                                    <span class="investment-value">R$ ${e.trainingBudget?.toLocaleString("pt-BR")||"5.000"}</span>
                                </div>
                            </div>
                            <div class="investment-item">
                                <span class="investment-icon">üìà</span>
                                <div class="investment-details">
                                    <span class="investment-label">Taxa de Promo√ß√£o</span>
                                    <span class="investment-value">${e.promotionRate||"25"}%</span>
                                </div>
                            </div>
                            <div class="investment-item">
                                <span class="investment-icon">‚è±Ô∏è</span>
                                <div class="investment-details">
                                    <span class="investment-label">Tempo M√©dio na Empresa</span>
                                    <span class="investment-value">${e.avgTenure||"3.2"} anos</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `,t.innerHTML=e)}}let salaryTransparencyCSS=`
.benefits-calculator {
    background: #f8fafc;
    border-radius: 12px;
    padding: 24px;
    margin: 20px 0;
}

.benefits-calculator h3 {
    margin-bottom: 20px;
    color: #1f2937;
    font-size: 20px;
}

.benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 12px;
    margin-bottom: 24px;
}

.benefit-item {
    background: white;
    border-radius: 8px;
    padding: 12px;
    border: 2px solid #e5e7eb;
    transition: all 0.2s ease;
}

.benefit-item:hover {
    border-color: #8b5cf6;
    transform: translateY(-2px);
}

.benefit-checkbox {
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    width: 100%;
}

.benefit-checkbox input[type="checkbox"] {
    width: 20px;
    height: 20px;
    accent-color: #8b5cf6;
}

.benefit-info {
    display: flex;
    flex-direction: column;
    flex: 1;
}

.benefit-name {
    font-weight: 600;
    color: #374151;
    font-size: 14px;
}

.benefit-value {
    color: #10b981;
    font-weight: 700;
    font-size: 13px;
}

.benefits-summary {
    background: white;
    border-radius: 8px;
    padding: 20px;
    border: 2px solid #e5e7eb;
}

.summary-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid #f3f4f6;
}

.summary-item:last-child {
    border-bottom: none;
}

.summary-item.total {
    border-top: 2px solid #8b5cf6;
    margin-top: 12px;
    padding-top: 16px;
    font-weight: 700;
    font-size: 16px;
}

.summary-label {
    color: #6b7280;
}

.summary-value {
    color: #10b981;
    font-weight: 600;
}

.market-comparison {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 12px;
    padding: 24px;
    color: white;
    margin: 20px 0;
}

.market-comparison h3 {
    margin-bottom: 20px;
    font-size: 20px;
}

.salary-range {
    margin-bottom: 20px;
}

.range-bar {
    position: relative;
    height: 12px;
    background: rgba(255,255,255,0.2);
    border-radius: 6px;
    margin-bottom: 12px;
}

.range-fill {
    height: 100%;
    background: linear-gradient(90deg, #ef4444, #f59e0b, #10b981);
    border-radius: 6px;
    transition: width 0.3s ease;
}

.salary-marker {
    position: absolute;
    top: -8px;
    transform: translateX(-50%);
    background: white;
    color: #1f2937;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 700;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.range-labels {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    opacity: 0.8;
}

.comparison-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
}

.stat-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(255,255,255,0.1);
    padding: 12px;
    border-radius: 8px;
}

.stat-value.above-market { color: #10b981; }
.stat-value.average-market { color: #f59e0b; }
.stat-value.below-market { color: #ef4444; }

.salary-transparency-section {
    background: #f8fafc;
    border-radius: 12px;
    padding: 24px;
    margin: 20px 0;
}

.transparency-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
}

.position-salary {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    background: white;
    border-radius: 8px;
    margin-bottom: 8px;
    border-left: 4px solid #8b5cf6;
}

.position-name {
    font-weight: 600;
    color: #374151;
}

.salary-range {
    color: #10b981;
    font-weight: 700;
}

.investment-stats {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.investment-item {
    display: flex;
    align-items: center;
    gap: 12px;
    background: white;
    padding: 16px;
    border-radius: 8px;
}

.investment-icon {
    font-size: 24px;
    width: 40px;
    text-align: center;
}

.investment-details {
    display: flex;
    flex-direction: column;
}

.investment-label {
    font-size: 14px;
    color: #6b7280;
}

.investment-value {
    font-weight: 700;
    color: #8b5cf6;
    font-size: 16px;
}

@media (max-width: 768px) {
    .transparency-grid {
        grid-template-columns: 1fr;
    }
    
    .benefits-grid {
        grid-template-columns: 1fr;
    }
}
`;if(!document.getElementById("salary-transparency-styles")){let style=document.createElement("style");style.id="salary-transparency-styles",style.textContent=salaryTransparencyCSS,document.head.appendChild(style)}window.salaryTransparencySystem=new SalaryTransparencySystem;class ServicesManager{constructor(){this.storageKey="claunnetworkingworking_services",this.listeners=[],this.initializeDefaultServices(),this.setupStorageListener()}initializeDefaultServices(){var e;localStorage.getItem(this.storageKey)||(e={candidate:[{id:"curriculo-revisao",title:"Revis√£o de Curr√≠culo",description:"An√°lise completa e otimiza√ß√£o do seu curr√≠culo por especialistas em RH.",price:89.9,features:["An√°lise detalhada do curr√≠culo","Sugest√µes de melhorias","Formata√ß√£o profissional","Palavras-chave otimizadas"],category:"premium",active:!0,partnerUrl:"https://parceiro.com.br/curriculo-revisao",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"mentoria-carreira",title:"Mentoria de Carreira",description:"Sess√£o individual com mentor especializado para acelerar sua carreira.",price:199.9,features:["Sess√£o de 1h com mentor","Plano de carreira personalizado","Networking estrat√©gico","Acompanhamento por 30 dias"],category:"premium",active:!0,partnerUrl:"https://parceiro.com.br/mentoria-carreira",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"simulacao-entrevista",title:"Simula√ß√£o de Entrevista",description:"Treinamento pr√°tico com feedback detalhado para entrevistas de emprego.",price:149.9,features:["Simula√ß√£o real√≠stica","Feedback detalhado","Dicas de postura e comunica√ß√£o","Grava√ß√£o da sess√£o"],category:"premium",active:!0,partnerUrl:"https://parceiro.com.br/simulacao-entrevista",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}],company:[{id:"divulgacao-premium",title:"Divulga√ß√£o Premium de Vagas",description:"Destaque suas vagas no topo da plataforma e alcance mais candidatos qualificados.",price:299.9,features:["Posi√ß√£o de destaque por 30 dias","Alcance 5x maior",'Badge "Vaga Premium"',"Relat√≥rio de performance"],category:"premium",active:!0,partnerUrl:"https://parceiro.com.br/divulgacao-premium",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"analise-candidatos",title:"An√°lise de Perfil de Candidatos",description:"Receba an√°lises detalhadas dos perfis dos candidatos com scoring autom√°tico.",price:199.9,features:["Scoring autom√°tico de candidatos","An√°lise de compatibilidade","Relat√≥rio de soft skills","Recomenda√ß√µes de contrata√ß√£o"],category:"premium",active:!0,partnerUrl:"https://parceiro.com.br/analise-candidatos",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"consultoria-rh",title:"Consultoria em Recrutamento",description:"Consultoria especializada para otimizar seus processos de recrutamento e sele√ß√£o.",price:499.9,features:["Sess√£o de 2h com especialista","An√°lise do processo atual","Plano de melhoria personalizado","Suporte por 30 dias"],category:"premium",active:!0,partnerUrl:"https://parceiro.com.br/consultoria-rh",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{id:"entrevistas-video",title:"Entrevistas por V√≠deo",description:"Plataforma integrada para realizar entrevistas por v√≠deo com candidatos.",price:149.9,features:["Sala de entrevista virtual","Grava√ß√£o das entrevistas","Compartilhamento com equipe","Agendamento autom√°tico"],category:"premium",active:!0,partnerUrl:"https://parceiro.com.br/entrevistas-video",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}]},this.saveServices(e))}setupStorageListener(){window.addEventListener("storage",e=>{e.key===this.storageKey&&this.notifyListeners()}),window.addEventListener("services-updated",()=>{this.notifyListeners()})}saveServices(e){localStorage.setItem(this.storageKey,JSON.stringify(e)),this.dispatchUpdateEvent()}loadServices(){var e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):{candidate:[],company:[]}}dispatchUpdateEvent(){window.dispatchEvent(new CustomEvent("services-updated"))}addListener(e){this.listeners.push(e)}removeListener(t){this.listeners=this.listeners.filter(e=>e!==t)}notifyListeners(){this.listeners.forEach(e=>e(this.loadServices()))}getAllServices(){return this.loadServices()}getServicesByType(e){return this.loadServices()[e]||[]}getServiceById(t,e=null){var a=this.loadServices();return e?a[e]?.find(e=>e.id===t):(e=a.candidate?.find(e=>e.id===t),a=a.company?.find(e=>e.id===t),e||a)}addService(e,t){var a=this.loadServices(),t={id:this.generateId(),...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),active:!0};return a[e]||(a[e]=[]),a[e].push(t),this.saveServices(a),t}updateService(t,e,a){var i,o=this.loadServices();return!o[e]||-1===(i=o[e].findIndex(e=>e.id===t))?null:(o[e][i]={...o[e][i],...a,updatedAt:(new Date).toISOString()},this.saveServices(o),o[e][i])}removeService(t,e){var a,i=this.loadServices();return!!i[e]&&-1!==(a=i[e].findIndex(e=>e.id===t))&&(i[e].splice(a,1),this.saveServices(i),!0)}toggleServiceStatus(t,e){var a,i=this.loadServices();return!i[e]||-1===(a=i[e].findIndex(e=>e.id===t))?null:(i[e][a].active=!i[e][a].active,i[e][a].updatedAt=(new Date).toISOString(),this.saveServices(i),i[e][a])}generateId(){return"service_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}getActiveServices(e){return this.getServicesByType(e).filter(e=>e.active)}searchServices(e,t=null){var a=t?this.getServicesByType(t):this.getAllServices();let i=e.toLowerCase();e=e=>e.filter(e=>e.title.toLowerCase().includes(i)||e.description.toLowerCase().includes(i)||e.features.some(e=>e.toLowerCase().includes(i)));return t?e(a):{candidate:e(a.candidate||[]),company:e(a.company||[])}}exportServices(){return{services:this.loadServices(),exportDate:(new Date).toISOString(),version:"1.0"}}importServices(e){return!!e.services&&(this.saveServices(e.services),!0)}}window.servicesManager=new ServicesManager,"undefined"!=typeof module&&module.exports&&(module.exports=ServicesManager);class SmartPersonalizationSystem{constructor(){this.userProfile=this.loadUserProfile(),this.behaviorData=this.loadBehaviorData(),this.preferences=this.loadPreferences(),this.recommendations=[],this.contentFilters={},this.init()}init(){this.detectUserType(),this.trackUserBehavior(),this.personalizeContent(),this.setupRecommendationEngine(),this.initializeAdaptiveUI(),this.startLearningLoop()}detectUserType(){var e=window.location.pathname,t=(navigator.userAgent,(new Date).getHours());e.includes("candidato")?(this.userProfile.type="candidate",this.userProfile.context="job_search"):e.includes("empresa")||e.includes("company")?(this.userProfile.type="company",this.userProfile.context="recruitment"):e.includes("instituicao")||e.includes("institution")?(this.userProfile.type="institution",this.userProfile.context="education"):e.includes("admin")&&(this.userProfile.type="admin",this.userProfile.context="management"),this.userProfile.device=this.detectDevice(),this.userProfile.timeOfDay=this.getTimeContext(t),this.saveUserProfile()}detectDevice(){var e=window.innerWidth;return e<=768?"mobile":e<=1024?"tablet":"desktop"}getTimeContext(e){return 6<=e&&e<12?"morning":12<=e&&e<18?"afternoon":18<=e&&e<22?"evening":"night"}trackUserBehavior(){document.addEventListener("click",e=>{this.recordInteraction("click",{element:e.target.tagName,className:e.target.className,id:e.target.id,text:e.target.textContent?.substring(0,50),timestamp:Date.now()})}),this.startTime=Date.now(),window.addEventListener("beforeunload",()=>{var e=Date.now()-this.startTime;this.recordInteraction("page_time",{duration:e,page:window.location.pathname,timestamp:Date.now()})});let e;window.addEventListener("scroll",()=>{clearTimeout(e),e=setTimeout(()=>{var e=window.scrollY/(document.body.scrollHeight-window.innerHeight)*100;this.recordInteraction("scroll",{percent:Math.round(e),timestamp:Date.now()})},100)}),document.addEventListener("focus",e=>{"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName||this.recordInteraction("focus",{field:e.target.name||e.target.id,type:e.target.type,timestamp:Date.now()})},!0),document.querySelectorAll('input[type="search"], input[name*="search"], input[placeholder*="pesquis"]').forEach(e=>{e.addEventListener("input",e=>{2<e.target.value.length&&this.recordInteraction("search",{query:e.target.value,field:e.target.name||e.target.id,timestamp:Date.now()})})})}recordInteraction(e,t){this.behaviorData.interactions||(this.behaviorData.interactions=[]),this.behaviorData.interactions.push({type:e,data:t,sessionId:this.getSessionId(),userType:this.userProfile.type}),1e3<this.behaviorData.interactions.length&&(this.behaviorData.interactions=this.behaviorData.interactions.slice(-1e3)),this.saveBehaviorData(),this.updatePersonalization()}personalizeContent(){this.personalizeNavigation(),this.personalizeCards(),this.personalizeRecommendations(),this.personalizeFilters(),this.personalizeLayout()}personalizeNavigation(){var e=document.querySelector("nav, .navigation");if(e){this.userProfile.type;let a=this.getFrequentPages();var t=e.querySelectorAll("a"),t=Array.from(t);t.sort((e,t)=>{e=a[e.getAttribute("href")]||0;return(a[t.getAttribute("href")]||0)-e}),t.forEach((e,t)=>{t<3&&5<a[e.getAttribute("href")]&&(e.querySelector(".frequent-indicator")||((t=document.createElement("span")).className="frequent-indicator",t.innerHTML="‚≠ê",t.title="P√°gina frequente",e.appendChild(t)))}),this.addPersonalizedShortcuts(e)}}addPersonalizedShortcuts(e){var t,a=this.generateShortcuts();0<a.length&&((t=document.createElement("div")).className="personalized-shortcuts",t.innerHTML=`
                <div class="shortcuts-header">
                    <span>üöÄ Atalhos para voc√™</span>
                    <button onclick="personalization.hideShortcuts()" class="hide-shortcuts">√ó</button>
                </div>
                <div class="shortcuts-list">
                    ${a.map(e=>`
                        <a href="${e.url}" class="shortcut-item" title="${e.description}">
                            <span class="shortcut-icon">${e.icon}</span>
                            <span class="shortcut-text">${e.text}</span>
                        </a>
                    `).join("")}
                </div>
            `,e.appendChild(t))}generateShortcuts(){var e=this.userProfile.type,t=this.getRecentSearches(),a=[];return"candidate"===e?(t.some(e=>e.includes("desenvolvedor"))&&a.push({url:"/vagas.html?area=tecnologia",icon:"üíª",text:"Vagas Tech",description:"Vagas em tecnologia baseadas no seu interesse"}),a.push({url:"/candidato_painel.html#profile",icon:"üë§",text:"Meu Perfil",description:"Acesso r√°pido ao seu perfil"})):"company"===e&&(a.push({url:"/buscar_candidatos.html",icon:"üîç",text:"Buscar Talentos",description:"Encontre candidatos ideais"}),a.push({url:"/company_dashboard.html#analytics",icon:"üìä",text:"M√©tricas",description:"Acompanhe suas m√©tricas de recrutamento"})),a.slice(0,4)}personalizeCards(){document.querySelectorAll('.card, [class*="card"]').forEach(e=>{this.enhanceCard(e)})}enhanceCard(e){var t=this.extractCardData(e),a=this.calculateRelevance(t);.7<a?(e.classList.add("high-relevance"),this.addRelevanceIndicator(e,"high")):.4<a&&(e.classList.add("medium-relevance"),this.addRelevanceIndicator(e,"medium")),this.addContextualInfo(e,t),this.personalizeCardActions(e,t)}extractCardData(e){return{title:e.querySelector("h1, h2, h3, h4, h5, h6")?.textContent||"",content:e.textContent||"",links:Array.from(e.querySelectorAll("a")).map(e=>e.href),type:this.inferCardType(e)}}inferCardType(e){e=e.textContent.toLowerCase();return e.includes("vaga")||e.includes("emprego")?"job":e.includes("empresa")||e.includes("company")?"company":e.includes("curso")||e.includes("educa√ß√£o")?"course":e.includes("candidato")||e.includes("perfil")?"candidate":"general"}calculateRelevance(t){let a=0;var e=this.getUserInterests(),i=this.getRecentSearches(),e=(e.forEach(e=>{t.content.toLowerCase().includes(e.toLowerCase())&&(a+=e.weight||.3)}),i.forEach(e=>{t.content.toLowerCase().includes(e.toLowerCase())&&(a+=.2)}),this.userProfile.type);return"candidate"===e&&"job"===t.type&&(a+=.3),"company"===e&&"candidate"===t.type&&(a+=.3),"institution"===e&&"course"===t.type&&(a+=.3),Math.min(a,1)}addRelevanceIndicator(e,t){var a;e.querySelector(".relevance-indicator")||(t={high:{icon:"üéØ",text:"Alta compatibilidade",color:"#10b981"},medium:{icon:"‚ú®",text:"Boa compatibilidade",color:"#f59e0b"}}[t],(a=document.createElement("div")).className="relevance-indicator",a.innerHTML=`
            <span class="relevance-icon">${t.icon}</span>
            <span class="relevance-text">${t.text}</span>
        `,a.style.cssText=`
            position: absolute;
            top: 8px;
            right: 8px;
            background: ${t.color};
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
            z-index: 10;
        `,e.style.position="relative",e.appendChild(a))}addContextualInfo(e,t){var a,t=this.generateContextInfo(t);t&&((a=document.createElement("div")).className="contextual-info",a.innerHTML=t,a.style.cssText=`
                background: #f3f4f6;
                padding: 8px 12px;
                border-radius: 6px;
                font-size: 12px;
                color: #6b7280;
                margin-top: 8px;
                border-left: 3px solid #8b5cf6;
            `,e.appendChild(a))}generateContextInfo(e){var t=this.userProfile.type,a=this.userProfile.timeOfDay;if("candidate"===t&&"job"===e.type){var i=this.getMatchReasons(e);if(0<i.length)return"üí° Compat√≠vel porque: "+i.join(", ")}return"morning"===a&&"course"===e.type?"üåÖ √ìtimo momento para aprender algo novo!":"company"===t&&"candidate"===e.type?"üéØ Candidato com perfil alinhado √†s suas buscas recentes":null}getMatchReasons(t){let a=[];var e=this.getUserSkills(),i=this.getUserInterests();return e.forEach(e=>{t.content.toLowerCase().includes(e.toLowerCase())&&a.push("tem experi√™ncia em "+e)}),i.forEach(e=>{t.content.toLowerCase().includes(e.toLowerCase())&&a.push("interesse em "+e)}),a.slice(0,2)}personalizeCardActions(e,t){let a=e.querySelector(".card-actions, .actions");a&&this.generatePersonalizedActions(t).forEach(e=>{var t=document.createElement("button");t.className="personalized-action",t.innerHTML=e.icon+" "+e.text,t.onclick=e.handler,t.style.cssText=`
                background: #8b5cf6;
                color: white;
                border: none;
                padding: 6px 12px;
                border-radius: 6px;
                font-size: 12px;
                cursor: pointer;
                margin-left: 8px;
            `,a.appendChild(t)})}generatePersonalizedActions(e){var t=[],a=this.userProfile.type;return"candidate"===a&&"job"===e.type&&(t.push({icon:"üíæ",text:"Salvar",handler:()=>this.saveItem(e)}),t.push({icon:"üì§",text:"Compartilhar",handler:()=>this.shareItem(e)})),"company"===a&&"candidate"===e.type&&t.push({icon:"‚≠ê",text:"Favoritar",handler:()=>this.favoriteCandidate(e)}),t}setupRecommendationEngine(){this.generateRecommendations(),this.displayRecommendations(),setInterval(()=>{this.generateRecommendations(),this.updateRecommendationDisplay()},3e5)}generateRecommendations(){var e=this.userProfile.type;this.getUserInterests(),this.getRecentActivity();this.recommendations=[],"candidate"===e?(this.recommendations.push(...this.generateJobRecommendations()),this.recommendations.push(...this.generateCourseRecommendations()),this.recommendations.push(...this.generateCompanyRecommendations())):"company"===e?(this.recommendations.push(...this.generateCandidateRecommendations()),this.recommendations.push(...this.generateServiceRecommendations())):"institution"===e&&(this.recommendations.push(...this.generateStudentRecommendations()),this.recommendations.push(...this.generatePartnershipRecommendations())),this.recommendations.sort((e,t)=>t.relevance-e.relevance),this.recommendations=this.recommendations.slice(0,10)}generateJobRecommendations(){this.getUserSkills();var e=this.getUserLocation();return[{type:"job",title:"Desenvolvedor Frontend React",company:"TechCorp",location:e||"S√£o Paulo, SP",relevance:.9,reason:"Combina com suas habilidades em React",url:"/vaga/123"},{type:"job",title:"UX/UI Designer",company:"DesignStudio",location:e||"S√£o Paulo, SP",relevance:.8,reason:"Baseado no seu interesse em design",url:"/vaga/124"}]}generateCourseRecommendations(){return[{type:"course",title:"Curso Avan√ßado de React",provider:"TechEducation",duration:"40 horas",relevance:.85,reason:"Para aprimorar suas habilidades atuais",url:"/curso/react-avancado"}]}generateCompanyRecommendations(){return[{type:"company",title:"TechCorp",sector:"Tecnologia",size:"100-500 funcion√°rios",relevance:.75,reason:"Empresa com cultura similar ao seu perfil",url:"/empresa/techcorp"}]}generateCandidateRecommendations(){return[{type:"candidate",title:"Ana Silva - Desenvolvedora Frontend",skills:["React","JavaScript","CSS"],experience:"3 anos",relevance:.9,reason:"Perfil ideal para suas vagas em aberto",url:"/candidato/ana-silva"}]}generateServiceRecommendations(){return[{type:"service",title:"Plano Professional",features:["Busca avan√ßada","Relat√≥rios detalhados"],relevance:.7,reason:"Baseado no seu volume de contrata√ß√µes",url:"/planos#professional"}]}generateStudentRecommendations(){return[{type:"student",title:"Jo√£o Santos - Estudante de Engenharia",course:"Engenharia de Software",semester:"6¬∫ semestre",relevance:.8,reason:"Interessado em seus cursos de tecnologia",url:"/estudante/joao-santos"}]}generatePartnershipRecommendations(){return[{type:"partnership",type:"Est√°gio",title:"Parceria com TechCorp",benefits:["Vagas exclusivas","Mentoria"],relevance:.75,reason:"Empresa alinhada com seu perfil de cursos",url:"/parcerias/techcorp"}]}displayRecommendations(){var e=this.createRecommendationsContainer();e&&document.body.appendChild(e)}createRecommendationsContainer(){var e;return 0===this.recommendations.length?null:((e=document.createElement("div")).id="smart-recommendations",e.className="smart-recommendations",e.innerHTML=`
            <div class="recommendations-header">
                <h3>üéØ Recomendado para voc√™</h3>
                <button onclick="personalization.hideRecommendations()" class="hide-recommendations">√ó</button>
            </div>
            <div class="recommendations-list">
                ${this.recommendations.slice(0,5).map(e=>`
                    <div class="recommendation-item" data-type="${e.type}">
                        <div class="recommendation-content">
                            <h4>${e.title}</h4>
                            <p class="recommendation-details">
                                ${this.formatRecommendationDetails(e)}
                            </p>
                            <p class="recommendation-reason">üí° ${e.reason}</p>
                        </div>
                        <div class="recommendation-actions">
                            <button onclick="personalization.openRecommendation('${e.url}')" class="rec-action primary">
                                Ver
                            </button>
                            <button onclick="personalization.dismissRecommendation('${e.type}-${e.title}')" class="rec-action secondary">
                                Dispensar
                            </button>
                        </div>
                    </div>
                `).join("")}
            </div>
            <div class="recommendations-footer">
                <button onclick="personalization.showAllRecommendations()" class="show-all-rec">
                    Ver todas as recomenda√ß√µes (${this.recommendations.length})
                </button>
            </div>
        `,this.styleRecommendationsContainer(e),e)}formatRecommendationDetails(e){switch(e.type){case"job":return e.company+" ‚Ä¢ "+e.location;case"course":return e.provider+" ‚Ä¢ "+e.duration;case"company":return e.sector+" ‚Ä¢ "+e.size;case"candidate":return e.skills.join(", ")+" ‚Ä¢ "+e.experience;case"service":return e.features.join(", ");case"student":return e.course+" ‚Ä¢ "+e.semester;case"partnership":return e.type+" ‚Ä¢ "+e.benefits.join(", ");default:return""}}styleRecommendationsContainer(e){e.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            width: 350px;
            max-height: 80vh;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 9999;
            overflow: hidden;
            border: 1px solid #e5e7eb;
        `}initializeAdaptiveUI(){this.adaptColors(),this.adaptLayout(),this.adaptContent(),this.adaptInteractions()}adaptColors(){var e=this.preferences.colorScheme||"auto",e=(("dark"===e||"auto"===e&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add("dark-mode"),this.userProfile.type),t={candidate:"#8b5cf6",company:"#10b981",institution:"#f59e0b",admin:"#ef4444"};t[e]&&document.documentElement.style.setProperty("--primary-color",t[e])}adaptLayout(){var e=this.userProfile.device,t=this.getFrequentSections();"mobile"===e&&(document.body.classList.add("mobile-optimized"),this.prioritizeMobileActions()),this.reorderSections(t)}prioritizeMobileActions(){document.querySelectorAll("button, .btn").forEach(e=>{(e.textContent.includes("Candidatar")||e.textContent.includes("Contatar")||e.textContent.includes("Ver"))&&(e.style.order="-1")})}reorderSections(a){document.querySelectorAll('.section, .container, [class*="section"]').forEach(e=>{e=e.children;Array.from(e).sort((e,t)=>{e=a[e.id]||0;return(a[t.id]||0)-e})})}adaptContent(){var e=this.userProfile.timeOfDay,t=this.userProfile.type;this.adaptGreetings(e),this.adaptContentSuggestions(t,e)}adaptGreetings(t){let a={morning:"Bom dia",afternoon:"Boa tarde",evening:"Boa noite",night:"Boa madrugada"};document.querySelectorAll("[data-greeting]").forEach(e=>{e.textContent=a[t]||"Ol√°"})}adaptContentSuggestions(e,t){e=this.generateContentSuggestions(e,t);this.displayContentSuggestions(e)}generateContentSuggestions(e,t){var a=[];return"candidate"===e?"morning"===t?(a.push("üìÖ Que tal verificar novas vagas hoje?"),a.push("‚òï Bom momento para atualizar seu perfil")):"evening"===t&&(a.push("üìö Hora perfeita para fazer um curso"),a.push("üéØ Revise suas candidaturas do dia")):"company"===e&&"morning"===t&&(a.push("üìä Confira as m√©tricas de ontem"),a.push("üë• Novos candidatos podem ter se cadastrado")),a}displayContentSuggestions(e){0!==e.length&&((document.querySelector(".suggestions-container")||this.createSuggestionsContainer()).innerHTML=`
            <h4>üí° Sugest√µes para voc√™</h4>
            <ul>
                ${e.map(e=>`<li>${e}</li>`).join("")}
            </ul>
        `)}createSuggestionsContainer(){var e=document.createElement("div"),t=(e.className="suggestions-container",e.style.cssText=`
            background: #f9fafb;
            padding: 16px;
            border-radius: 8px;
            margin: 16px 0;
            border-left: 4px solid #8b5cf6;
        `,document.querySelector("main, .main-content")||document.body);return t.insertBefore(e,t.firstChild),e}adaptInteractions(){"mobile"===this.userProfile.device&&(this.enableSwipeGestures(),this.optimizeTouchTargets()),this.enableKeyboardShortcuts(),this.enableVoiceCommands()}enableSwipeGestures(){}optimizeTouchTargets(){document.querySelectorAll("button, a, input, select").forEach(e=>{e.getBoundingClientRect().height<44&&(e.style.minHeight="44px",e.style.display="flex",e.style.alignItems="center")})}enableKeyboardShortcuts(){document.addEventListener("keydown",e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"k":e.preventDefault(),this.openQuickSearch();break;case"h":e.preventDefault(),this.showHelp();break;case"r":e.preventDefault(),this.showRecommendations()}})}enableVoiceCommands(){var e;"webkitSpeechRecognition"in window&&((e=new webkitSpeechRecognition).continuous=!1,e.interimResults=!1,e.lang="pt-BR",this.addVoiceCommandButton(e))}addVoiceCommandButton(e){let t=document.createElement("button");t.className="voice-command-btn",t.innerHTML="üé§",t.title="Comando de voz (Ctrl+V)",t.style.cssText=`
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #8b5cf6;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 20px;
            z-index: 9998;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        `,t.addEventListener("click",()=>{e.start(),t.innerHTML="üî¥",t.style.background="#ef4444"}),e.onresult=e=>{e=e.results[0][0].transcript.toLowerCase();this.processVoiceCommand(e),t.innerHTML="üé§",t.style.background="#8b5cf6"},e.onerror=()=>{t.innerHTML="üé§",t.style.background="#8b5cf6"},document.body.appendChild(t),document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&"v"===e.key&&(e.preventDefault(),t.click())})}processVoiceCommand(e){e.includes("buscar")||e.includes("procurar")?this.openQuickSearch():e.includes("perfil")?window.location.href="/candidato_painel.html":e.includes("vagas")?window.location.href="/vagas.html":e.includes("empresas")?window.location.href="/buscar_empresas.html":e.includes("cursos")?window.location.href="/cursos-gratuitos.html":e.includes("ajuda")?this.showHelp():alert(`Comando n√£o reconhecido: "${e}"`)}startLearningLoop(){setInterval(()=>{this.updatePersonalization()},3e5),setInterval(()=>{this.saveAllData()},6e4),setInterval(()=>{this.cleanOldData()},864e5)}updatePersonalization(){this.analyzeUserBehavior(),this.updateUserInterests(),this.updatePreferences(),this.generateRecommendations(),this.updateRecommendationDisplay()}analyzeUserBehavior(){var e=(this.behaviorData.interactions||[]).filter(e=>Date.now()-e.data.timestamp<36e5),t=this.analyzeClickPatterns(e),a=this.analyzeTimePatterns(e),e=this.analyzeSearchPatterns(e);this.updateUserProfileFromAnalysis({clickPatterns:t,timePatterns:a,searchPatterns:e})}analyzeClickPatterns(e){e=e.filter(e=>"click"===e.type);let t={};return e.forEach(e=>{e=e.data.className||e.data.element;t[e]=(t[e]||0)+1}),t}analyzeTimePatterns(e){e=e.filter(e=>"page_time"===e.type);let a={};return e.forEach(e=>{var t=e.data.page;a[t]=(a[t]||0)+e.data.duration}),a}analyzeSearchPatterns(e){e=e.filter(e=>"search"===e.type);let t={};return e.forEach(e=>{e.data.query.toLowerCase().split(" ").forEach(e=>{2<e.length&&(t[e]=(t[e]||0)+1)})}),t}updateUserProfileFromAnalysis(a){Object.keys(a.searchPatterns).forEach(e=>{var t=.1*a.searchPatterns[e];this.addUserInterest(e,t)}),Object.keys(a.timePatterns).forEach(e=>{this.addFrequentPage(e,a.timePatterns[e])}),this.saveUserProfile()}getSessionId(){return this.sessionId||(this.sessionId="session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)),this.sessionId}getUserInterests(){return this.userProfile.interests||[]}getUserSkills(){return this.userProfile.skills||[]}getUserLocation(){return this.userProfile.location||null}getRecentSearches(){return(this.behaviorData.interactions?.filter(e=>"search"===e.type)||[]).slice(-10).map(e=>e.data.query)}getRecentActivity(){return this.behaviorData.interactions?.filter(e=>Date.now()-e.data.timestamp<864e5)||[]}getFrequentPages(){return this.behaviorData.frequentPages||{}}getFrequentSections(){return this.behaviorData.frequentSections||{}}addUserInterest(t,e=.1){this.userProfile.interests||(this.userProfile.interests=[]);var a=this.userProfile.interests.find(e=>e.term===t);a?a.weight=Math.min(a.weight+e,1):this.userProfile.interests.push({term:t,weight:e}),this.userProfile.interests.sort((e,t)=>t.weight-e.weight),this.userProfile.interests=this.userProfile.interests.slice(0,20)}addFrequentPage(e,t){this.behaviorData.frequentPages||(this.behaviorData.frequentPages={}),this.behaviorData.frequentPages[e]=(this.behaviorData.frequentPages[e]||0)+t/1e3}openQuickSearch(){alert("üîç Busca r√°pida seria aberta aqui (Ctrl+K)")}showHelp(){alert("‚ùì Central de ajuda seria aberta aqui (Ctrl+H)")}showRecommendations(){var e=document.getElementById("smart-recommendations");e&&(e.style.display="none"===e.style.display?"block":"none")}hideRecommendations(){var e=document.getElementById("smart-recommendations");e&&(e.style.display="none")}hideShortcuts(){var e=document.querySelector(".personalized-shortcuts");e&&(e.style.display="none")}openRecommendation(e){window.location.href=e}dismissRecommendation(t){this.preferences.dismissedRecommendations||(this.preferences.dismissedRecommendations=[]),this.preferences.dismissedRecommendations.push(t),this.savePreferences(),this.recommendations=this.recommendations.filter(e=>e.type+"-"+e.title!==t),this.updateRecommendationDisplay()}showAllRecommendations(){alert(`üìã Todas as ${this.recommendations.length} recomenda√ß√µes seriam exibidas aqui`)}saveItem(e){alert(`üíæ Item "${e.title}" salvo nos favoritos`)}shareItem(e){navigator.share?navigator.share({title:e.title,url:window.location.href}):alert("üì§ Compartilhar: "+e.title)}favoriteCandidate(e){alert(`‚≠ê Candidato "${e.title}" adicionado aos favoritos`)}updateRecommendationDisplay(){var e,t=document.getElementById("smart-recommendations");t&&0<this.recommendations.length?(e=this.createRecommendationsContainer())&&t.replaceWith(e):t&&t.remove()}loadUserProfile(){var e=localStorage.getItem("userProfile");return e?JSON.parse(e):{type:null,context:null,device:null,timeOfDay:null,interests:[],skills:[],location:null}}saveUserProfile(){localStorage.setItem("userProfile",JSON.stringify(this.userProfile))}loadBehaviorData(){var e=localStorage.getItem("behaviorData");return e?JSON.parse(e):{interactions:[],frequentPages:{},frequentSections:{}}}saveBehaviorData(){localStorage.setItem("behaviorData",JSON.stringify(this.behaviorData))}loadPreferences(){var e=localStorage.getItem("userPreferences");return e?JSON.parse(e):{colorScheme:"auto",language:"pt-BR",notifications:!0,dismissedRecommendations:[]}}savePreferences(){localStorage.setItem("userPreferences",JSON.stringify(this.preferences))}saveAllData(){this.saveUserProfile(),this.saveBehaviorData(),this.savePreferences()}cleanOldData(){let t=Date.now()-6048e5;this.behaviorData.interactions&&(this.behaviorData.interactions=this.behaviorData.interactions.filter(e=>e.data.timestamp>t)),this.saveBehaviorData()}reset(){localStorage.removeItem("userProfile"),localStorage.removeItem("behaviorData"),localStorage.removeItem("userPreferences"),location.reload()}}let smartPersonalizationCSS=`
.high-relevance {
    border: 2px solid #10b981 !important;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2) !important;
}

.medium-relevance {
    border: 2px solid #f59e0b !important;
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.2) !important;
}

.frequent-indicator {
    background: #fbbf24;
    color: #92400e;
    padding: 2px 6px;
    border-radius: 10px;
    font-size: 10px;
    margin-left: 8px;
}

.personalized-shortcuts {
    background: #f3f4f6;
    border-radius: 8px;
    padding: 12px;
    margin: 8px 0;
    border-left: 4px solid #8b5cf6;
}

.shortcuts-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
    font-weight: 600;
    font-size: 14px;
}

.hide-shortcuts {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 16px;
    color: #6b7280;
}

.shortcuts-list {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.shortcut-item {
    display: flex;
    align-items: center;
    gap: 4px;
    background: white;
    padding: 6px 10px;
    border-radius: 6px;
    text-decoration: none;
    color: #374151;
    font-size: 12px;
    border: 1px solid #e5e7eb;
    transition: all 0.2s;
}

.shortcut-item:hover {
    background: #8b5cf6;
    color: white;
    transform: translateY(-1px);
}

.smart-recommendations {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.recommendations-header {
    background: #8b5cf6;
    color: white;
    padding: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.recommendations-header h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
}

.hide-recommendations {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    font-size: 20px;
    padding: 0;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.recommendations-list {
    max-height: 400px;
    overflow-y: auto;
}

.recommendation-item {
    padding: 16px;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 12px;
}

.recommendation-item:last-child {
    border-bottom: none;
}

.recommendation-content {
    flex: 1;
}

.recommendation-content h4 {
    margin: 0 0 4px 0;
    font-size: 14px;
    font-weight: 600;
    color: #1f2937;
}

.recommendation-details {
    margin: 0 0 4px 0;
    font-size: 12px;
    color: #6b7280;
}

.recommendation-reason {
    margin: 0;
    font-size: 11px;
    color: #8b5cf6;
    font-style: italic;
}

.recommendation-actions {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.rec-action {
    padding: 4px 8px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 11px;
    font-weight: 600;
    transition: all 0.2s;
}

.rec-action.primary {
    background: #8b5cf6;
    color: white;
}

.rec-action.primary:hover {
    background: #7c3aed;
}

.rec-action.secondary {
    background: #f3f4f6;
    color: #6b7280;
}

.rec-action.secondary:hover {
    background: #e5e7eb;
}

.recommendations-footer {
    padding: 12px 16px;
    background: #f9fafb;
    border-top: 1px solid #e5e7eb;
}

.show-all-rec {
    width: 100%;
    background: none;
    border: 1px solid #d1d5db;
    padding: 8px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 12px;
    color: #6b7280;
    transition: all 0.2s;
}

.show-all-rec:hover {
    background: #f3f4f6;
    border-color: #8b5cf6;
    color: #8b5cf6;
}

.voice-command-btn:hover {
    transform: scale(1.1);
}

.dark-mode {
    background-color: #1f2937;
    color: #f9fafb;
}

.dark-mode .smart-recommendations {
    background: #374151;
    border-color: #4b5563;
}

.dark-mode .recommendation-item {
    border-color: #4b5563;
}

.dark-mode .recommendation-content h4 {
    color: #f9fafb;
}

.dark-mode .recommendations-footer {
    background: #4b5563;
    border-color: #6b7280;
}

@media (max-width: 768px) {
    .smart-recommendations {
        width: 90%;
        right: 5%;
        top: 10px;
    }
    
    .recommendation-item {
        flex-direction: column;
        align-items: stretch;
    }
    
    .recommendation-actions {
        flex-direction: row;
        justify-content: space-between;
        margin-top: 8px;
    }
    
    .personalized-shortcuts {
        margin: 4px 0;
    }
    
    .shortcuts-list {
        justify-content: center;
    }
}
`;if(!document.getElementById("smart-personalization-styles")){let style=document.createElement("style");style.id="smart-personalization-styles",style.textContent=smartPersonalizationCSS,document.head.appendChild(style)}document.addEventListener("DOMContentLoaded",()=>{window.personalization=new SmartPersonalizationSystem}),window.SmartPersonalizationSystem=SmartPersonalizationSystem;